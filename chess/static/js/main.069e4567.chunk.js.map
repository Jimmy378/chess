{"version":3,"sources":["util/model.ts","util/styledComponents.ts","util/theme.ts","store/game/State.ts","util/index.ts","store/game/Actions.ts","store/ApplicationState.ts","store/GlobalActions.ts","store/RootReducer.ts","store/game/Reducer.ts","store/index.ts","components/Footer.tsx","components/canvas.tsx","components/tile.tsx","components/board.tsx","components/pawn.tsx","components/rook.tsx","components/knightWhite.tsx","components/knightBlack.tsx","components/bishop.tsx","components/queen.tsx","components/king.tsx","components/dragContainer.tsx","components/pieces.tsx","components/SillouettePieces.tsx","components/takenPieces.tsx","components/Switch.tsx","components/Slider.tsx","components/TextBox.tsx","views/index.tsx","serviceWorker.ts","index.tsx"],"names":["piece","colour","Message","styled","default","Colours","css","keyframes","createGlobalStyle","ThemeProvider","whiteLight","one","two","three","four","five","whiteDark","blackLight","blackDark","purpleLight","purpleDark","Coords","CenterCoords","InitialState","ActiveTiles","Board","Chess","Pieces","AiOn","Difficulty","getPosFromCoords","coords","index","findIndex","x","getPiecesFromBoard","currentBoard","newBoard","currentPieces","calculatePieces","isSame","gameBoard","pieces","WhitePawnIterator","WhiteRookIterator","WhiteKnightIterator","WhiteBishopIterator","BlackPawnIterator","BlackRookIterator","BlackKnightIterator","BlackBishopIterator","i","board","whitesMove","String","fromCharCode","isWhite","codes","white","pawn","push","White","name","position","gameBoardPosition","isTurn","id","concat","rook","Rook","knight","Knight","bishop","Bishop","queen","Queen","king","King","black","Black","getPieces","originalPosition","newPosition","emptySquare","filter","Piece","newPiece","Object","objectSpread","indexDelete","splice","sort","a","b","setPieces","createAction","resolve","setAiState","state","setDifficulty","value","setMessage","message","setActiveTiles","tiles","setBoard","async","createAsyncAction","action","_this","this","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","getState","wrap","_context","prev","next","request","Game","console","log","toString","success","error","failure","stop","_x","_x2","apply","arguments","movePieceToFront","_this2","_ref2","_callee2","newPieces","indexToRemove","_context2","toConsumableArray","_x3","_x4","game","RootReducer","combineReducers","length","undefined","type","getType","Actions","payload","jsog","JsogService","JSOGTransform","createBrowserHistory","createTransform","inboundState","key","serialize","outboundState","deserialize","persistConfig","storage","transforms","persistedReducer","persistReducer","Container","div","_templateObject","Bottom","_templateObject2","Top","_templateObject3","Credits","_templateObject4","TEMPLATE","react_default","createElement","props","top","bottom","credits","React","Component","SVG","svg","canvas_templateObject","Canvas","ref","setState","xmlns","viewBox","width","height","render","topPoints","rightPoints","leftPoints","basePoints","IconTest","TopRef","StrokeRef","LeftRef","RightRef","BaseRef","OverlayRef","HoverRef","HighlightOn","tl","TimelineMax","add","to","fill","isDark","ease","Power4","easeOut","strokeWidth","transform","HighlightOff","PushDown","attr","points","Overlay","PushUp","Base","polygon","Left","Right","Hover","path","Stroke","click","timeScale","delay","makeActive","makeInactive","onClick","active","prevProps","PosOffset","map","row","rowIndex","column","tile_IconTest","indexOf","connect","Pawn","CircleRef","BackRef","BallRef","TopRingRef","BodyRef","BounceRef","PositionRef","stroke","BounceDown","BounceUp","animatePosition","setDragPosition","TweenMax","set","setInitialPosition","Circle","ellipse","Back","Ball","TopRing","Body","onMouseDown","e","preventDefault","onDrag","onMouseUp","onDrop","onTouchStart","onTouchEnd","dragging","pickedUp","cx","cy","rx","ry","d","style","pointerEvents","draggable","BackCircleRef","FrontCircleRef","SidesRef","BackCircle","Sides","FrontCircle","KnightWhite","HairTopRef","HairBackRef","HairSideRef","HairTop","HairBack","HairSide","FaceRef","NoseRef","Face","Nose","HeadRef","IndentRef","TopCircleFrontRef","TopBaseRef","BottomCircleFrontRef","BottomBaseRef","TopCircleBackRef","BottomCircleBackRef","Head","Indent","TopCircleFront","TopBase","BottomCircleFront","BottomBase","TopCircleBack","BottomCircleBack","PillowRef","TopBackRef","NeckRef","Pillow","TopBack","Neck","circle","r","CrossTopRef","CrossSideRef","CrossFrontRef","CrossBaseRef","CircleFrontRef","CircleBackRef","CrossTop","CrossSide","CrossFront","CrossBase","CircleFront","CircleBack","DragContainer","mousePosition","truePosition","piecesBeforeDrag","pickedUP","onMouseMove","CTM","svgRef","getScreenCTM","pos","clientX","clientY","f","onTouchMove","touches","possibleMoves","findMoves","window","addEventListener","highlightedTile","removeEventListener","applyMove","getPiece","pawn_Pawn","rook_Rook","knightWhite_KnightWhite","knightBlack_KnightWhite","bishop_Bishop","queen_Queen","king_King","prevState","whiteMove","blackMove","blackMoveAi","findAIMove","AiMove","setTimeout","dragContainer","pieceColour","Model","KnightBlack","SilouettePawn","Fragment","Colour","TakenPieces","isTaken","number","reversePawnNumber","Theme","num","SillouettePieces_SilouettePawn","Switch_templateObject","Trigger","Switch_templateObject2","SwitchContainer","Switch_templateObject3","Text","p","Switch_templateObject4","Gap","Switch_templateObject5","TriggerRef","createRef","switch","current","TweenLite","Switch_Container","color","Slider_templateObject","Slider","input","Slider_templateObject2","aiOn","Slider_templateObject3","Slider_templateObject4","slider","updateSlider","parseInt","currentTarget","correctedNum","UpdateDifficulty","Slider_Container","Slider_Text","Slider_Gap","defaultValue","onInput","min","max","disabled","TextBox_templateObject","TextBox_templateObject2","TextBox","TextBox_Container","TextBox_Text","BG","views_templateObject","views_templateObject2","views_templateObject3","GapTwo","views_templateObject4","views_templateObject5","Link","views_templateObject6","TextDivider","views_templateObject7","App","views_Container","canvas_Canvas","canvasProps","takenPieces","components_board","components_pieces","Footer_TEMPLATE","Switch_TEMPLATE","views_Gap","Slider_Component","SliderValue","TextBox_TextBox","views_Text","href","target","Boolean","location","hostname","match","store","composeEnhancers","composeWithDevTools","thunk","thunkMiddleware","createStore","applyMiddleware","ConfigureStore","ReactDOM","es","views","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"8hBAAYA,IASAC,IAcAC,mGCjBDC,IAATC,QCNWC,KDOXC,MACAC,YACAC,oBACAC,cCVqB,CACrBC,WAAY,CACVC,IAAK,UACLC,IAAK,UACLC,MAAO,UACPC,KAAM,UACNC,KAAM,WAERC,UAAW,CACTL,IAAK,UACLC,IAAK,UACLC,MAAO,UACPC,KAAM,UACNC,KAAM,WAERE,WAAY,CACVN,IAAK,UACLC,IAAK,UACLC,MAAO,UACPC,KAAM,UACNC,KAAM,WAERG,UAAW,CACTP,IAAK,UACLC,IAAK,UACLC,MAAO,UACPC,KAAM,UACNC,KAAM,WAERI,YAAa,CACXR,IAAK,UACLC,IAAK,UACLC,MAAO,UACPC,KAAM,UACNC,KAAM,WAERK,WAAY,CACVT,IAAK,UACLC,IAAK,UACLC,MAAO,UACPC,KAAM,UACNC,KAAM,aAOJV,EAAQK,WAAWC,IACnBN,EAAQK,WAAWE,IACnBP,EAAQK,WAAWG,MACnBR,EAAQK,WAAWI,KACnBT,EAAQK,WAAWK,KAGnBV,EAAQW,UAAUL,IAClBN,EAAQW,UAAUJ,IAClBP,EAAQW,UAAUH,MAClBR,EAAQW,UAAUF,KAClBT,EAAQW,UAAUD,KAGlBV,EAAQY,WAAWN,IACnBN,EAAQY,WAAWL,IACnBP,EAAQY,WAAWJ,MACnBR,EAAQY,WAAWH,KACnBT,EAAQY,WAAWF,KAGnBV,EAAQa,UAAUP,IAClBN,EAAQa,UAAUN,IAClBP,EAAQa,UAAUL,MAClBR,EAAQa,UAAUJ,KAClBT,EAAQa,UAAUH,KAGlBV,EAAQc,YAAYR,IACpBN,EAAQc,YAAYP,IACpBP,EAAQc,YAAYN,MACpBR,EAAQc,YAAYL,KACpBT,EAAQc,YAAYJ,KAGpBV,EAAQe,WAAWT,IACnBN,EAAQe,WAAWR,IACnBP,EAAQe,WAAWP,MACnBR,EAAQe,WAAWN,KACnBT,EAAQe,WAAWL,MFvFbf,wIASAC,8DAcAC,mGAML,IAAMmB,EAAS,CACpB,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,MAGKC,EAAe,CAC1B,CAAC,IAAK,KACN,CAAC,IAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAM,KACP,CAAC,KAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAM,KACP,CAAC,KAAM,KACP,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAO,MACR,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,MACN,CAAC,IAAK,gHGpJKC,EAAsB,CACjCC,YAAa,GACbC,MAAOC,IAAMD,QACbE,OAAQ,GACRC,MAAM,EACNC,WAAY,EACZ3B,QAAS,+CCXE4B,EAAmB,SAC9BC,GAEA,IAAIC,EAAQV,EAAaW,UACvB,SAAAC,GAAC,OACCA,EAAE,GAAKH,EAAO,GAAK,IACnBG,EAAE,GAAKH,EAAO,GAAK,IACnBG,EAAE,GAAKH,EAAO,GAAK,IACnBG,EAAE,GAAKH,EAAO,GAAK,KAEvB,OAAe,IAAXC,EACKA,OAEP,GAmKSG,EAAqB,SAChCC,EACAC,EACAC,EACAC,EACAC,GAEA,IAAIb,EAAwB,GAI1BA,EAHGY,EAvKkB,SAACE,GAaxB,IAZA,IAAIC,EAAwB,GAExBC,EAA4B,EAC5BC,GAA6B,EAC7BC,GAA+B,EAC/BC,GAA+B,EAE/BC,EAA4B,EAC5BC,GAA6B,EAC7BC,GAA+B,EAC/BC,GAA+B,EAE1BC,EAAI,EAAGA,GAAK,GAAIA,IAAK,CAC5B,IAAIC,EAAQX,EAAUU,GAClBE,EAAaC,OAAOC,aAAad,EAAU,KAC/C,GAAIf,IAAM8B,QAAQJ,GAChB,OAAQA,GACN,KAAK1B,IAAM+B,MAAMf,OAAOgB,MAAMC,KAC5BjB,EAAOkB,KAAK,CACV3D,OAAQA,EAAO4D,MACfC,KAAM9D,EAAM2D,KACZI,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAM2D,KAAX,KAAAQ,OAAmBlE,EAAO4D,MAA1B,KAAAM,OAAmCxB,KAEvCA,IACA,MACF,KAAKjB,IAAM+B,MAAMf,OAAOgB,MAAMU,KAC5B1B,EAAOkB,KAAK,CACV3D,OAAQA,EAAO4D,MACfC,KAAM9D,EAAMqE,KACZN,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAMqE,KAAX,KAAAF,OAAmBlE,EAAO4D,MAA1B,KAAAM,OAAmCvB,EAAoB,EAAI,KAE/DA,GAAoB,EACpB,MACF,KAAKlB,IAAM+B,MAAMf,OAAOgB,MAAMY,OAC5B5B,EAAOkB,KAAK,CACV3D,OAAQA,EAAO4D,MACfC,KAAM9D,EAAMuE,OACZR,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAMuE,OAAX,KAAAJ,OAAqBlE,EAAO4D,MAA5B,KAAAM,OAAqCtB,EAAsB,EAAI,KAEnEA,GAAsB,EACtB,MACF,KAAKnB,IAAM+B,MAAMf,OAAOgB,MAAMc,OAC5B9B,EAAOkB,KAAK,CACV3D,OAAQA,EAAO4D,MACfC,KAAM9D,EAAMyE,OACZV,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAMyE,OAAX,KAAAN,OAAqBlE,EAAO4D,MAA5B,KAAAM,OAAqCrB,EAAsB,EAAI,KAEnEA,GAAsB,EACtB,MACF,KAAKpB,IAAM+B,MAAMf,OAAOgB,MAAMgB,MAC5BhC,EAAOkB,KAAK,CACV3D,OAAQA,EAAO4D,MACfC,KAAM9D,EAAM2E,MACZZ,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAM2E,MAAX,KAAAR,OAAoBlE,EAAO4D,MAA3B,QAEJ,MACF,KAAKnC,IAAM+B,MAAMf,OAAOgB,MAAMkB,KAC5BlC,EAAOkB,KAAK,CACV3D,OAAQA,EAAO4D,MACfC,KAAM9D,EAAM6E,KACZd,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAM6E,KAAX,KAAAV,OAAmBlE,EAAO4D,MAA1B,aAOR,OAAQT,GACN,KAAK1B,IAAM+B,MAAMf,OAAOoC,MAAMnB,KAC5BjB,EAAOkB,KAAK,CACV3D,OAAQA,EAAO8E,MACfjB,KAAM9D,EAAM2D,KACZI,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAM2D,KAAX,KAAAQ,OAAmBlE,EAAO8E,MAA1B,KAAAZ,OAAmCpB,KAEvCA,IACA,MACF,KAAKrB,IAAM+B,MAAMf,OAAOoC,MAAMV,KAC5B1B,EAAOkB,KAAK,CACV3D,OAAQA,EAAO8E,MACfjB,KAAM9D,EAAMqE,KACZN,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAMqE,KAAX,KAAAF,OAAmBlE,EAAO8E,MAA1B,KAAAZ,OAAmCnB,EAAoB,EAAI,KAE/DA,GAAoB,EACpB,MACF,KAAKtB,IAAM+B,MAAMf,OAAOoC,MAAMR,OAC5B5B,EAAOkB,KAAK,CACV3D,OAAQA,EAAO8E,MACfjB,KAAM9D,EAAMuE,OACZR,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAMuE,OAAX,KAAAJ,OAAqBlE,EAAO8E,MAA5B,KAAAZ,OAAqClB,EAAsB,EAAI,KAEnEA,GAAsB,EACtB,MACF,KAAKvB,IAAM+B,MAAMf,OAAOoC,MAAMN,OAC5B9B,EAAOkB,KAAK,CACV3D,OAAQA,EAAO8E,MACfjB,KAAM9D,EAAMyE,OACZV,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAMyE,OAAX,KAAAN,OAAqBlE,EAAO8E,MAA5B,KAAAZ,OAAqCjB,EAAsB,EAAI,KAEnEA,GAAsB,EACtB,MACF,KAAKxB,IAAM+B,MAAMf,OAAOoC,MAAMJ,MAC5BhC,EAAOkB,KAAK,CACV3D,OAAQA,EAAO8E,MACfjB,KAAM9D,EAAM2E,MACZZ,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAM2E,MAAX,KAAAR,OAAoBlE,EAAO8E,MAA3B,QAEJ,MACF,KAAKrD,IAAM+B,MAAMf,OAAOoC,MAAMF,KAC5BlC,EAAOkB,KAAK,CACV3D,OAAQA,EAAO8E,MACfjB,KAAM9D,EAAM6E,KACZd,SAAU1C,EAAO8B,GACjBa,kBAAmBb,EACnBc,OAAuB,MAAfZ,EACRa,GAAE,GAAAC,OAAKnE,EAAM6E,KAAX,KAAAV,OAAmBlE,EAAO8E,MAA1B,SAQZ,OAAOrC,EAcIsC,CAAU5C,GAFVE,EAIX,IAAI2C,EAAmB,EACnBC,EAAc,EAElB,IAAK1C,EAAQ,CACX,IAAK,IAAIW,EAAI,EAAGA,GAAK,GAAIA,IACnBf,EAAae,KAAOd,EAASc,KAC3Bd,EAASc,KAAOzB,IAAM+B,MAAM0B,YAC9BF,EAAmB9B,EAEnB+B,EAAc/B,GAKpBxB,EAAOyD,OAAO,SAAAC,GACZ,IAAIC,EAAwBD,EAE5B,OADAC,EAASrB,QAAUoB,EAAMpB,OAClBqB,IAGT,IAAItD,EAAQL,EAAOM,UAAU,SAAAC,GAAC,OAAIA,EAAE8B,oBAAsBiB,IAC1D,IAAe,IAAXjD,EAAc,CAChB,IAAIsD,EAAqBC,OAAAC,EAAA,EAAAD,CAAA,GACpB5D,EAAOK,GADa,CAEvBgC,kBAAmBkB,EACnBnB,SAAU1C,EAAO6D,GACjBjB,QAAQ,IAENwB,EAAc9D,EAAOM,UACvB,SAAAC,GAAC,OAAIA,EAAE8B,oBAAsBkB,IAE/BvD,EAAOK,GAASsD,GACK,IAAjBG,GACF9D,EAAO+D,OAAOD,EAAa,IAOjC,OAFA9D,EAAOgE,KAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAE5B,kBAAoB6B,EAAE7B,kBAAoB,GAAK,IAEjErC,GCrOImE,EAAYC,uBAAa,mBAAoB,SAAAC,GACxD,OAAO,SAACtD,GAAD,OAA2BsD,EAAQtD,MAG/BuD,EAAaF,uBAAa,qBAAsB,SAAAC,GAC3D,OAAO,SAACE,GAAD,OAAoBF,EAAQE,MAGxBC,EAAgBJ,uBAAa,uBAAwB,SAAAC,GAChE,OAAO,SAACI,GAAD,OAAmBJ,EAAQI,MAGvBC,EAAaN,uBAAa,oBAAqB,SAAAC,GAC1D,OAAO,SAACM,GAAD,OAAsBN,EAAQM,MAG1BC,EAAiBR,uBAC5B,yBACA,SAAAC,GACE,OAAO,SAACQ,GAAD,OAAqBR,EAAQQ,MAI3BC,EAAW,CACtBC,MAAOC,4BACL,wBACA,kBACA,yBAHKA,GAMPC,OAPsB,SAOfvE,EAAsBG,EAAiBD,GAA0B,IAAAsE,EAAAC,KACtE,sBAAAC,EAAAxB,OAAAyB,EAAA,EAAAzB,CAAA0B,EAAArB,EAAAsB,KAAO,SAAAC,EAAOC,EAAoBC,GAA3B,IAAA3E,EAAA,OAAAuE,EAAArB,EAAA0B,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACL,IACEL,EAASP,EAAKH,MAAMgB,WAChBhF,EAASP,EACXkF,IAAWM,KAAKlG,MAChBY,EACAgF,IAAWM,KAAKhG,OAChBY,EACAC,GAEF4E,EAAStB,EAAUpD,IACnBkF,QAAQC,IAAInG,IAAMD,MAAMqG,SAASzF,IACjC+E,EAASP,EAAKH,MAAMqB,QAAQ1F,IAC5B,MAAO2F,GACPZ,EAASP,EAAKH,MAAMuB,QAAQD,IAdzB,wBAAAT,EAAAW,SAAAf,EAAAL,SAAP,gBAAAqB,EAAAC,GAAA,OAAArB,EAAAsB,MAAAvB,KAAAwB,YAAA,KAoBSC,EAAmB,CAC9B7B,MAAOC,4BACL,kCACA,6BACA,oCAHKA,GAMPC,OAP8B,SAOvB5G,GAAoB,IAAAwI,EAAA1B,KACzB,sBAAA2B,EAAAlD,OAAAyB,EAAA,EAAAzB,CAAA0B,EAAArB,EAAAsB,KAAO,SAAAwB,EAAOtB,EAAoBC,GAA3B,IAAAsB,EAAAC,EAAA,OAAA3B,EAAArB,EAAA0B,KAAA,SAAAuB,GAAA,cAAAA,EAAArB,KAAAqB,EAAApB,MAAA,OACL,IACEL,EAASoB,EAAK9B,MAAMgB,WAChBiB,EAFFpD,OAAAuD,EAAA,EAAAvD,CAEkB8B,IAAWM,KAAKhG,SAEb,KADnBiH,EAAgBD,EAAU1G,UAAU,SAAAC,GAAC,OAAIA,EAAEgC,KAAOlE,EAAMkE,OAE1DyE,EAAUjD,OAAOkD,EAAe,GAElCD,EAAU/E,KAAK5D,GACfoH,EAASoB,EAAK9B,MAAMqB,QAAQY,IAC5B,MAAOX,GACPZ,EAASoB,EAAK9B,MAAMuB,QAAQD,IAXzB,wBAAAa,EAAAX,SAAAQ,EAAA5B,SAAP,gBAAAiC,EAAAC,GAAA,OAAAP,EAAAJ,MAAAvB,KAAAwB,YAAA,KC5DS/G,EAAe,WAC1B,MAAO,CACLoG,KAAMsB,ICPGtB,EAAOsB,ECGPC,GAAcC,0BAAgB,CACzCxB,KCAqB,WAAwD,IAAvDzB,EAAuDoC,UAAAc,OAAA,QAAAC,IAAAf,UAAA,GAAAA,UAAA,GAAxC/G,EAAcqF,EAA0B0B,UAAAc,OAAA,EAAAd,UAAA,QAAAe,EAC7E,OAAQzC,EAAO0C,MACb,KAAKC,kBAAQC,EAAiB9C,MAAMqB,SAClC,OAAOxC,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBzE,MAAOmF,EAAO6C,UAEnC,KAAKF,kBAAQC,GACX,OAAOjE,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBtE,KAAMgF,EAAO6C,UAElC,KAAKF,kBAAQC,GACX,OAAOjE,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBrE,WAAY+E,EAAO6C,UAExC,KAAKF,kBAAQC,GACX,OAAOjE,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBhG,QAAS0G,EAAO6C,UAErC,KAAKF,kBAAQC,EAAyB9C,MAAMqB,SAG5C,KAAKwB,kBAAQC,GACX,OAAOjE,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBvE,OAAQiF,EAAO6C,UAEpC,KAAKF,kBAAQC,GACX,OAAOjE,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmB1E,YAAaoF,EAAO6C,UAEzC,QACE,OAAOvD,MCVPwD,GAAO,IAAIC,cAWXC,IAFiBC,cAEDC,YACpB,SAACC,EAAcC,GAAf,OAAuBN,GAAKO,UAAUF,IACtC,SAACG,EAAeF,GAAhB,OAAwBN,GAAKS,YAAYD,MAGrCE,GAAgB,CACpBJ,IAAK,OACLK,QAASA,IACTC,WAAY,CAACV,KAGTW,GAAmBC,YAAeJ,GAAelB,wkCCrCvD,IAAMuB,GAAYtK,EAAOuK,IAAVC,MAOTC,GAASzK,EAAOuK,IAAVG,KAIUxK,EAAQc,YAAYN,MAOhBR,EAAQc,YAAYP,KAGxCkK,GAAM3K,EAAOuK,IAAVK,KAIa1K,EAAQc,YAAYL,MASpCkK,GAAU7K,EAAOuK,IAAVO,MAqBQC,oLAEjB,OACEC,EAAAvF,EAAAwF,cAACX,GAAD,KACEU,EAAAvF,EAAAwF,cAACN,GAAD,KAAMhE,KAAKuE,MAAMC,KACjBH,EAAAvF,EAAAwF,cAACR,GAAD,KAAS9D,KAAKuE,MAAME,QACpBJ,EAAAvF,EAAAwF,cAACJ,GAAD,KAAUlE,KAAKuE,MAAMG,iBANSC,IAAMC,kFCxD5C,IAAMC,GAAMxL,EAAOyL,IAAVC,MAUYC,8MACnBC,IAA4B,OAE5B7F,MAAe,CACb6F,IAAKlF,EAAKkF,wFAIVjF,KAAKkF,SAAS,CAAED,IAAKjF,KAAKiF,uCAGnB,IAAAvD,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAACO,GAAD,CACEM,MAAM,6BACNC,QAAQ,gBACRC,MAAM,OACNC,OAAO,OACPL,IAAG,SAAAhF,GAAA,SAAAgF,EAAA5D,GAAA,OAAApB,EAAAsB,MAAAvB,KAAAwB,WAAA,OAAAyD,EAAAjE,SAAA,kBAAAf,EAAAe,YAAAiE,EAAA,CAAE,SAAAA,GAAG,OAAKvD,EAAKuD,IAAMA,KAEvBjF,KAAKuE,MAAMgB,OAAO,CAAEN,IAAKjF,KAAKZ,MAAM6F,cApBTN,IAAMC,6tBCR1C,IAAMY,GAAY,CAChB,yDACA,2DAEIC,GAAc,CAClB,2DACA,4DAEIC,GAAa,CACjB,qDACA,sDAEIC,GAAa,CACjB,kFACA,qFAamBC,8MACXC,OAAmC,OACnCC,UAAsC,OACtCC,QAAoC,OACpCC,SAAqC,OACrCC,QAAoC,OACpCC,WAAuC,OACvCC,SAAkC,OAE1CC,YAAc,WACZ,IAAIC,EAAK,IAAIC,KAqDb,OApDAD,EAAGE,IAAI,SACJC,GACCzG,EAAKgG,QACL,EACA,CACEvM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKiG,SACL,EACA,CACExM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKkG,QACL,EACA,CACEzM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK+F,UACL,EACA,CACEtM,IAAK,CACHsN,YAAa,OACbC,UAAW,mCAEbJ,KAAMC,KAAOC,SAEf,SAEGR,KAGTW,aAAe,WACb,IAAIX,EAAK,IAAIC,KAgDb,OA/CAD,EAAGE,IAAI,SACJC,GAAGzG,EAAKgG,QAAU,EAAG,CACpBvM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,UAEdL,GACCzG,EAAKkG,QACL,EACA,CACEzM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWG,OAEzB4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKiG,SACL,EACA,CACExM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWK,MAEzB0M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK+F,UACL,EACA,CACEtM,IAAK,CACHsN,YAAa,MACbC,UAAW,gCAEbJ,KAAMC,KAAOC,SAEf,SAEGR,KAGTY,SAAW,WACT,IAAIZ,EAAK,IAAIC,KAyDb,OAxDAD,EAAGE,IAAI,SACJC,GAAGzG,EAAKgG,QAAU,EAAG,CACpBmB,KAAM,CACJC,OAAQzB,GAAW,MAGtBc,GACCzG,EAAKkG,QACL,EACA,CACEiB,KAAM,CACJC,OAAQxB,GAAW,KAGvB,SAEDa,GACCzG,EAAKiG,SACL,EACA,CACEkB,KAAM,CACJC,OAAQ1B,GAAY,KAGxB,SAEDe,GACCzG,EAAK+F,UACL,EACA,CACEoB,KAAM,CACJC,OAAQ3B,GAAU,KAGtB,SAEDgB,GACCzG,EAAK8F,OACL,EACA,CACEqB,KAAM,CACJC,OAAQ3B,GAAU,KAGtB,SAEDgB,GACCzG,EAAKqH,QACL,EACA,CACEF,KAAM,CACJC,OAAQxB,GAAW,KAGvB,SAEGU,KAGTgB,OAAS,WACP,IAAIhB,EAAK,IAAIC,KA+Db,OA9DAD,EAAGE,IAAI,SACJC,GAAGzG,EAAKgG,QAAU,EAAG,CACpBmB,KAAM,CACJC,OAAQzB,GAAW,IAErBiB,KAAMC,KAAOC,UAEdL,GACCzG,EAAKkG,QACL,EACA,CACEiB,KAAM,CACJC,OAAQxB,GAAW,IAErBgB,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKiG,SACL,EACA,CACEkB,KAAM,CACJC,OAAQ1B,GAAY,IAEtBkB,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK+F,UACL,EACA,CACEoB,KAAM,CACJC,OAAQ3B,GAAU,IAEpBmB,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK8F,OACL,EACA,CACEqB,KAAM,CACJC,OAAQ3B,GAAU,IAEpBmB,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACEgB,KAAM,CACJC,OAAQxB,GAAW,IAErBgB,KAAMC,KAAOC,SAEf,SAEGR,KAGTiB,KAAOjO,EAAOkO,aACJxH,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWG,SAEzByN,KAAOnO,EAAOkO,aACJxH,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWI,QAEzByN,MAAQpO,EAAOkO,aACLxH,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWK,QAEzB+J,IAAM3K,EAAOkO,aACHxH,EAAKwE,MAAMmC,OACfnN,EAAQe,WAAWP,MACnBR,EAAQc,YAAYN,SAE1BqN,QAAU/N,EAAOkO,gBAIjBG,MAAQrO,EAAOsO,aAIfC,OAASvO,EAAOkO,aACNxH,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWE,IACbiG,EAAKwE,MAAMmC,OACjBnN,EAAQe,WAAWL,KACnBV,EAAQc,YAAYJ,QAI1B4N,MAAQ,WACN9H,EAAKkH,WAAWa,UAAU,GAC1B/H,EAAKsH,SAASU,MAAM,OAGtBC,WAAa,WACXjI,EAAKqG,cAAc2B,MAAM,IACzBhI,EAAK8H,WAGPI,aAAe,WACblI,EAAKiH,eAAee,MAAM,IAC1BhI,EAAK8H,WAiBPK,QAAU,WACJnI,EAAKwE,MAAM2D,SACbnI,EAAKwE,MAAM2D,QAAQnI,EAAKwE,MAAMnH,wFAfhC4C,KAAKuE,MAAM4D,QAASnI,KAAKgI,wDAGRI,GACbA,EAAUD,SAAWnI,KAAKuE,MAAM4D,SAC9BnI,KAAKuE,MAAM4D,OACbnI,KAAKgI,aAELhI,KAAKiI,iDAWF,IAAAvG,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,KACEyC,UAAS,aAAA1J,OAAe2C,KAAKuE,MAAM8D,UAAU,GAApC,KAAAhL,OACP2C,KAAKuE,MAAM8D,UAAU,GADd,MAIThE,EAAAvF,EAAAwF,cAAAtE,KAAMsH,KAAN,CAAWH,OAAQxB,GAAW,GAAIV,IAAK,SAAAA,GAAG,OAAKvD,EAAKuE,QAAUhB,KAC9DZ,EAAAvF,EAAAwF,cAAAtE,KAAMwH,KAAN,CAAWL,OAAQzB,GAAW,GAAIT,IAAK,SAAAA,GAAG,OAAKvD,EAAKqE,QAAUd,KAC9DZ,EAAAvF,EAAAwF,cAAAtE,KAAMyH,MAAN,CACEN,OAAQ1B,GAAY,GACpBR,IAAK,SAAAA,GAAG,OAAKvD,EAAKsE,SAAWf,KAE/BZ,EAAAvF,EAAAwF,cAAAtE,KAAMgE,IAAN,CAAUmD,OAAQ3B,GAAU,GAAIP,IAAK,SAAAA,GAAG,OAAKvD,EAAKmE,OAASZ,KAC3DZ,EAAAvF,EAAAwF,cAAAtE,KAAM4H,OAAN,CACET,OAAQ3B,GAAU,GAClBP,IAAK,SAAAA,GAAG,OAAKvD,EAAKoE,UAAYb,KAEhCZ,EAAAvF,EAAAwF,cAAAtE,KAAMoH,QAAN,CACED,OAAQ3B,GAAU,GAClBP,IAAK,SAAAA,GAAG,OAAKvD,EAAKwE,WAAajB,GAC/BiD,QAASlI,KAAKkI,kBApVcvD,IAAMC,WCrBtCjK,oLACK,IAAAoF,EAAAC,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,KAAGyC,UAAW,sBACX,CAAC,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAIuB,IAAI,SAACC,EAAKC,GAAN,OAClCnE,EAAAvF,EAAAwF,cAAA,KACEyC,UAAS,aAAA1J,QAA2B,IAAZmL,EAAf,KAAAnL,OAA6C,GAAXmL,EAAlC,KACTtF,IAAKsF,GAEJ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGF,IAAI,SAACG,EAAQvN,GAAT,OAC5BmJ,EAAAvF,EAAAwF,cAACoE,GAAD,CACEhC,OACE+B,EAAS,IAAM,EAAID,EAAW,IAAM,EAAIA,EAAW,IAAM,EAE3DH,UAAW,CAAS,IAARnN,EAAqB,GAARA,GACzBiN,OAAQpI,EAAKwE,MAAM1D,KAAKnG,YAAYiO,QAAQJ,EAAME,IAAW,EAC7DvF,IAAKhI,EACLkC,GAAImL,EAAME,iBAjBN9D,IAAMC,WA6BXgE,eAFS,SAACxJ,GAAD,OAA+BA,GAExCwJ,CAAyBjO,0sBCpBnBkO,8MACXC,UAAsC,OACtC7C,QAAiC,OACjC8C,QAAiC,OACjCC,QAAiC,OACjCC,WAAoC,OACpCC,QAAiC,OACjChD,WAAoC,OACpCiD,UAAgC,OAChCC,YAAkC,OAE1ChD,YAAc,WACZ,IAAIC,EAAK,IAAIC,KAmEb,OAlEAD,EAAGE,IAAI,SACJC,GACCzG,EAAKkJ,WACL,EACA,CACEzP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKiJ,QACL,EACA,CACExP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTW,aAAe,WACb,IAAIX,EAAK,IAAIC,KAmEb,OAlEAD,EAAGE,IAAI,SACJC,GACCzG,EAAKkJ,WACL,EACA,CACEzP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKiJ,QACL,EACA,CACExP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,MAExB2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTiD,WAAa,WACX,IAAIjD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,mBAEbJ,KAAMC,KAAOC,UAERR,KAGTkD,SAAW,WACT,IAAIlD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,kBAEbJ,KAAMC,KAAOC,UAERR,KAGTmD,gBAAkB,WAChB,IAAInD,EAAK,IAAIC,KASb,OARAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OACP0C,EAAKwE,MAAM8D,UAAU,GADd,MAIX1B,KAAMC,KAAOC,UAERR,KAGToD,gBAAkB,WAChBC,KAASC,IAAI5J,EAAKqJ,YAAc,CAC9BlC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OACP0C,EAAKwE,MAAM8D,UAAU,GADd,WAOfuB,mBAAqB,WACnB,IAAIvD,EAAK,IAAIC,KAQb,OAPAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OACP0C,EAAKwE,MAAM8D,UAAU,GADd,QAKNhC,KAGTwD,OAASxQ,EAAOyQ,aACN/J,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWF,KACnBV,EAAQK,WAAWK,QAEzBqN,KAAOjO,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBiQ,KAAO1Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBgQ,KAAO3Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBmQ,QAAU5Q,EAAOsO,UACP5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBqQ,KAAO7Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBsN,QAAU/N,EAAOsO,UAEL5H,EAAKwE,MAAMmC,OACjBnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,QAKxBgO,WAAa,WACXjI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKqG,cAAc2B,MAAM,OAG3BE,aAAe,WACblI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKiH,eAAee,MAAM,OAmC5BoC,YAAc,SAACC,GACbA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbC,UAAY,SAACH,GACXA,EAAEC,iBACFtK,EAAKwE,MAAMiG,YAGbC,aAAe,SAACL,GACdA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbI,WAAa,SAACN,GACZA,EAAEC,iBACFtK,EAAKwE,MAAMiG,6FA9CPxK,KAAKoJ,aACPpJ,KAAK4J,gEAIUxB,GACbA,EAAUD,SAAWnI,KAAKuE,MAAM4D,SAC9BnI,KAAKuE,MAAM4D,OACbnI,KAAKgI,aAELhI,KAAKiI,gBAILG,EAAUC,YAAcrI,KAAKuE,MAAM8D,YACjCrI,KAAKuE,MAAMoG,SACb3K,KAAKyJ,kBAELzJ,KAAKwJ,mBAILpB,EAAUwC,WAAa5K,KAAKuE,MAAMqG,WAChC5K,KAAKuE,MAAMqG,SACb5K,KAAKgI,aAELhI,KAAKiI,iDAuBF,IAAAvG,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAK0H,YAAcnE,IACjCZ,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAKyH,UAAYlE,IAC/BZ,EAAAvF,EAAAwF,cAAA,KAAGyC,UAAW,gCACZ1C,EAAAvF,EAAAwF,cAAAtE,KAAM6J,OAAN,CACEgB,GAAG,KACHC,GAAG,UACHC,GAAG,KACHC,GAAG,SACH/F,IAAK,SAAAA,GAAG,OAAKvD,EAAKoH,UAAY7D,KAEhCZ,EAAAvF,EAAAwF,cAAAtE,KAAMsH,KAAN,CACE2D,EAAE,sWACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKuE,QAAUhB,KAE9BZ,EAAAvF,EAAAwF,cAAAtE,KAAM+J,KAAN,CACEkB,EAAE,gZACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKqH,QAAU9D,KAE9BZ,EAAAvF,EAAAwF,cAAAtE,KAAMgK,KAAN,CACEiB,EAAE,+GACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKsH,QAAU/D,KAE9BZ,EAAAvF,EAAAwF,cAAAtE,KAAMiK,QAAN,CACEgB,EAAE,gwBACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKuH,WAAahE,KAEjCZ,EAAAvF,EAAAwF,cAAAtE,KAAMkK,KAAN,CACEe,EAAE,oIACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKwH,QAAUjE,KAE9BZ,EAAAvF,EAAAwF,cAAAtE,KAAMoH,QAAN,CACE6D,EAAE,sWACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKwE,WAAajB,GAC/BkF,YAAanK,KAAKmK,YAClBI,UAAWvK,KAAKuK,UAChBE,aAAczK,KAAKyK,aACnBC,WAAY1K,KAAK0K,WACjBQ,MAAO,CAAEC,cAAenL,KAAKuE,MAAM6G,UAAY,OAAS,oBA9VpCzG,IAAMC,4yBCAnBrH,8MACX8N,cAAuC,OACvCtC,QAAiC,OACjCC,QAAiC,OACjCsC,eAAwC,OACxCC,SAAkC,OAClCrC,QAAiC,OACjCrD,OAAgC,OAChCK,WAAoC,OACpCiD,UAAgC,OAChCC,YAAkC,OAE1ChD,YAAc,WACZ,IAAIC,EAAK,IAAIC,KA0Gb,OAzGAD,EAAGE,IAAI,SACJC,GACCzG,EAAKsL,cACL,EACA,CACE7R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKwL,SACL,EACA,CACE/R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWP,MACnBR,EAAQc,YAAYN,OAE1B4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKuL,eACL,EACA,CACE9R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKiJ,QACL,EACA,CACExP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK8F,OACL,EACA,CACErM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTW,aAAe,WACb,IAAIX,EAAK,IAAIC,KA0Gb,OAzGAD,EAAGE,IAAI,SACJC,GACCzG,EAAKsL,cACL,EACA,CACE7R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKwL,SACL,EACA,CACE/R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,OAEzB4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKuL,eACL,EACA,CACE9R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKiJ,QACL,EACA,CACExP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK8F,OACL,EACA,CACErM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,MAExB2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTiD,WAAa,WACX,IAAIjD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,mBAEbJ,KAAMC,KAAOC,UAERR,KAGTkD,SAAW,WACT,IAAIlD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,kBAEbJ,KAAMC,KAAOC,UAERR,KAGTmD,gBAAkB,WAChB,IAAInD,EAAK,IAAIC,KAQb,OAPAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,MAGX1B,KAAMC,KAAOC,UAERR,KAGToD,gBAAkB,WAChBC,KAASC,IAAI5J,EAAKqJ,YAAc,CAC9BlC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,WAMfuB,mBAAqB,WACnB,IAAIvD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,QAINhC,KAGTmF,WAAanS,EAAOsO,UACV5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzB4R,MAAQpS,EAAOsO,UACL5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,SAEzB2R,YAAcrS,EAAOsO,UACX5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBkQ,KAAO1Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBgQ,KAAO3Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBkK,IAAM3K,EAAOsO,UACH5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBqQ,KAAO7Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBsN,QAAU/N,EAAOsO,UAEL5H,EAAKwE,MAAMmC,OACjBnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,QAKxBgO,WAAa,WACXjI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKqG,cAAc2B,MAAM,OAG3BE,aAAe,WACblI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKiH,eAAee,MAAM,OAmC5BoC,YAAc,SAACC,GACbA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbC,UAAY,SAACH,GACXA,EAAEC,iBACFtK,EAAKwE,MAAMiG,YAGbC,aAAe,SAACL,GACdA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbI,WAAa,SAACN,GACZA,EAAEC,iBACFtK,EAAKwE,MAAMiG,6FA9CPxK,KAAKoJ,aACPpJ,KAAK4J,gEAIUxB,GACbA,EAAUD,SAAWnI,KAAKuE,MAAM4D,SAC9BnI,KAAKuE,MAAM4D,OACbnI,KAAKgI,aAELhI,KAAKiI,gBAILG,EAAUC,YAAcrI,KAAKuE,MAAM8D,YACjCrI,KAAKuE,MAAMoG,SACb3K,KAAKyJ,kBAELzJ,KAAKwJ,mBAILpB,EAAUwC,WAAa5K,KAAKuE,MAAMqG,WAChC5K,KAAKuE,MAAMqG,SACb5K,KAAKgI,aAELhI,KAAKiI,iDAuBF,IAAAvG,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAK0H,YAAcnE,IACjCZ,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAKyH,UAAYlE,IAC/BZ,EAAAvF,EAAAwF,cAAA,KAAGyC,UAAW,gCACZ1C,EAAAvF,EAAAwF,cAAAtE,KAAMwL,WAAN,CACEP,EAAE,uPACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAK2J,cAAgBpG,KAEpCZ,EAAAvF,EAAAwF,cAAAtE,KAAM+J,KAAN,CACEkB,EAAE,2ZACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKqH,QAAU9D,KAE9BZ,EAAAvF,EAAAwF,cAAAtE,KAAMgK,KAAN,CACEiB,EAAE,4HACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKsH,QAAU/D,KAE9BZ,EAAAvF,EAAAwF,cAAAtE,KAAM0L,YAAN,CACET,EAAE,4OACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAK4J,eAAiBrG,KAErCZ,EAAAvF,EAAAwF,cAAAtE,KAAMyL,MAAN,CACER,EAAE,kPACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAK6J,SAAWtG,KAE/BZ,EAAAvF,EAAAwF,cAAAtE,KAAMkK,KAAN,CACEe,EAAE,ubACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKwH,QAAUjE,KAE9BZ,EAAAvF,EAAAwF,cAAAtE,KAAMgE,IAAN,CACEiH,EAAE,kuBACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKmE,OAASZ,KAE7BZ,EAAAvF,EAAAwF,cAAAtE,KAAMoH,QAAN,CACE6D,EAAE,wfACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKwE,WAAajB,GAC/BkF,YAAanK,KAAKmK,YAClBI,UAAWvK,KAAKuK,UAChBE,aAAczK,KAAKyK,aACnBC,WAAY1K,KAAK0K,WACjBQ,MAAO,CAAEC,cAAenL,KAAKuE,MAAM6G,UAAY,OAAS,oBAhbpCzG,IAAMC,u4BCAnB+G,8MACXC,WAAoC,OACpCC,YAAqC,OACrCC,YAAqC,OACrCR,eAAwC,OACxCrF,QAAiC,OACjCiD,QAAiC,OACjCmC,cAAuC,OACvCtC,QAAiC,OACjC7C,WAAoC,OACpCiD,UAAgC,OAChCC,YAAkC,OAE1ChD,YAAc,WACZ,IAAIC,EAAK,IAAIC,KAuHb,OAtHAD,EAAGE,IAAI,SACJC,GACCzG,EAAK6L,WACL,EACA,CACEpS,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK8L,YACL,EACA,CACErS,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK+L,YACL,EACA,CACEtS,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWP,MACnBR,EAAQc,YAAYN,OAE1B4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKuL,eACL,EACA,CACE9R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKkG,QACL,EACA,CACEzM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKsL,cACL,EACA,CACE7R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTW,aAAe,WACb,IAAIX,EAAK,IAAIC,KAuHb,OAtHAD,EAAGE,IAAI,SACJC,GACCzG,EAAK6L,WACL,EACA,CACEpS,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK8L,YACL,EACA,CACErS,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK+L,YACL,EACA,CACEtS,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,OAEzB4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKuL,eACL,EACA,CACE9R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKkG,QACL,EACA,CACEzM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKsL,cACL,EACA,CACE7R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,MAExB2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTiD,WAAa,WACX,IAAIjD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,mBAEbJ,KAAMC,KAAOC,UAERR,KAGTkD,SAAW,WACT,IAAIlD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,kBAEbJ,KAAMC,KAAOC,UAERR,KAGTmD,gBAAkB,WAChB,IAAInD,EAAK,IAAIC,KAQb,OAPAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,MAGX1B,KAAMC,KAAOC,UAERR,KAGToD,gBAAkB,WAChBC,KAASC,IAAI5J,EAAKqJ,YAAc,CAC9BlC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,WAMfuB,mBAAqB,WACnB,IAAIvD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,QAINhC,KAGT0F,QAAU1S,EAAOsO,UACP5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBmS,SAAW3S,EAAOsO,UACR5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBiS,SAAW5S,EAAOsO,UACR5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,SAEzB2R,YAAcrS,EAAOsO,UACX5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzByN,KAAOjO,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBoQ,KAAO7Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzB0R,WAAanS,EAAOsO,UACV5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBkQ,KAAO1Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBoN,QAAU/N,EAAOsO,UAEL5H,EAAKwE,MAAMmC,OACjBnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,QAKxBgO,WAAa,WACXjI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKqG,cAAc2B,MAAM,OAG3BE,aAAe,WACblI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKiH,eAAee,MAAM,OAmC5BoC,YAAc,SAACC,GACbA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbC,UAAY,SAACH,GACXA,EAAEC,iBACFtK,EAAKwE,MAAMiG,YAGbC,aAAe,SAACL,GACdA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbI,WAAa,SAACN,GACZA,EAAEC,iBACFtK,EAAKwE,MAAMiG,6FA9CPxK,KAAKoJ,aACPpJ,KAAK4J,gEAIUxB,GACbA,EAAUD,SAAWnI,KAAKuE,MAAM4D,SAC9BnI,KAAKuE,MAAM4D,OACbnI,KAAKgI,aAELhI,KAAKiI,gBAILG,EAAUC,YAAcrI,KAAKuE,MAAM8D,YACjCrI,KAAKuE,MAAMoG,SACb3K,KAAKyJ,kBAELzJ,KAAKwJ,mBAILpB,EAAUwC,WAAa5K,KAAKuE,MAAMqG,WAChC5K,KAAKuE,MAAMqG,SACb5K,KAAKgI,aAELhI,KAAKiI,iDAuBF,IAAAvG,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAK0H,YAAcnE,IACjCZ,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAKyH,UAAYlE,IAC/BZ,EAAAvF,EAAAwF,cAAA,KAAGyC,UAAW,gCACZ1C,EAAAvF,EAAAwF,cAAAtE,KAAM+J,KAAN,CACE9E,IAAK,SAAAA,GAAG,OAAKvD,EAAKqH,QAAU9D,GAC5BgG,EAAE,yFAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMwL,WAAN,CACEvG,IAAK,SAAAA,GAAG,OAAKvD,EAAK2J,cAAgBpG,GAClCgG,EAAE,yQAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMkK,KAAN,CACEjF,IAAK,SAAAA,GAAG,OAAKvD,EAAKwH,QAAUjE,GAC5BgG,EAAE,uKAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMsH,KAAN,CACErC,IAAK,SAAAA,GAAG,OAAKvD,EAAKuE,QAAUhB,GAC5BgG,EAAE,uKAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAM0L,YAAN,CACEzG,IAAK,SAAAA,GAAG,OAAKvD,EAAK4J,eAAiBrG,GACnCgG,EAAE,oQAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMiM,SAAN,CACEhH,IAAK,SAAAA,GAAG,OAAKvD,EAAKoK,YAAc7G,GAChCgG,EAAE,qRAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMgM,SAAN,CACE/G,IAAK,SAAAA,GAAG,OAAKvD,EAAKmK,YAAc5G,GAChCgG,EAAE,qIAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAM+L,QAAN,CACE9G,IAAK,SAAAA,GAAG,OAAKvD,EAAKkK,WAAa3G,GAC/BgG,EAAE,4EAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMoH,QAAN,CACE6D,EAAE,6cACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKwE,WAAajB,GAC/BkF,YAAanK,KAAKmK,YAClBI,UAAWvK,KAAKuK,UAChBE,aAAczK,KAAKyK,aACnBC,WAAY1K,KAAK0K,WACjBQ,MAAO,CAAEC,cAAenL,KAAKuE,MAAM6G,UAAY,OAAS,oBApd7BzG,IAAMC,k+BCA1B+G,8MACXC,WAAoC,OACpCM,QAAiC,OACjCC,QAAiC,OACjCL,YAAqC,OACrCR,eAAwC,OACxCrF,QAAiC,OACjCiD,QAAiC,OACjCmC,cAAuC,OACvCtC,QAAiC,OACjC7C,WAAoC,OACpCiD,UAAgC,OAChCC,YAAkC,OAE1ChD,YAAc,WACZ,IAAIC,EAAK,IAAIC,KAoIb,OAnIAD,EAAGE,IAAI,SACJC,GACCzG,EAAK6L,WACL,EACA,CACEpS,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmM,QACL,EACA,CACE1S,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKoM,QACL,EACA,CACE3S,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWP,MACnBR,EAAQc,YAAYN,OAE1B4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK+L,YACL,EACA,CACEtS,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWP,MACnBR,EAAQc,YAAYN,OAE1B4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKuL,eACL,EACA,CACE9R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKkG,QACL,EACA,CACEzM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKsL,cACL,EACA,CACE7R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTW,aAAe,WACb,IAAIX,EAAK,IAAIC,KAoIb,OAnIAD,EAAGE,IAAI,SACJC,GACCzG,EAAK6L,WACL,EACA,CACEpS,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmM,QACL,EACA,CACE1S,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKoM,QACL,EACA,CACE3S,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,OAEzB4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK+L,YACL,EACA,CACEtS,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,OAEzB4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKuL,eACL,EACA,CACE9R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKkG,QACL,EACA,CACEzM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKsL,cACL,EACA,CACE7R,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,MAExB2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTiD,WAAa,WACX,IAAIjD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,mBAEbJ,KAAMC,KAAOC,UAERR,KAGTkD,SAAW,WACT,IAAIlD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,kBAEbJ,KAAMC,KAAOC,UAERR,KAGTmD,gBAAkB,WAChB,IAAInD,EAAK,IAAIC,KAQb,OAPAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,MAGX1B,KAAMC,KAAOC,UAERR,KAGToD,gBAAkB,WAChBC,KAASC,IAAI5J,EAAKqJ,YAAc,CAC9BlC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,WAMfuB,mBAAqB,WACnB,IAAIvD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,QAINhC,KAGT0F,QAAU1S,EAAOsO,UACP5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBuS,KAAO/S,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBuS,KAAOhT,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,SAEzBkS,SAAW5S,EAAOsO,UACR5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,SAEzB2R,YAAcrS,EAAOsO,UACX5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzByN,KAAOjO,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBoQ,KAAO7Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzB0R,WAAanS,EAAOsO,UACV5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBkQ,KAAO1Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBoN,QAAU/N,EAAOsO,UAEL5H,EAAKwE,MAAMmC,OACjBnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,QAKxBgO,WAAa,WACXjI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKqG,cAAc2B,MAAM,OAG3BE,aAAe,WACblI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKiH,eAAee,MAAM,OAmC5BoC,YAAc,SAACC,GACbA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbC,UAAY,SAACH,GACXA,EAAEC,iBACFtK,EAAKwE,MAAMiG,YAGbC,aAAe,SAACL,GACdA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbI,WAAa,SAACN,GACZA,EAAEC,iBACFtK,EAAKwE,MAAMiG,6FA9CPxK,KAAKoJ,aACPpJ,KAAK4J,gEAIUxB,GACbA,EAAUD,SAAWnI,KAAKuE,MAAM4D,SAC9BnI,KAAKuE,MAAM4D,OACbnI,KAAKgI,aAELhI,KAAKiI,gBAILG,EAAUC,YAAcrI,KAAKuE,MAAM8D,YACjCrI,KAAKuE,MAAMoG,SACb3K,KAAKyJ,kBAELzJ,KAAKwJ,mBAILpB,EAAUwC,WAAa5K,KAAKuE,MAAMqG,WAChC5K,KAAKuE,MAAMqG,SACb5K,KAAKgI,aAELhI,KAAKiI,iDAuBF,IAAAvG,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAK0H,YAAcnE,IACjCZ,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAKyH,UAAYlE,IAC/BZ,EAAAvF,EAAAwF,cAAA,KAAGyC,UAAW,gCACZ1C,EAAAvF,EAAAwF,cAAAtE,KAAM+J,KAAN,CACE9E,IAAK,SAAAA,GAAG,OAAKvD,EAAKqH,QAAU9D,GAC5BgG,EAAE,+FAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMwL,WAAN,CACEvG,IAAK,SAAAA,GAAG,OAAKvD,EAAK2J,cAAgBpG,GAClCgG,EAAE,4QAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMkK,KAAN,CACEjF,IAAK,SAAAA,GAAG,OAAKvD,EAAKwH,QAAUjE,GAC5BgG,EAAE,yKAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMsH,KAAN,CACErC,IAAK,SAAAA,GAAG,OAAKvD,EAAKuE,QAAUhB,GAC5BgG,EAAE,4KAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAM0L,YAAN,CACEzG,IAAK,SAAAA,GAAG,OAAKvD,EAAK4J,eAAiBrG,GACnCgG,EAAE,yQAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMoM,KAAN,CACEnH,IAAK,SAAAA,GAAG,OAAKvD,EAAKwK,QAAUjH,GAC5BgG,EAAE,yFAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMqM,KAAN,CACEpH,IAAK,SAAAA,GAAG,OAAKvD,EAAKyK,QAAUlH,GAC5BgG,EAAE,qEAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMiM,SAAN,CACEhH,IAAK,SAAAA,GAAG,OAAKvD,EAAKoK,YAAc7G,GAChCgG,EAAE,yPAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAM+L,QAAN,CACE9G,IAAK,SAAAA,GAAG,OAAKvD,EAAKkK,WAAa3G,GAC/BgG,EAAE,4EAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMoH,QAAN,CACE6D,EAAE,yaACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKwE,WAAajB,GAC/BkF,YAAanK,KAAKmK,YAClBI,UAAWvK,KAAKuK,UAChBE,aAAczK,KAAKyK,aACnBC,WAAY1K,KAAK0K,WACjBQ,MAAO,CAAEC,cAAenL,KAAKuE,MAAM6G,UAAY,OAAS,oBAxf7BzG,IAAMC,6jCCA1BjH,8MACX2O,QAAiC,OACjCC,UAAsC,OACtCC,kBAA2C,OAC3CC,WAAoC,OACpCC,qBAA8C,OAC9CC,cAAuC,OACvCzD,QAAiC,OACjC0D,iBAA0C,OAC1C7D,QAAiC,OACjC8D,oBAA6C,OAC7C3G,WAAoC,OACpCiD,UAAgC,OAChCC,YAAkC,OAE1ChD,YAAc,WACZ,IAAIC,EAAK,IAAIC,KAiJb,OAhJAD,EAAGE,IAAI,SACJC,GACCzG,EAAKuM,QACL,EACA,CACE9S,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKwM,UACL,EACA,CACE/S,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKyM,kBACL,EACA,CACEhT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK0M,WACL,EACA,CACEjT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK2M,qBACL,EACA,CACElT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK4M,cACL,EACA,CACEnT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWP,MACnBR,EAAQc,YAAYN,OAE1B4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK8M,oBACL,EACA,CACErT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK6M,iBACL,EACA,CACEpT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTW,aAAe,WACb,IAAIX,EAAK,IAAIC,KAiJb,OAhJAD,EAAGE,IAAI,SACJC,GACCzG,EAAKuM,QACL,EACA,CACE9S,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKwM,UACL,EACA,CACE/S,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKyM,kBACL,EACA,CACEhT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK0M,WACL,EACA,CACEjT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK2M,qBACL,EACA,CACElT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK4M,cACL,EACA,CACEnT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,OAEzB4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK8M,oBACL,EACA,CACErT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK6M,iBACL,EACA,CACEpT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,MAExB2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTiD,WAAa,WACX,IAAIjD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,mBAEbJ,KAAMC,KAAOC,UAERR,KAGTkD,SAAW,WACT,IAAIlD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,kBAEbJ,KAAMC,KAAOC,UAERR,KAGTmD,gBAAkB,WAChB,IAAInD,EAAK,IAAIC,KAQb,OAPAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,MAGX1B,KAAMC,KAAOC,UAERR,KAGToD,gBAAkB,WAChBC,KAASC,IAAI5J,EAAKqJ,YAAc,CAC9BlC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,WAMfuB,mBAAqB,WACnB,IAAIvD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,QAINhC,KAGTyG,KAAOzT,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBiT,OAAS1T,EAAOkO,aACNxH,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBgT,eAAiB3T,EAAOsO,UACd5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBoT,QAAU5T,EAAOsO,UACP5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBoT,kBAAoB7T,EAAOsO,UACjB5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBsT,WAAa9T,EAAOsO,UACV5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBoQ,KAAO7Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,SAEzBqT,cAAgB/T,EAAOsO,UACb5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBkQ,KAAO1Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBqT,iBAAmBhU,EAAOsO,UAChB5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBuN,QAAU/N,EAAOsO,UAEL5H,EAAKwE,MAAMmC,OACjBnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,QAKxBgO,WAAa,WACXjI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKqG,cAAc2B,MAAM,OAG3BE,aAAe,WACblI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKiH,eAAee,MAAM,OAmC5BoC,YAAc,SAACC,GACbA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbC,UAAY,SAACH,GACXA,EAAEC,iBACFtK,EAAKwE,MAAMiG,YAGbC,aAAe,SAACL,GACdA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbI,WAAa,SAACN,GACZA,EAAEC,iBACFtK,EAAKwE,MAAMiG,6FA9CPxK,KAAKoJ,aACPpJ,KAAK4J,gEAIUxB,GACbA,EAAUD,SAAWnI,KAAKuE,MAAM4D,SAC9BnI,KAAKuE,MAAM4D,OACbnI,KAAKgI,aAELhI,KAAKiI,gBAILG,EAAUC,YAAcrI,KAAKuE,MAAM8D,YACjCrI,KAAKuE,MAAMoG,SACb3K,KAAKyJ,kBAELzJ,KAAKwJ,mBAILpB,EAAUwC,WAAa5K,KAAKuE,MAAMqG,WAChC5K,KAAKuE,MAAMqG,SACb5K,KAAKgI,aAELhI,KAAKiI,iDAuBF,IAAAvG,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAK0H,YAAcnE,IACjCZ,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAKyH,UAAYlE,IAC/BZ,EAAAvF,EAAAwF,cAAA,KAAGyC,UAAW,gCACZ1C,EAAAvF,EAAAwF,cAAAtE,KAAMqN,iBAAN,CACEpI,IAAK,SAAAA,GAAG,OAAKvD,EAAKmL,oBAAsB5H,GACxCgG,EAAE,6RAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAM+J,KAAN,CACE9E,IAAK,SAAAA,GAAG,OAAKvD,EAAKqH,QAAU9D,GAC5BgG,EAAE,qGAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMoN,cAAN,CACEnI,IAAK,SAAAA,GAAG,OAAKvD,EAAKkL,iBAAmB3H,GACrCgG,EAAE,iQAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMkK,KAAN,CACEjF,IAAK,SAAAA,GAAG,OAAKvD,EAAKwH,QAAUjE,GAC5BgG,EAAE,iLAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMmN,WAAN,CACElI,IAAK,SAAAA,GAAG,OAAKvD,EAAKiL,cAAgB1H,GAClCgG,EAAE,yKAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMkN,kBAAN,CACEjI,IAAK,SAAAA,GAAG,OAAKvD,EAAKgL,qBAAuBzH,GACzCgG,EAAE,mRAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMiN,QAAN,CACEhI,IAAK,SAAAA,GAAG,OAAKvD,EAAK+K,WAAaxH,GAC/BgG,EAAE,sLAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMgN,eAAN,CACE/H,IAAK,SAAAA,GAAG,OAAKvD,EAAK8K,kBAAoBvH,GACtCgG,EAAE,qRAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAM+M,OAAN,CACE9H,IAAK,SAAAA,GAAG,OAAKvD,EAAK6K,UAAYtH,GAC9BkC,OAAO,0EAET9C,EAAAvF,EAAAwF,cAAAtE,KAAM8M,KAAN,CACE7H,IAAK,SAAAA,GAAG,OAAKvD,EAAK4K,QAAUrH,GAC5BgG,EAAE,qQAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMoH,QAAN,CACE6D,EAAE,ojBACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKwE,WAAajB,GAC/BkF,YAAanK,KAAKmK,YAClBI,UAAWvK,KAAKuK,UAChBE,aAAczK,KAAKyK,aACnBC,WAAY1K,KAAK0K,WACjBQ,MAAO,CAAEC,cAAenL,KAAKuE,MAAM6G,UAAY,OAAS,oBA5hBlCzG,IAAMC,mvCCArB/G,8MACXmL,QAAiC,OACjCwD,kBAA2C,OAC3CC,WAAoC,OACpCa,UAAmC,OACnCV,iBAA0C,OAC1CW,WAAoC,OACpCC,QAAiC,OACjCd,qBAA8C,OAC9CC,cAA0C,OAC1CzD,QAAiC,OACjC2D,oBAA6C,OAC7C9D,QAAmC,OACnC7C,WAAoC,OACpCiD,UAAgC,OAChCC,YAAkC,OAE1ChD,YAAc,WACZ,IAAIC,EAAK,IAAIC,KA2Kb,OA1KAD,EAAGE,IAAI,SACJC,GACCzG,EAAKiJ,QACL,EACA,CACExP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKyM,kBACL,EACA,CACEhT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK0M,WACL,EACA,CACEjT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKuN,UACL,EACA,CACE9T,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK6M,iBACL,EACA,CACEpT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKwN,WACL,EACA,CACE/T,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWP,MACnBR,EAAQc,YAAYN,OAE1B4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKyN,QACL,EACA,CACEhU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK2M,qBACL,EACA,CACElT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK4M,cACL,EACA,CACEnT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK8M,oBACL,EACA,CACErT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTW,aAAe,WACb,IAAIX,EAAK,IAAIC,KA2Kb,OA1KAD,EAAGE,IAAI,SACJC,GACCzG,EAAKiJ,QACL,EACA,CACExP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKyM,kBACL,EACA,CACEhT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK0M,WACL,EACA,CACEjT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKuN,UACL,EACA,CACE9T,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK6M,iBACL,EACA,CACEpT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKwN,WACL,EACA,CACE/T,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,OAEzB4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKyN,QACL,EACA,CACEhU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK2M,qBACL,EACA,CACElT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK4M,cACL,EACA,CACEnT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAK8M,oBACL,EACA,CACErT,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,MAExB2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTiD,WAAa,WACX,IAAIjD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,mBAEbJ,KAAMC,KAAOC,UAERR,KAGTkD,SAAW,WACT,IAAIlD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,kBAEbJ,KAAMC,KAAOC,UAERR,KAGTmD,gBAAkB,WAChB,IAAInD,EAAK,IAAIC,KAQb,OAPAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,MAGX1B,KAAMC,KAAOC,UAERR,KAGToD,gBAAkB,WAChBC,KAASC,IAAI5J,EAAKqJ,YAAc,CAC9BlC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,WAMfuB,mBAAqB,WACnB,IAAIvD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,QAINhC,KAGT2D,KAAO3Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBgT,eAAiB3T,EAAOsO,UACd5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBoT,QAAU5T,EAAOsO,UACP5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzB2T,OAASpU,EAAOsO,UACN5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBsT,cAAgB/T,EAAOsO,UACb5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzB6T,QAAUrU,EAAOsO,UACP5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,SAEzB4T,KAAOtU,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBkT,kBAAoB7T,EAAOsO,UACjB5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBsT,WAAa9T,EAAOyQ,aACV/J,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBoQ,KAAO7Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBuT,iBAAmBhU,EAAOsO,UAChB5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBkQ,KAAO1Q,EAAOuU,YACJ7N,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBoN,QAAU/N,EAAOsO,UAEL5H,EAAKwE,MAAMmC,OACjBnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,QAKxBgO,WAAa,WACXjI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKqG,cAAc2B,MAAM,OAG3BE,aAAe,WACblI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKiH,eAAee,MAAM,OAmC5BoC,YAAc,SAACC,GACbA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbC,UAAY,SAACH,GACXA,EAAEC,iBACFtK,EAAKwE,MAAMiG,YAGbC,aAAe,SAACL,GACdA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbI,WAAa,SAACN,GACZA,EAAEC,iBACFtK,EAAKwE,MAAMiG,6FA9CPxK,KAAKoJ,aACPpJ,KAAK4J,gEAIUxB,GACbA,EAAUD,SAAWnI,KAAKuE,MAAM4D,SAC9BnI,KAAKuE,MAAM4D,OACbnI,KAAKgI,aAELhI,KAAKiI,gBAILG,EAAUC,YAAcrI,KAAKuE,MAAM8D,YACjCrI,KAAKuE,MAAMoG,SACb3K,KAAKyJ,kBAELzJ,KAAKwJ,mBAILpB,EAAUwC,WAAa5K,KAAKuE,MAAMqG,WAChC5K,KAAKuE,MAAMqG,SACb5K,KAAKgI,aAELhI,KAAKiI,iDAuBF,IAAAvG,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAK0H,YAAcnE,IACjCZ,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAKyH,UAAYlE,IAC/BZ,EAAAvF,EAAAwF,cAAA,KAAGyC,UAAW,+BACZ1C,EAAAvF,EAAAwF,cAAAtE,KAAMgK,KAAN,CACE/E,IAAK,SAAAA,GAAG,OAAKvD,EAAKsH,QAAU/D,GAC5BgG,EAAE,iGAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMgN,eAAN,CACE/H,IAAK,SAAAA,GAAG,OAAKvD,EAAK8K,kBAAoBvH,GACtCgG,EAAE,gRAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMiN,QAAN,CACEhI,IAAK,SAAAA,GAAG,OAAKvD,EAAK+K,WAAaxH,GAC/BgG,EAAE,4LAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMyN,OAAN,CACExI,IAAK,SAAAA,GAAG,OAAKvD,EAAK4L,UAAYrI,GAC9BgG,EAAE,kLAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMoN,cAAN,CACEnI,IAAK,SAAAA,GAAG,OAAKvD,EAAKkL,iBAAmB3H,GACrCgG,EAAE,oRAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAM0N,QAAN,CACEzI,IAAK,SAAAA,GAAG,OAAKvD,EAAK6L,WAAatI,GAC/BgG,EAAE,qGAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAM2N,KAAN,CACE1I,IAAK,SAAAA,GAAG,OAAKvD,EAAK8L,QAAUvI,GAC5BgG,EAAE,iGAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMkN,kBAAN,CACEjI,IAAK,SAAAA,GAAG,OAAKvD,EAAKgL,qBAAuBzH,GACzCgG,EAAE,uQAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMmN,WAAN,CACElI,IAAK,SAAAA,GAAG,OAAKvD,EAAKiL,cAAgB1H,GAClC4F,GAAG,SACHC,GAAG,QACHC,GAAG,SACHC,GAAG,WAEL3G,EAAAvF,EAAAwF,cAAAtE,KAAMkK,KAAN,CACEjF,IAAK,SAAAA,GAAG,OAAKvD,EAAKwH,QAAUjE,GAC5BgG,EAAE,4KAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMqN,iBAAN,CACEpI,IAAK,SAAAA,GAAG,OAAKvD,EAAKmL,oBAAsB5H,GACxCgG,EAAE,6KAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAM+J,KAAN,CACE9E,IAAK,SAAAA,GAAG,OAAKvD,EAAKqH,QAAU9D,GAC5B4F,GAAG,SACHC,GAAG,QACH+C,EAAE,UAEJxJ,EAAAvF,EAAAwF,cAAAtE,KAAMoH,QAAN,CACE6D,EAAE,skBACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKwE,WAAajB,GAC/BkF,YAAanK,KAAKmK,YAClBI,UAAWvK,KAAKuK,UAChBE,aAAczK,KAAKyK,aACnBC,WAAY1K,KAAK0K,WACjBQ,MAAO,CAAEC,cAAenL,KAAKuE,MAAM6G,UAAY,OAAS,oBAzmBnCzG,IAAMC,6jCCApB7G,8MACX+P,YAAqC,OACrCC,aAAsC,OACtCC,cAAuC,OACvCC,aAAyC,OACzCT,QAAiC,OACjCU,eAAwC,OACxCjI,QAAiC,OACjCiD,QAAiC,OACjCiF,cAAuC,OACvCpF,QAAiC,OACjC7C,WAAoC,OACpCiD,UAAgC,OAChCC,YAAkC,OAE1ChD,YAAc,WACZ,IAAIC,EAAK,IAAIC,KAiJb,OAhJAD,EAAGE,IAAI,SACJC,GACCzG,EAAK+N,YACL,EACA,CACEtU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgO,aACL,EACA,CACEvU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWP,MACnBR,EAAQc,YAAYN,OAE1B4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKiO,cACL,EACA,CACExU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKkO,aACL,EACA,CACEzU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKyN,QACL,EACA,CACEhU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWP,MACnBR,EAAQc,YAAYN,OAE1B4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmO,eACL,EACA,CACE1U,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKkG,QACL,EACA,CACEzM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWR,IACnBP,EAAQc,YAAYP,KAE1B6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKoO,cACL,EACA,CACE3U,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWT,IACnBN,EAAQc,YAAYR,KAE1B8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQe,WAAWN,KACnBT,EAAQc,YAAYL,MAE1B2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTW,aAAe,WACb,IAAIX,EAAK,IAAIC,KAiJb,OAhJAD,EAAGE,IAAI,SACJC,GACCzG,EAAK+N,YACL,EACA,CACEtU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgO,aACL,EACA,CACEvU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,OAEzB4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKiO,cACL,EACA,CACExU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKkO,aACL,EACA,CACEzU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKyN,QACL,EACA,CACEhU,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,OAEzB4M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmO,eACL,EACA,CACE1U,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKkG,QACL,EACA,CACEzM,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmJ,QACL,EACA,CACE1P,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,KAEzB6M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKoO,cACL,EACA,CACE3U,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,KAEzB8M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKgJ,QACL,EACA,CACEvP,IAAK,CACHiN,KAAM1G,EAAKwE,MAAMmC,OACbnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,MAEzB2M,KAAMC,KAAOC,SAEf,SAEDL,GACCzG,EAAKmG,WACL,EACA,CACE1M,IAAK,CACH6P,OAAQtJ,EAAKwE,MAAMmC,OACfnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,MAExB2M,KAAMC,KAAOC,SAEf,SAEGR,KAGTiD,WAAa,WACX,IAAIjD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,mBAEbJ,KAAMC,KAAOC,UAERR,KAGTkD,SAAW,WACT,IAAIlD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKoJ,UAAY,EAAG,CACrCjC,KAAM,CACJH,UAAW,kBAEbJ,KAAMC,KAAOC,UAERR,KAGTmD,gBAAkB,WAChB,IAAInD,EAAK,IAAIC,KAQb,OAPAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,MAGX1B,KAAMC,KAAOC,UAERR,KAGToD,gBAAkB,WAChBC,KAASC,IAAI5J,EAAKqJ,YAAc,CAC9BlC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,WAMfuB,mBAAqB,WACnB,IAAIvD,EAAK,IAAIC,KAOb,OANAD,EAAGE,IAAI,SAASC,GAAGzG,EAAKqJ,YAAc,EAAG,CACvClC,KAAM,CACJH,UAAS,aAAA1J,OAAe0C,EAAKwE,MAAM8D,UAAU,GAApC,KAAAhL,OAA0C0C,EAAKwE,MACrD8D,UAAU,GAAK,GADT,QAINhC,KAGT+H,SAAW/U,EAAOsO,UACR5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBwU,UAAYhV,EAAOsO,UACT5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,SAEzBuU,WAAajV,EAAOsO,UACV5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzByU,UAAYlV,EAAOyQ,aACT/J,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzB8T,KAAOtU,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWJ,MACnBR,EAAQK,WAAWG,SAEzByU,YAAcnV,EAAOsO,UACX5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzByN,KAAOjO,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzBoQ,KAAO7Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWL,IACnBP,EAAQK,WAAWE,OAEzB2U,WAAapV,EAAOsO,UACV5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWN,IACnBN,EAAQK,WAAWC,OAEzBkQ,KAAO1Q,EAAOsO,UACJ5H,EAAKwE,MAAMmC,OACfnN,EAAQY,WAAWH,KACnBT,EAAQK,WAAWI,QAEzBoN,QAAU/N,EAAOsO,UAEL5H,EAAKwE,MAAMmC,OACjBnN,EAAQa,UAAUL,MAClBR,EAAQW,UAAUF,QAKxBgO,WAAa,WACXjI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKqG,cAAc2B,MAAM,OAG3BE,aAAe,WACblI,EAAKuJ,aAAaxB,UAAU,GAC5B/H,EAAKwJ,WAAWxB,MAAM,IACtBhI,EAAKiH,eAAee,MAAM,OAmC5BoC,YAAc,SAACC,GACbA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbC,UAAY,SAACH,GACXA,EAAEC,iBACFtK,EAAKwE,MAAMiG,YAGbC,aAAe,SAACL,GACdA,EAAEC,iBACFtK,EAAKwE,MAAM+F,YAEbI,WAAa,SAACN,GACZA,EAAEC,iBACFtK,EAAKwE,MAAMiG,6FA9CPxK,KAAKoJ,aACPpJ,KAAK4J,gEAIUxB,GACbA,EAAUD,SAAWnI,KAAKuE,MAAM4D,SAC9BnI,KAAKuE,MAAM4D,OACbnI,KAAKgI,aAELhI,KAAKiI,gBAILG,EAAUC,YAAcrI,KAAKuE,MAAM8D,YACjCrI,KAAKuE,MAAMoG,SACb3K,KAAKyJ,kBAELzJ,KAAKwJ,mBAILpB,EAAUwC,WAAa5K,KAAKuE,MAAMqG,WAChC5K,KAAKuE,MAAMqG,SACb5K,KAAKgI,aAELhI,KAAKiI,iDAuBF,IAAAvG,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAK0H,YAAcnE,IACjCZ,EAAAvF,EAAAwF,cAAA,KAAGW,IAAK,SAAAA,GAAG,OAAKvD,EAAKyH,UAAYlE,IAC/BZ,EAAAvF,EAAAwF,cAAA,KAAGyC,UAAW,+BACZ1C,EAAAvF,EAAAwF,cAAAtE,KAAM+J,KAAN,CACE9E,IAAK,SAAAA,GAAG,OAAKvD,EAAKqH,QAAU9D,GAC5BgG,EAAE,kGAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMyO,WAAN,CACExJ,IAAK,SAAAA,GAAG,OAAKvD,EAAKyM,cAAgBlJ,GAClCgG,EAAE,oRAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMkK,KAAN,CACEjF,IAAK,SAAAA,GAAG,OAAKvD,EAAKwH,QAAUjE,GAC5BgG,EAAE,4NAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMsH,KAAN,CACErC,IAAK,SAAAA,GAAG,OAAKvD,EAAKuE,QAAUhB,GAC5BgG,EAAE,6KAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMwO,YAAN,CACEvJ,IAAK,SAAAA,GAAG,OAAKvD,EAAKwM,eAAiBjJ,GACnCgG,EAAE,kRAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAM2N,KAAN,CACE1I,IAAK,SAAAA,GAAG,OAAKvD,EAAK8L,QAAUvI,GAC5BgG,EAAE,+GAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMuO,UAAN,CACEtJ,IAAK,SAAAA,GAAG,OAAKvD,EAAKuM,aAAehJ,GACjC4F,GAAG,SACHC,GAAG,SACHC,GAAG,SACHC,GAAG,WAEL3G,EAAAvF,EAAAwF,cAAAtE,KAAMsO,WAAN,CACErJ,IAAK,SAAAA,GAAG,OAAKvD,EAAKsM,cAAgB/I,GAClCgG,EAAE,8KAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMqO,UAAN,CACEpJ,IAAK,SAAAA,GAAG,OAAKvD,EAAKqM,aAAe9I,GACjCgG,EAAE,mNAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMoO,SAAN,CACEnJ,IAAK,SAAAA,GAAG,OAAKvD,EAAKoM,YAAc7I,GAChCgG,EAAE,qLAEJ5G,EAAAvF,EAAAwF,cAAAtE,KAAMoH,QAAN,CACE6D,EAAE,2uBACFhG,IAAK,SAAAA,GAAG,OAAKvD,EAAKwE,WAAajB,GAC/BkF,YAAanK,KAAKmK,YAClBI,UAAWvK,KAAKuK,UAChBE,aAAczK,KAAKyK,aACnBC,WAAY1K,KAAK0K,WACjBQ,MAAO,CAAEC,cAAenL,KAAKuE,MAAM6G,UAAY,OAAS,oBA/hBpCzG,IAAMC,WCYlC8J,8MACJtP,MAAe,CACbuP,cAAe,CAAC,EAAG,GACnBC,aAAc,CAAC,EAAG,GAClBjE,UAAU,EACVkE,iBAAkB,GAClBC,UAAU,KAGZC,YAAc,SAAC3E,GACRrK,EAAKX,MAAMuL,UACd5K,EAAKmF,SAAS,CAAEyF,UAAU,IAE5B,IAAIqE,EAAMjP,EAAKwE,MAAM0K,OAAOC,eACxBC,EAAwB,EACzB/E,EAAEgF,QAAUJ,EAAK5E,GAAK4E,EAAKlQ,GAC3BsL,EAAEiF,QAAUL,EAAKM,GAAKN,EAAK/D,GAE9BlL,EAAKmF,SAAS,CAAE0J,aAAcO,IAC9BpP,EAAKmF,SAAS,CAAEyJ,cAAe,CAACQ,EAAI,GAAK,GAAIA,EAAI,GAAK,UAGxDI,YAAc,SAACnF,GACRrK,EAAKX,MAAMuL,UACd5K,EAAKmF,SAAS,CAAEyF,UAAU,IAE5B,IAAIqE,EAAMjP,EAAKwE,MAAM0K,OAAOC,eACxBC,EAAwB,EACzB/E,EAAEoF,QAAQ,GAAGJ,QAAUJ,EAAK5E,GAAK4E,EAAKlQ,GACtCsL,EAAEoF,QAAQ,GAAGH,QAAUL,EAAKM,GAAKN,EAAK/D,GAEzClL,EAAKmF,SAAS,CAAE0J,aAAcO,IAC9BpP,EAAKmF,SAAS,CAAEyJ,cAAe,CAACQ,EAAI,GAAK,GAAIA,EAAI,GAAK,UAGxD7E,OAAS,WACPvK,EAAKmF,SAAS,CAAE4J,UAAU,IAC1B,IAAIW,EAAgB7U,IAAM8U,UACxB3P,EAAKwE,MAAM1D,KAAKlG,MAChBoF,EAAKwE,MAAMrL,MAAMgE,mBAEnB6C,EAAKmF,SAAS,CAAE2J,iBAAkB9O,EAAKwE,MAAM1D,KAAKhG,SAClDkF,EAAKwE,MAAMjE,SAASoC,EAAQ7B,KAAKpB,eAAbhB,OAAAuD,EAAA,EAAAvD,CAAgCgR,KACpD1P,EAAKwE,MAAMjE,SAASoC,EAAQ7B,KAAKY,iBAAiB3B,OAAOC,EAAKwE,MAAMrL,QACpEyW,OAAOC,iBAAiB,YAAa7P,EAAKgP,aAC1CY,OAAOC,iBAAiB,YAAa7P,EAAKwP,gBAG5C/E,OAAS,WACPzK,EAAKwE,MAAMjE,SAASoC,EAAQ7B,KAAKpB,eAAe,KAEhD,IAAIoQ,EAAkB7U,EAAiB+E,EAAKX,MAAMwP,cAElDe,OAAOG,oBAAoB,YAAa/P,EAAKgP,aAC7CY,OAAOG,oBAAoB,YAAa/P,EAAKwP,aAC7CxP,EAAKmF,SAAS,CAAEyF,UAAU,EAAOmE,UAAU,IAE3C,IAAIW,EAAgB7U,IAAM8U,UACxB3P,EAAKwE,MAAM1D,KAAKlG,MAChBoF,EAAKwE,MAAMrL,MAAMgE,mBAGnB,IAAkE,IAA9DuB,OAAAuD,EAAA,EAAAvD,CAAIgR,GAAetU,UAAU,SAAAC,GAAC,OAAIA,IAAMyU,IAAyB,CACnE,IAAItU,EAAWX,IAAMmV,UAAUhQ,EAAKwE,MAAM1D,KAAKlG,MAAO,CACpDoF,EAAKwE,MAAMrL,MAAMgE,kBACjB2S,IAEF9P,EAAKwE,MAAMjE,SAASoC,EAAQ7B,KAAKlB,SAASG,OAAOvE,GAAU,GAAO,SAElEwE,EAAKwE,MAAMjE,SAASoC,EAAQ7B,KAAK7B,UAAUe,EAAKX,MAAMyP,sBAI1DmB,SAAW,WACT,OAAQjQ,EAAKwE,MAAMrL,MAAM8D,MACvB,KAAK9D,EAAM2D,KACT,OACEwH,EAAAvF,EAAAwF,cAAC2L,GAAD,CACEvJ,OAAQ3G,EAAKwE,MAAMrL,MAAMC,SAAWA,EAAO8E,MAC3CoK,UACEtI,EAAKX,MAAMuL,SACP5K,EAAKX,MAAMuP,cACX5O,EAAKwE,MAAMrL,MAAM+D,SAEvBqN,OAAQvK,EAAKuK,OACbE,OAAQzK,EAAKyK,OACbG,SAAU5K,EAAKX,MAAMuL,SACrBS,UAAWrL,EAAKwE,MAAMrL,MAAMiE,OAC5BgL,OACEpI,EAAKwE,MAAM1D,KAAKnG,YAAYiO,QAC1B5I,EAAKwE,MAAMrL,MAAMgE,oBACd,EAEP0N,SAAU7K,EAAKX,MAAM0P,WAG3B,KAAK5V,EAAMqE,KACT,OACE8G,EAAAvF,EAAAwF,cAAC4L,GAAD,CACExJ,OAAQ3G,EAAKwE,MAAMrL,MAAMC,SAAWA,EAAO8E,MAC3CoK,UACEtI,EAAKX,MAAMuL,SACP5K,EAAKX,MAAMuP,cACX5O,EAAKwE,MAAMrL,MAAM+D,SAEvBqN,OAAQvK,EAAKuK,OACbE,OAAQzK,EAAKyK,OACbG,SAAU5K,EAAKX,MAAMuL,SACrBS,UAAWrL,EAAKwE,MAAMrL,MAAMiE,OAC5BgL,OACEpI,EAAKwE,MAAM1D,KAAKnG,YAAYiO,QAC1B5I,EAAKwE,MAAMrL,MAAMgE,oBACd,EAEP0N,SAAU7K,EAAKX,MAAM0P,WAG3B,KAAK5V,EAAMuE,OACT,OAAOsC,EAAKwE,MAAMrL,MAAMC,SAAWA,EAAO4D,MACxCsH,EAAAvF,EAAAwF,cAAC6L,GAAD,CACEzJ,QAAQ,EACR2B,UACEtI,EAAKX,MAAMuL,SACP5K,EAAKX,MAAMuP,cACX5O,EAAKwE,MAAMrL,MAAM+D,SAEvBqN,OAAQvK,EAAKuK,OACbE,OAAQzK,EAAKyK,OACbG,SAAU5K,EAAKX,MAAMuL,SACrBS,UAAWrL,EAAKwE,MAAMrL,MAAMiE,OAC5BgL,OACEpI,EAAKwE,MAAM1D,KAAKnG,YAAYiO,QAC1B5I,EAAKwE,MAAMrL,MAAMgE,oBACd,EAEP0N,SAAU7K,EAAKX,MAAM0P,WAGvBzK,EAAAvF,EAAAwF,cAAC8L,GAAD,CACE1J,QAAQ,EACR2B,UACEtI,EAAKX,MAAMuL,SACP5K,EAAKX,MAAMuP,cACX5O,EAAKwE,MAAMrL,MAAM+D,SAEvBqN,OAAQvK,EAAKuK,OACbE,OAAQzK,EAAKyK,OACbG,SAAU5K,EAAKX,MAAMuL,SACrBS,UAAWrL,EAAKwE,MAAMrL,MAAMiE,OAC5BgL,OACEpI,EAAKwE,MAAM1D,KAAKnG,YAAYiO,QAC1B5I,EAAKwE,MAAMrL,MAAMgE,oBACd,EAEP0N,SAAU7K,EAAKX,MAAM0P,WAG3B,KAAK5V,EAAMyE,OACT,OACE0G,EAAAvF,EAAAwF,cAAC+L,GAAD,CACE3J,OAAQ3G,EAAKwE,MAAMrL,MAAMC,SAAWA,EAAO8E,MAC3CoK,UACEtI,EAAKX,MAAMuL,SACP5K,EAAKX,MAAMuP,cACX5O,EAAKwE,MAAMrL,MAAM+D,SAEvBqN,OAAQvK,EAAKuK,OACbE,OAAQzK,EAAKyK,OACbG,SAAU5K,EAAKX,MAAMuL,SACrBS,UAAWrL,EAAKwE,MAAMrL,MAAMiE,OAC5BgL,OACEpI,EAAKwE,MAAM1D,KAAKnG,YAAYiO,QAC1B5I,EAAKwE,MAAMrL,MAAMgE,oBACd,EAEP0N,SAAU7K,EAAKX,MAAM0P,WAG3B,KAAK5V,EAAM2E,MACT,OACEwG,EAAAvF,EAAAwF,cAACgM,GAAD,CACE5J,OAAQ3G,EAAKwE,MAAMrL,MAAMC,SAAWA,EAAO8E,MAC3CoK,UACEtI,EAAKX,MAAMuL,SACP5K,EAAKX,MAAMuP,cACX5O,EAAKwE,MAAMrL,MAAM+D,SAEvBqN,OAAQvK,EAAKuK,OACbE,OAAQzK,EAAKyK,OACbG,SAAU5K,EAAKX,MAAMuL,SACrBS,UAAWrL,EAAKwE,MAAMrL,MAAMiE,OAC5BgL,OACEpI,EAAKwE,MAAM1D,KAAKnG,YAAYiO,QAC1B5I,EAAKwE,MAAMrL,MAAMgE,oBACd,EAEP0N,SAAU7K,EAAKX,MAAM0P,WAG3B,KAAK5V,EAAM6E,KACT,OACEsG,EAAAvF,EAAAwF,cAACiM,GAAD,CACE7J,OAAQ3G,EAAKwE,MAAMrL,MAAMC,SAAWA,EAAO8E,MAC3CoK,UACEtI,EAAKX,MAAMuL,SACP5K,EAAKX,MAAMuP,cACX5O,EAAKwE,MAAMrL,MAAM+D,SAEvBqN,OAAQvK,EAAKuK,OACbE,OAAQzK,EAAKyK,OACbG,SAAU5K,EAAKX,MAAMuL,SACrBS,UAAWrL,EAAKwE,MAAMrL,MAAMiE,OAC5BgL,OACEpI,EAAKwE,MAAM1D,KAAKnG,YAAYiO,QAC1B5I,EAAKwE,MAAMrL,MAAMgE,oBACd,EAEP0N,SAAU7K,EAAKX,MAAM0P,qFAO7B,OAAO9O,KAAKgQ,kBAhOYrL,IAAMC,WAsOnBgE,eAFS,SAACxJ,GAAD,OAA+BA,GAExCwJ,CAAyB8F,ICpPlC7T,sOACqBuN,EAAkBoI,qFACrCpI,EAAUvH,KAAKlG,QAAUqF,KAAKuE,MAAM1D,KAAKlG,yBAExB,OADf4B,EAAaC,OAAOC,aAAauD,KAAKuE,MAAM1D,KAAKlG,MAAM,OAChCqF,KAAKuE,MAAM1D,KAAK/F,KAGzCkF,KAAKuE,MAAMjE,SAASoC,EAAQnD,WAAWnG,EAAQqX,YAF/CzQ,KAAKuE,MAAMjE,SAASoC,EAAQnD,WAAWnG,EAAQsX,YAI9B,MAAfnU,IAAsByD,KAAKuE,MAAM1D,KAAK/F,4BACxCkF,KAAKuE,MAAMjE,SAASoC,EAAQnD,WAAWnG,EAAQuX,uBAC5B/V,IAAMgW,WACvB5Q,KAAKuE,MAAM1D,KAAKlG,MAChBqF,KAAKuE,MAAM1D,KAAK9F,WAChB,YAHE8V,WAMFC,WAAW,WACT,IAAIvV,EAAWX,IAAMmV,UAAUhQ,EAAKwE,MAAM1D,KAAKlG,MAAOkW,GACtD9Q,EAAKwE,MAAMjE,SACToC,EAAQ/C,SAASG,OAAOvE,GAAU,GAAO,KAE1C,2IAMF,IAAAmG,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,SACGtE,KAAKuE,MAAM1D,KAAKhG,OAAOyN,IAAI,SAACpP,EAAOgC,GAAR,OAC1BmJ,EAAAvF,EAAAwF,cAACyM,GAAD,CACE7X,MAAOA,EACPgK,IAAKhK,EAAMkE,GACX6R,OAAQvN,EAAK6C,MAAM0K,mBAnCVtK,IAAMC,WA6CZgE,eAFS,SAACxJ,GAAD,OAA+BA,GAExCwJ,CAAyB/N,ICXlCmV,GAAW,SACf9W,EACA8X,EACA7X,GAEA,OAAQD,GACN,KAAK+X,EAAYpU,KACf,OAxDO,SAAC1D,GAAD,OACXkL,EAAAvF,EAAAwF,cAAA,QACE4G,MAAO,CAAEzE,KAAMtN,GACf8R,EAAE,8XAqDOpC,CAAK1P,GACd,KAAK8X,EAAY1T,KACf,OAnDO,SAACpE,GAAD,OACXkL,EAAAvF,EAAAwF,cAAA,QACE4G,MAAO,CAAEzE,KAAMtN,GACf8R,EAAE,+9BAgDO1N,CAAKpE,GACd,KAAK8X,EAAYxT,OACf,OAAOuT,IAAgBC,EAAalU,MA9CtB,SAAC5D,GAAD,OAClBkL,EAAAvF,EAAAwF,cAAA,QACE4G,MAAO,CAAEzE,KAAMtN,GACf8R,EAAE,s3DA4CIU,CAAYxS,GAxCF,SAACA,GAAD,OAClBkL,EAAAvF,EAAAwF,cAAA,QACE4G,MAAO,CAAEzE,KAAMtN,GACf8R,EAAE,ytEAsCIiG,CAAY/X,GAClB,KAAK8X,EAAYtT,OACf,OApCS,SAACxE,GAAD,OACbkL,EAAAvF,EAAAwF,cAAA,QACE4G,MAAO,CAAEzE,KAAMtN,GACf8R,EAAE,uwHAiCOtN,CAAOxE,GAChB,KAAK8X,EAAYpT,MACf,OA/BQ,SAAC1E,GAAD,OACZkL,EAAAvF,EAAAwF,cAAA,QACE4G,MAAO,CAAEzE,KAAMtN,GACf8R,EAAE,myLA4BOpN,CAAM1E,GACf,KAAK8X,EAAYlT,KACf,OA1BO,SAAC5E,GAAD,OACXkL,EAAAvF,EAAAwF,cAAA,QACE4G,MAAO,CAAEzE,KAAMtN,GACf8R,EAAE,8pKAuBOlN,CAAK5E,GACd,QACE,OAAOkL,EAAAvF,EAAAwF,cAAA,cASQ6M,oLAEjB,OACE9M,EAAAvF,EAAAwF,cAAAD,EAAAvF,EAAAsS,SAAA,KACGpB,GACChQ,KAAKuE,MAAMhG,MAAMrF,MACjB8G,KAAKuE,MAAMhG,MAAMpF,OACjB6G,KAAKuE,MAAM8M,gBAPsB1M,IAAMC,WClE3C0M,8MACJC,QAAU,SAAChT,GAKT,IAAI3C,EAAS6C,OAAAuD,EAAA,EAAAvD,CAAIsB,EAAKwE,MAAM1D,KAAKhG,QAAQyD,OACvC,SAAApF,GAAK,OAAIA,EAAM8D,OAASuB,EAAMrF,OAASA,EAAMC,SAAWoF,EAAMpF,SA0BhE,OAAQoF,EAAMrF,OACZ,KAAKA,EAAM2D,KACT,OAAIjB,EAAO0G,OAzBS,WACtB,OAAQ/D,EAAMiT,QACZ,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EAEL,QACE,OAAO,GAMWC,GAAsB,EACjClT,EAAMpF,SAAWA,EAAO4D,MAC3B2U,EAAcrX,YAAYR,IAC1B6X,EAAcpX,WAAWP,MAEtB2X,EAAc9X,WAAWG,MAEpC,KAAKb,EAAMqE,KAcX,KAAKrE,EAAMuE,OAcX,KAAKvE,EAAMyE,OACT,OAAI/B,EAAO0G,QAAU,EACZoP,EAAc9X,WAAWG,MACL,IAAlB6B,EAAO0G,OACQ,IAAjB/D,EAAMiT,OACTjT,EAAMpF,SAAWA,EAAO4D,MACtB2U,EAAcrX,YAAYR,IAC1B6X,EAAcpX,WAAWP,MAC3B2X,EAAc9X,WAAWG,MAEtBwE,EAAMpF,SAAWA,EAAO4D,MAC3B2U,EAAcrX,YAAYR,IAC1B6X,EAAcpX,WAAWP,MAEjC,KAAKb,EAAM2E,MAMX,KAAK3E,EAAM6E,KACT,OAAOnC,EAAO0G,QAAU,EACpB/D,EAAMpF,SAAWA,EAAO4D,MACtB2U,EAAcrX,YAAYR,IAC1B6X,EAAcpX,WAAWP,MAC3B2X,EAAc9X,WAAWG,gFAI1B,IAAA2H,EAAA1B,KACP,OACEqE,EAAAvF,EAAAwF,cAAA,KAAGyC,UAAS,mBACT,CACC,CAAE7N,MAAOA,EAAMqE,KAAMoU,IAAK,GAC1B,CAAEzY,MAAOA,EAAMuE,OAAQkU,IAAK,GAC5B,CAAEzY,MAAOA,EAAMyE,OAAQgU,IAAK,GAC5B,CAAEzY,MAAOA,EAAM2E,MAAO8T,IAAK,GAC3B,CAAEzY,MAAOA,EAAM6E,KAAM4T,IAAK,GAC1B,CAAEzY,MAAOA,EAAMyE,OAAQgU,IAAK,GAC5B,CAAEzY,MAAOA,EAAMuE,OAAQkU,IAAK,GAC5B,CAAEzY,MAAOA,EAAMqE,KAAMoU,IAAK,IAC1BrJ,IAAI,SAAChJ,EAAOpE,GAAR,OACJmJ,EAAAvF,EAAAwF,cAAA,KACEpB,IAAG,GAAA7F,OAAKiC,EAAMpG,OAAXmE,OAAmBiC,EAAMqS,KAAzBtU,OAA+BqE,EAAK6C,MAAMpL,QAC7C4N,UAAS,aAAA1J,OAA6B,IAAbnC,EAAQ,IAC9BwG,EAAK6C,MAAMpL,SAAWA,EAAO4D,MAC1B,EACA,MAHG,uBAKTsH,EAAAvF,EAAAwF,cAACsN,GAAD,CACErT,MAAO,CACLrF,MAAOoG,EAAMpG,MACbC,OAAQuI,EAAK6C,MAAMpL,QAErBkY,OAAQ3P,EAAK6P,QAAQ,CACnBrY,MAAOoG,EAAMpG,MACbC,OAAQuI,EAAK6C,MAAMpL,OACnBqY,OAAQlS,EAAMqS,WAKrB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGrJ,IAAI,SAAAhJ,GAAK,OACjC+E,EAAAvF,EAAAwF,cAAA,KACEpB,IAAG,GAAA7F,OAAKiC,GAALjC,OAAaqE,EAAK6C,MAAMpL,QAC3B4N,UAAS,aAAA1J,OAAuB,GAARiC,GACrBoC,EAAK6C,MAAMpL,SAAWA,EAAO4D,MAC1B,EACA,MAHG,uBAKTsH,EAAAvF,EAAAwF,cAACsN,GAAD,CACErT,MAAO,CACLrF,MAAOA,EAAM2D,KACb1D,OAAQuI,EAAK6C,MAAMpL,QAErBkY,OAAQ3P,EAAK6P,QAAQ,CACnBrY,MAAOA,EAAM2D,KACb1D,OAAQuI,EAAK6C,MAAMpL,OACnBqY,OAAQlS,iBApJEqF,IAAMC,WAgKjBgE,eAFS,SAACxJ,GAAD,OAA+BA,GAExCwJ,CAAyB0I,inCC3KxC,IAAM3N,GAAYtK,EAAOuK,IAAViO,KAMOtY,EAAQK,WAAWI,KAEZT,EAAQc,YAAYJ,MAI3C6X,GAAUzY,EAAOuK,IAAVmO,KAGSxY,EAAQK,WAAWE,KAMnCkY,GAAkB3Y,EAAOuK,IAAVqO,KAGC1Y,EAAQY,WAAWN,IAMjBN,EAAQY,WAAWJ,MAEhC+X,GACavY,EAAQK,WAAWC,KAIrCqY,GAAO7Y,EAAO8Y,EAAVC,MAQJC,GAAMhZ,EAAOuK,IAAV0O,MAYYlO,8MACnBmO,WAA8C5N,IAAM6N,cAEpDpT,MAAe,CACbqT,QAAQ,KAGV5K,2BAAQ,SAAAxH,IAAA,OAAAF,EAAArB,EAAA0B,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACFZ,EAAKwS,WAAWG,QADd,CAAAjS,EAAAE,KAAA,eAEJgS,KAAUnM,GAAGzG,EAAKwS,WAAWG,QAAS,EAAG,CACvClZ,IAAK,CACHuN,UAAS,cAAA1J,OAAgB0C,EAAKX,MAAMqT,OAAS,MAAQ,OAA5C,MAEX9L,KAAMC,KAAOC,UANXpG,EAAAE,KAAA,EAQEZ,EAAKmF,SAAS,CAAEuN,QAAS1S,EAAKX,MAAMqT,SARtC,OASJ1S,EAAKwE,MAAMW,SAASnF,EAAKX,MAAMqT,QAT3B,wBAAAhS,EAAAW,SAAAf,EAAAL,iFAcN,OACEqE,EAAAvF,EAAAwF,cAACsO,GAAD,KACEvO,EAAAvF,EAAAwF,cAAC4N,GAAD,CACEhH,MAAO,CACL2H,MAAQ7S,KAAKZ,MAAMqT,OAEflZ,EAAQW,UAAUD,KADlBV,EAAQa,UAAUJ,OAH1B,MASAqK,EAAAvF,EAAAwF,cAAC+N,GAAD,MACAhO,EAAAvF,EAAAwF,cAAC0N,GAAD,CAAiB9J,QAASlI,KAAK6H,OAC7BxD,EAAAvF,EAAAwF,cAACwN,GAAD,CAAS7M,IAAKjF,KAAKuS,cAErBlO,EAAAvF,EAAAwF,cAAC+N,GAAD,MACAhO,EAAAvF,EAAAwF,cAAC4N,GAAD,CACEhH,MAAO,CACL2H,MAAO7S,KAAKZ,MAAMqT,OACdlZ,EAAQa,UAAUJ,KAClBT,EAAQW,UAAUD,OAJ1B,cArC8B0K,IAAMC,u/BCzD5C,IAAMjB,GAAYtK,EAAOuK,IAAVkP,MAUTC,GAAS1Z,EAAO2Z,MAAVC,KAMI,SAAAd,GAAC,OACbA,EAAEe,KAAO3Z,EAAQe,WAAWN,KAAOT,EAAQc,YAAYL,MAWzC,SAAAmY,GAAC,OACbA,EAAEe,KAAO3Z,EAAQK,WAAWE,IAAMP,EAAQc,YAAYL,MAC9C,SAAAmY,GAAC,OAAKA,EAAEe,KAAO,UAAY,SAInChB,GAAO7Y,EAAO8Y,EAAVgB,KAMC,SAAAhB,GAAC,OAAKA,EAAEe,KAAO3Z,EAAQK,WAAWE,IAAMP,EAAQc,YAAYL,OAGjEqY,GAAMhZ,EAAOuK,IAAVwP,MAcYxO,8MACnBxF,MAAe,CACbiU,OAAQ,KAGVC,aAAe,SAAChU,GACd,IAAIqS,EAAM4B,SAASjU,EAAMkU,cAAclU,OACnCmU,EAAe9B,EAAM,EACzB5R,EAAKmF,SAAS,CAAEmO,OAAQ1B,IACxB5R,EAAKwE,MAAMmP,iBAAiBD,4EAI5B,OACEpP,EAAAvF,EAAAwF,cAACqP,GAAD,KACEtP,EAAAvF,EAAAwF,cAACsP,GAAD,CAAMV,KAAMlT,KAAKuE,MAAMzJ,MAAvB,eACAuJ,EAAAvF,EAAAwF,cAACuP,GAAD,MACAxP,EAAAvF,EAAAwF,cAACyO,GAAD,CACEe,aAAa,IACbC,QAAS/T,KAAKsT,aACd9Q,KAAK,QACLwR,IAAI,IACJC,IAAI,KACJf,KAAMlT,KAAKuE,MAAMzJ,KACjBoZ,UAAWlU,KAAKuE,MAAMzJ,OAExBuJ,EAAAvF,EAAAwF,cAACuP,GAAD,MACAxP,EAAAvF,EAAAwF,cAACsP,GAAD,CAAMV,KAAMlT,KAAKuE,MAAMzJ,MAAOkF,KAAKZ,MAAMiU,gBA3BV1O,IAAMC,kaC1D7C,IAAMjB,GAAYtK,EAAOuK,IAAVuQ,KAKO5a,EAAQc,YAAYJ,MAQpCiY,GAAO7Y,EAAO8Y,EAAViC,KACC7a,EAAQK,WAAWC,KAUTwa,oLAEjB,OACEhQ,EAAAvF,EAAAwF,cAACgQ,GAAD,KACEjQ,EAAAvF,EAAAwF,cAACiQ,GAAD,KAAOvU,KAAKuE,MAAM/E,iBAJWmF,IAAMC,o5BCT3C,IAAM4P,GAAKnb,EAAOuK,IAAV6Q,KAIclb,EAAQK,WAAWC,KAGnC8J,GAAYtK,EAAOuK,IAAV8Q,MAUTrC,GAAMhZ,EAAOuK,IAAV+Q,MAIHC,GAASvb,EAAOuK,IAAViR,MAIN3C,GAAO7Y,EAAOyF,EAAVgW,KAICvb,EAAQc,YAAYP,KAGzBib,GAAO1b,EAAOyF,EAAVkW,KAICzb,EAAQK,WAAWC,KAGxBob,GAAc5b,EAAOuK,IAAVsR,MAOXC,8MAOJhW,WAAa,SAACC,GACZW,EAAKwE,MAAMjE,SAASoC,EAAQ7B,KAAK1B,WAAWC,OAG9CC,cAAgB,SAACC,GACfS,EAAKwE,MAAMjE,SAASoC,EAAQ7B,KAAKxB,cAAcC,yFAV/CU,KAAKuE,MAAMjE,SACToC,EAAQ7B,KAAKlB,SAASG,OAAOlF,IAAMD,SAAS,GAAM,qCAapD,OACE0J,EAAAvF,EAAAwF,cAACkQ,GAAD,KACEnQ,EAAAvF,EAAAwF,cAAC8Q,GAAD,KACE/Q,EAAAvF,EAAAwF,cAAC+Q,GAAD,CACE9P,OAAQ,SAAA+P,GAAW,OACjBjR,EAAAvF,EAAAwF,cAAA,SACED,EAAAvF,EAAAwF,cAACiR,GAAD,CAAapc,OAAQA,EAAO4D,QAC5BsH,EAAAvF,EAAAwF,cAACiR,GAAD,CAAapc,OAAQA,EAAO8E,QAC5BoG,EAAAvF,EAAAwF,cAACkR,GAAD,MACAnR,EAAAvF,EAAAwF,cAACmR,GAAD,CAAQxG,OAAQqG,EAAYrQ,WAKpCZ,EAAAvF,EAAAwF,cAACoR,GAAD,CACEjR,OACEJ,EAAAvF,EAAAwF,cAAAD,EAAAvF,EAAAsS,SAAA,KACE/M,EAAAvF,EAAAwF,cAACqR,GAAD,CAAQzQ,SAAUlF,KAAKb,aACvBkF,EAAAvF,EAAAwF,cAACsR,GAAD,MACAvR,EAAAvF,EAAAwF,cAACuR,GAAD,CACE/a,KAAMkF,KAAKuE,MAAM1D,KAAK/F,KACtBgb,YAAa9V,KAAKuE,MAAM1D,KAAK9F,WAC7B2Y,iBAAkB1T,KAAKX,iBAI7BmF,IAAKH,EAAAvF,EAAAwF,cAACyR,GAAD,CAASvW,QAASQ,KAAKuE,MAAM1D,KAAKzH,UACvCsL,QACEL,EAAAvF,EAAAwF,cAAAD,EAAAvF,EAAAsS,SAAA,KACE/M,EAAAvF,EAAAwF,cAAC0R,GAAD,gBACA3R,EAAAvF,EAAAwF,cAACsQ,GAAD,MACAvQ,EAAAvF,EAAAwF,cAACyQ,GAAD,CAAMkB,KAAM,uBAAwBC,OAAO,UACxC,IADH,gBAIA7R,EAAAvF,EAAAwF,cAAC2Q,GAAD,MACA5Q,EAAAvF,EAAAwF,cAAC0R,GAAD,aACA3R,EAAAvF,EAAAwF,cAACsQ,GAAD,MACAvQ,EAAAvF,EAAAwF,cAACyQ,GAAD,CAAMkB,KAAM,2BAA4BC,OAAO,UAA/C,8BAtDItR,aAmEHgE,eAFS,SAACxJ,GAAD,OAA+BA,GAExCwJ,CAAyBuM,ICxHpBgB,QACW,cAA7BxG,OAAOyG,SAASC,UAEe,UAA7B1G,OAAOyG,SAASC,UAEhB1G,OAAOyG,SAASC,SAASC,MACvB,2DCRN,IAAMC,GrBiCC,WACL,IAAMC,EAAmBC,8BAAoB,IACvCC,EAA8CC,IAMpD,OALcC,sBACZnT,GACAhJ,IACA+b,EAAiBK,0BAAgBH,KqBvCvBI,GAEdC,IAASxR,OACPlB,EAAAvF,EAAAwF,cAAC0S,EAAA,EAAD,CAAUT,MAAOA,IAEflS,EAAAvF,EAAAwF,cAAC2S,GAAD,OAGFC,SAASC,eAAe,SDuHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.069e4567.chunk.js","sourcesContent":["export enum piece {\r\n  'pawn',\r\n  'Rook',\r\n  'Bishop',\r\n  'Knight',\r\n  'Queen',\r\n  'King'\r\n}\r\n\r\nexport enum colour {\r\n  'White',\r\n  'Black'\r\n}\r\n\r\nexport type PieceObject = {\r\n  colour: colour;\r\n  name: piece;\r\n  id: string;\r\n  position: [number, number];\r\n  gameBoardPosition: number;\r\n  isTurn: boolean;\r\n};\r\n\r\nexport enum Message {\r\n  whiteMove = 'White move',\r\n  blackMove = 'Black move',\r\n  blackMoveAi = 'Black move (A.I.)'\r\n}\r\n\r\nexport const Coords = [\r\n  [840, 160],\r\n  [940, 218],\r\n  [1040, 276],\r\n  [1140, 334],\r\n  [1240, 392],\r\n  [1340, 450],\r\n  [1440, 508],\r\n  [1540, 566],\r\n  [740, 218],\r\n  [840, 276],\r\n  [940, 334],\r\n  [1040, 392],\r\n  [1140, 450],\r\n  [1240, 508],\r\n  [1340, 566],\r\n  [1440, 624],\r\n  [640, 276],\r\n  [740, 334],\r\n  [840, 392],\r\n  [940, 450],\r\n  [1040, 508],\r\n  [1140, 566],\r\n  [1240, 624],\r\n  [1340, 682],\r\n  [540, 334],\r\n  [640, 392],\r\n  [740, 450],\r\n  [840, 508],\r\n  [940, 566],\r\n  [1040, 624],\r\n  [1140, 682],\r\n  [1240, 740],\r\n  [440, 392],\r\n  [540, 450],\r\n  [640, 508],\r\n  [740, 566],\r\n  [840, 624],\r\n  [940, 682],\r\n  [1040, 740],\r\n  [1140, 798],\r\n  [340, 450],\r\n  [440, 508],\r\n  [540, 566],\r\n  [640, 624],\r\n  [740, 682],\r\n  [840, 740],\r\n  [940, 798],\r\n  [1040, 856],\r\n  [240, 508],\r\n  [340, 566],\r\n  [440, 624],\r\n  [540, 682],\r\n  [640, 740],\r\n  [740, 798],\r\n  [840, 856],\r\n  [940, 914],\r\n  [140, 566],\r\n  [240, 624],\r\n  [340, 682],\r\n  [440, 740],\r\n  [540, 798],\r\n  [640, 856],\r\n  [740, 914],\r\n  [840, 972]\r\n];\r\n\r\nexport const CenterCoords = [\r\n  [900, 280],\r\n  [1000, 338],\r\n  [1100, 396],\r\n  [1200, 454],\r\n  [1300, 512],\r\n  [1400, 570],\r\n  [1500, 628],\r\n  [1600, 686],\r\n  [800, 338],\r\n  [900, 396],\r\n  [1000, 454],\r\n  [1100, 512],\r\n  [1200, 570],\r\n  [1300, 628],\r\n  [1400, 686],\r\n  [1500, 744],\r\n  [700, 396],\r\n  [800, 454],\r\n  [900, 512],\r\n  [1000, 570],\r\n  [1100, 628],\r\n  [1200, 686],\r\n  [1300, 744],\r\n  [1400, 802],\r\n  [600, 454],\r\n  [700, 512],\r\n  [800, 570],\r\n  [900, 628],\r\n  [1000, 686],\r\n  [1100, 744],\r\n  [1200, 802],\r\n  [1300, 860],\r\n  [500, 512],\r\n  [600, 570],\r\n  [700, 628],\r\n  [800, 686],\r\n  [900, 744],\r\n  [1000, 802],\r\n  [1100, 860],\r\n  [1200, 918],\r\n  [400, 570],\r\n  [500, 628],\r\n  [600, 686],\r\n  [700, 744],\r\n  [800, 802],\r\n  [900, 860],\r\n  [1000, 918],\r\n  [1100, 976],\r\n  [300, 628],\r\n  [400, 686],\r\n  [500, 744],\r\n  [600, 802],\r\n  [700, 860],\r\n  [800, 918],\r\n  [900, 976],\r\n  [10000, 1034],\r\n  [200, 686],\r\n  [300, 744],\r\n  [400, 802],\r\n  [500, 860],\r\n  [600, 918],\r\n  [700, 976],\r\n  [800, 1034],\r\n  [900, 1092]\r\n];\r\n","import * as styledComponents from 'styled-components';\r\nimport { ThemedStyledComponentsModule } from 'styled-components';\r\n\r\nimport { Theme } from '.';\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  keyframes,\r\n  createGlobalStyle,\r\n  ThemeProvider\r\n} = styledComponents as ThemedStyledComponentsModule<typeof Theme>;\r\n\r\nexport { createGlobalStyle, css, keyframes, ThemeProvider, styled };\r\n","export const Colours = {\r\n  whiteLight: {\r\n    one: '#efefef',\r\n    two: '#e5e5e5',\r\n    three: '#dbdbdb',\r\n    four: '#cecece',\r\n    five: '#bcbcbc'\r\n  },\r\n  whiteDark: {\r\n    one: '#e5e5e5',\r\n    two: '#dbdbdb',\r\n    three: '#cecece',\r\n    four: '#bcbcbc',\r\n    five: '#afafaf'\r\n  },\r\n  blackLight: {\r\n    one: '#898989',\r\n    two: '#7c7c7c',\r\n    three: '#707070',\r\n    four: '#666666',\r\n    five: '#595959'\r\n  },\r\n  blackDark: {\r\n    one: '#7c7c7c',\r\n    two: '#707070',\r\n    three: '#666666',\r\n    four: '#595959',\r\n    five: '#444444'\r\n  },\r\n  purpleLight: {\r\n    one: '#FF005C',\r\n    two: '#D60076',\r\n    three: '#C70085',\r\n    four: '#A100BA',\r\n    five: '#7900AD'\r\n  },\r\n  purpleDark: {\r\n    one: '#D60076',\r\n    two: '#C70085',\r\n    three: '#A100BA',\r\n    four: '#7900AD',\r\n    five: '#57009E'\r\n  }\r\n};\r\n\r\nexport const Theme = {\r\n  colour: {\r\n    white: [\r\n      Colours.whiteLight.one,\r\n      Colours.whiteLight.two,\r\n      Colours.whiteLight.three,\r\n      Colours.whiteLight.four,\r\n      Colours.whiteLight.five\r\n    ],\r\n    whiteDarken: [\r\n      Colours.whiteDark.one,\r\n      Colours.whiteDark.two,\r\n      Colours.whiteDark.three,\r\n      Colours.whiteDark.four,\r\n      Colours.whiteDark.five\r\n    ],\r\n    black: [\r\n      Colours.blackLight.one,\r\n      Colours.blackLight.two,\r\n      Colours.blackLight.three,\r\n      Colours.blackLight.four,\r\n      Colours.blackLight.five\r\n    ],\r\n    blackDarken: [\r\n      Colours.blackDark.one,\r\n      Colours.blackDark.two,\r\n      Colours.blackDark.three,\r\n      Colours.blackDark.four,\r\n      Colours.blackDark.five\r\n    ],\r\n    purple: [\r\n      Colours.purpleLight.one,\r\n      Colours.purpleLight.two,\r\n      Colours.purpleLight.three,\r\n      Colours.purpleLight.four,\r\n      Colours.purpleLight.five\r\n    ],\r\n    purpleDarken: [\r\n      Colours.purpleDark.one,\r\n      Colours.purpleDark.two,\r\n      Colours.purpleDark.three,\r\n      Colours.purpleDark.four,\r\n      Colours.purpleDark.five\r\n    ]\r\n  }\r\n};\r\n","import { piece, colour, PieceObject } from './../../util/model';\r\nimport Chess from 'chess';\r\n\r\nexport interface State {\r\n  readonly ActiveTiles: Array<number>;\r\n  readonly Board: Uint8Array;\r\n  readonly Pieces: PieceObject[];\r\n  readonly AiOn: boolean;\r\n  readonly Difficulty: number;\r\n  readonly Message: string;\r\n}\r\n\r\nexport const InitialState: State = {\r\n  ActiveTiles: [],\r\n  Board: Chess.Board(),\r\n  Pieces: [],\r\n  AiOn: true,\r\n  Difficulty: 1,\r\n  Message: 'White move'\r\n};\r\n","export * from './styledComponents';\r\nexport * from './theme';\r\n\r\nimport Chess from 'chess';\r\nimport { CenterCoords, colour, piece, Coords, PieceObject } from './model';\r\nimport pieces from '../components/pieces';\r\n\r\nexport const getPosFromCoords = (\r\n  coords: [number, number]\r\n): number | undefined => {\r\n  let index = CenterCoords.findIndex(\r\n    x =>\r\n      x[0] < coords[0] + 50 &&\r\n      x[0] > coords[0] - 50 &&\r\n      x[1] < coords[1] + 50 &&\r\n      x[1] > coords[1] - 50\r\n  );\r\n  if (index !== -1) {\r\n    return index;\r\n  } else {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const getPieces = (gameBoard: Uint8Array) => {\r\n  let pieces: PieceObject[] = [];\r\n\r\n  let WhitePawnIterator: number = 0;\r\n  let WhiteRookIterator: boolean = false;\r\n  let WhiteKnightIterator: boolean = false;\r\n  let WhiteBishopIterator: boolean = false;\r\n\r\n  let BlackPawnIterator: number = 0;\r\n  let BlackRookIterator: boolean = false;\r\n  let BlackKnightIterator: boolean = false;\r\n  let BlackBishopIterator: boolean = false;\r\n\r\n  for (let i = 0; i <= 63; i++) {\r\n    let board = gameBoard[i];\r\n    let whitesMove = String.fromCharCode(gameBoard[64]);\r\n    if (Chess.isWhite(board)) {\r\n      switch (board) {\r\n        case Chess.codes.pieces.white.pawn:\r\n          pieces.push({\r\n            colour: colour.White,\r\n            name: piece.pawn,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove === 'W',\r\n            id: `${piece.pawn}-${colour.White}-${WhitePawnIterator}`\r\n          });\r\n          WhitePawnIterator++;\r\n          break;\r\n        case Chess.codes.pieces.white.rook:\r\n          pieces.push({\r\n            colour: colour.White,\r\n            name: piece.Rook,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove === 'W',\r\n            id: `${piece.Rook}-${colour.White}-${WhiteRookIterator ? 1 : 0}`\r\n          });\r\n          WhiteRookIterator = true;\r\n          break;\r\n        case Chess.codes.pieces.white.knight:\r\n          pieces.push({\r\n            colour: colour.White,\r\n            name: piece.Knight,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove === 'W',\r\n            id: `${piece.Knight}-${colour.White}-${WhiteKnightIterator ? 1 : 0}`\r\n          });\r\n          WhiteKnightIterator = true;\r\n          break;\r\n        case Chess.codes.pieces.white.bishop:\r\n          pieces.push({\r\n            colour: colour.White,\r\n            name: piece.Bishop,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove === 'W',\r\n            id: `${piece.Bishop}-${colour.White}-${WhiteBishopIterator ? 1 : 0}`\r\n          });\r\n          WhiteBishopIterator = true;\r\n          break;\r\n        case Chess.codes.pieces.white.queen:\r\n          pieces.push({\r\n            colour: colour.White,\r\n            name: piece.Queen,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove === 'W',\r\n            id: `${piece.Queen}-${colour.White}-0`\r\n          });\r\n          break;\r\n        case Chess.codes.pieces.white.king:\r\n          pieces.push({\r\n            colour: colour.White,\r\n            name: piece.King,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove === 'W',\r\n            id: `${piece.King}-${colour.White}-0`\r\n          });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    } else {\r\n      switch (board) {\r\n        case Chess.codes.pieces.black.pawn:\r\n          pieces.push({\r\n            colour: colour.Black,\r\n            name: piece.pawn,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove !== 'W',\r\n            id: `${piece.pawn}-${colour.Black}-${BlackPawnIterator}`\r\n          });\r\n          BlackPawnIterator++;\r\n          break;\r\n        case Chess.codes.pieces.black.rook:\r\n          pieces.push({\r\n            colour: colour.Black,\r\n            name: piece.Rook,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove !== 'W',\r\n            id: `${piece.Rook}-${colour.Black}-${BlackRookIterator ? 1 : 0}`\r\n          });\r\n          BlackRookIterator = true;\r\n          break;\r\n        case Chess.codes.pieces.black.knight:\r\n          pieces.push({\r\n            colour: colour.Black,\r\n            name: piece.Knight,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove !== 'W',\r\n            id: `${piece.Knight}-${colour.Black}-${BlackKnightIterator ? 1 : 0}`\r\n          });\r\n          BlackKnightIterator = true;\r\n          break;\r\n        case Chess.codes.pieces.black.bishop:\r\n          pieces.push({\r\n            colour: colour.Black,\r\n            name: piece.Bishop,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove !== 'W',\r\n            id: `${piece.Bishop}-${colour.Black}-${BlackBishopIterator ? 1 : 0}`\r\n          });\r\n          BlackBishopIterator = true;\r\n          break;\r\n        case Chess.codes.pieces.black.queen:\r\n          pieces.push({\r\n            colour: colour.Black,\r\n            name: piece.Queen,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove !== 'W',\r\n            id: `${piece.Queen}-${colour.Black}-0`\r\n          });\r\n          break;\r\n        case Chess.codes.pieces.black.king:\r\n          pieces.push({\r\n            colour: colour.Black,\r\n            name: piece.King,\r\n            position: Coords[i] as [number, number],\r\n            gameBoardPosition: i,\r\n            isTurn: whitesMove !== 'W',\r\n            id: `${piece.King}-${colour.Black}-0`\r\n          });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  return pieces;\r\n};\r\n\r\nexport const getPiecesFromBoard = (\r\n  currentBoard: Uint8Array,\r\n  newBoard: Uint8Array,\r\n  currentPieces: PieceObject[],\r\n  calculatePieces: boolean,\r\n  isSame: boolean\r\n): PieceObject[] => {\r\n  let Pieces: PieceObject[] = [];\r\n  if (!calculatePieces) {\r\n    Pieces = currentPieces;\r\n  } else {\r\n    Pieces = getPieces(currentBoard);\r\n  }\r\n  let originalPosition = 0;\r\n  let newPosition = 0;\r\n\r\n  if (!isSame) {\r\n    for (let i = 0; i <= 63; i++) {\r\n      if (currentBoard[i] !== newBoard[i]) {\r\n        if (newBoard[i] === Chess.codes.emptySquare) {\r\n          originalPosition = i;\r\n        } else {\r\n          newPosition = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    Pieces.filter(Piece => {\r\n      let newPiece: PieceObject = Piece;\r\n      newPiece.isTurn = !Piece.isTurn;\r\n      return newPiece;\r\n    });\r\n\r\n    let index = Pieces.findIndex(x => x.gameBoardPosition === originalPosition);\r\n    if (index !== -1) {\r\n      let newPiece: PieceObject = {\r\n        ...Pieces[index],\r\n        gameBoardPosition: newPosition,\r\n        position: Coords[newPosition] as [number, number],\r\n        isTurn: false\r\n      };\r\n      let indexDelete = Pieces.findIndex(\r\n        x => x.gameBoardPosition === newPosition\r\n      );\r\n      Pieces[index] = newPiece;\r\n      if (indexDelete !== -1) {\r\n        Pieces.splice(indexDelete, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  Pieces.sort((a, b) => (a.gameBoardPosition > b.gameBoardPosition ? 1 : -1));\r\n\r\n  return Pieces;\r\n};\r\n","import { PieceObject, Message } from './../../util/model';\r\nimport { AppState } from './../ApplicationState';\r\nimport { createAction, createAsyncAction } from 'typesafe-actions';\r\nimport { Dispatch } from 'redux';\r\nimport { getPiecesFromBoard } from '../../util';\r\nimport Chess from 'chess';\r\n\r\nexport const setPieces = createAction('@game/SET_PIECES', resolve => {\r\n  return (pieces: PieceObject[]) => resolve(pieces);\r\n});\r\n\r\nexport const setAiState = createAction('@game/SET_AI_STATE', resolve => {\r\n  return (state: boolean) => resolve(state);\r\n});\r\n\r\nexport const setDifficulty = createAction('@game/SET_DIFFICULTY', resolve => {\r\n  return (value: number) => resolve(value);\r\n});\r\n\r\nexport const setMessage = createAction('@game/SET_MESSAGE', resolve => {\r\n  return (message: Message) => resolve(message);\r\n});\r\n\r\nexport const setActiveTiles = createAction(\r\n  '@game/SET_ACTIVE_TILES',\r\n  resolve => {\r\n    return (tiles: number[]) => resolve(tiles);\r\n  }\r\n);\r\n\r\nexport const setBoard = {\r\n  async: createAsyncAction(\r\n    '@game/START_SET_BOARD',\r\n    '@game/BOARD_SET',\r\n    '@game/BOARD_SET_FAILED'\r\n  )<undefined, Uint8Array, Error>(),\r\n\r\n  action(newBoard: Uint8Array, isSame: boolean, calculatePieces: boolean) {\r\n    return async (dispatch: Dispatch, getState: () => AppState) => {\r\n      try {\r\n        dispatch(this.async.request());\r\n        let pieces = getPiecesFromBoard(\r\n          getState().Game.Board,\r\n          newBoard,\r\n          getState().Game.Pieces,\r\n          calculatePieces,\r\n          isSame\r\n        );\r\n        dispatch(setPieces(pieces));\r\n        console.log(Chess.Board.toString(newBoard));\r\n        dispatch(this.async.success(newBoard));\r\n      } catch (error) {\r\n        dispatch(this.async.failure(error));\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\nexport const movePieceToFront = {\r\n  async: createAsyncAction(\r\n    '@game/START_MOVE_PIECE_TO_FRONT',\r\n    '@game/PIECE_MOVED_TO_FRONT',\r\n    '@game/PIECE_MOVED_TO_FRONT_FAILED'\r\n  )<undefined, PieceObject[], Error>(),\r\n\r\n  action(piece: PieceObject) {\r\n    return async (dispatch: Dispatch, getState: () => AppState) => {\r\n      try {\r\n        dispatch(this.async.request());\r\n        let newPieces = [...getState().Game.Pieces];\r\n        let indexToRemove = newPieces.findIndex(x => x.id === piece.id);\r\n        if (indexToRemove !== -1) {\r\n          newPieces.splice(indexToRemove, 1);\r\n        }\r\n        newPieces.push(piece);\r\n        dispatch(this.async.success(newPieces));\r\n      } catch (error) {\r\n        dispatch(this.async.failure(error));\r\n      }\r\n    };\r\n  }\r\n};\r\n","import * as game from './game';\r\n\r\nexport type AppState = {\r\n  Game: game.State;\r\n};\r\n\r\nexport const InitialState = () => {\r\n  return {\r\n    Game: game.InitialState\r\n  };\r\n};\r\n","import * as game from './game';\r\nexport const Game = game.Actions;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport * as Game from './game';\r\n\r\nexport const RootReducer = combineReducers({\r\n  Game: Game.Reducer\r\n});\r\n","import { ActionType, getType } from 'typesafe-actions';\r\nimport { State, InitialState } from './State';\r\nimport * as Actions from './Actions';\r\ntype Action = ActionType<typeof Actions>;\r\n\r\nexport const Reducer = (state: State = InitialState, action: Action): State => {\r\n  switch (action.type) {\r\n    case getType(Actions.setBoard.async.success):\r\n      return { ...state, Board: action.payload };\r\n\r\n    case getType(Actions.setAiState):\r\n      return { ...state, AiOn: action.payload };\r\n\r\n    case getType(Actions.setDifficulty):\r\n      return { ...state, Difficulty: action.payload };\r\n\r\n    case getType(Actions.setMessage):\r\n      return { ...state, Message: action.payload };\r\n\r\n    case getType(Actions.movePieceToFront.async.success):\r\n      return { ...state, Pieces: action.payload };\r\n\r\n    case getType(Actions.setPieces):\r\n      return { ...state, Pieces: action.payload };\r\n\r\n    case getType(Actions.setActiveTiles):\r\n      return { ...state, ActiveTiles: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  Store,\r\n  createStore,\r\n  applyMiddleware,\r\n  Dispatch,\r\n  Action,\r\n  AnyAction\r\n} from 'redux';\r\nimport thunkMiddleware, { ThunkMiddleware, ThunkDispatch } from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { createHashHistory, createBrowserHistory } from 'history';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  Persistor,\r\n  createTransform\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { JsogService } from 'jsog-typescript';\r\nconst jsog = new JsogService();\r\n\r\nimport { AppState, InitialState } from './ApplicationState';\r\n\r\nimport * as Actions from './GlobalActions';\r\nexport { Actions };\r\n\r\nimport { RootReducer } from './RootReducer';\r\n\r\nexport const History = createBrowserHistory();\r\n\r\nconst JSOGTransform = createTransform(\r\n  (inboundState, key) => jsog.serialize(inboundState),\r\n  (outboundState, key) => jsog.deserialize(outboundState)\r\n);\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage: storage,\r\n  transforms: [JSOGTransform]\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, RootReducer);\r\n\r\nexport function ConfigureStore(): Store<AppState> {\r\n  const composeEnhancers = composeWithDevTools({});\r\n  const thunk: ThunkMiddleware<AppState, AnyAction> = thunkMiddleware;\r\n  const store = createStore(\r\n    persistedReducer,\r\n    InitialState(),\r\n    composeEnhancers(applyMiddleware(thunk))\r\n  );\r\n  return store;\r\n}\r\n\r\nexport const persistor = (store: Store<AppState>): Persistor => {\r\n  return persistStore(store);\r\n};\r\n\r\nexport interface ConnectedReduxProps<A extends Action = AnyAction> {\r\n  dispatch: Dispatch<A>;\r\n}\r\n\r\nexport interface ConnectedReduxThunkProps {\r\n  dispatch: ThunkDispatch<AppState, any, AnyAction>;\r\n}\r\n\r\nexport interface ConnectedState {\r\n  AppState: AppState;\r\n}\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util';\r\n\r\nconst Container = styled.div`\r\n  position: fixed;\r\n  bottom: 0;\r\n  height: 150px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Bottom = styled.div`\r\n  position: relative;\r\n  height: 70px;\r\n  width: 100%;\r\n  background-color: ${Colours.purpleLight.three};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  box-sizing: border-box;\r\n  border-top: 4px solid ${Colours.purpleLight.two};\r\n`;\r\n\r\nconst Top = styled.div`\r\n  position: relative;\r\n  height: 50px;\r\n  width: 100%;\r\n  background-color: ${Colours.purpleLight.four};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nconst Credits = styled.div`\r\n  position: relative;\r\n  height: 30px;\r\n  width: 100%;\r\n  background-color: rgb(50, 50, 50);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  box-sizing: border-box;\r\n`;\r\n\r\ntype Props = {\r\n  bottom: JSX.Element;\r\n  top: JSX.Element;\r\n  credits: JSX.Element;\r\n};\r\n\r\ntype State = {};\r\n\r\nexport default class TEMPLATE extends React.Component<Props, State> {\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Top>{this.props.top}</Top>\r\n        <Bottom>{this.props.bottom}</Bottom>\r\n        <Credits>{this.props.credits}</Credits>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\n\r\nconst SVG = styled.svg``;\r\n\r\ntype Props = {\r\n  render(props: { ref: SVGSVGElement }): JSX.Element;\r\n};\r\n\r\ntype State = {\r\n  ref: SVGSVGElement;\r\n};\r\n\r\nexport default class Canvas extends React.Component<Props, State> {\r\n  ref: SVGSVGElement | null = null;\r\n\r\n  state: State = {\r\n    ref: this.ref!\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ ref: this.ref! });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <SVG\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 1800 1400\"\r\n        width=\"100%\"\r\n        height=\"100%\"\r\n        ref={ref => (this.ref = ref)}\r\n      >\r\n        {this.props.render({ ref: this.state.ref })}\r\n      </SVG>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util/theme';\r\nimport { TimelineMax, Power4 } from 'gsap';\r\n\r\nconst topPoints = [\r\n  '0 57.948 100.137 0.292 200 58.106 100 115.738 0 57.948',\r\n  '0 86.918 100.137 29.262 200 87.076 100 144.708 0 86.918'\r\n];\r\nconst rightPoints = [\r\n  '200 86.918 100 144.708 100 115.738 200 58.106 200 86.918',\r\n  '200 86.918 100 144.708 100 144.708 200 86.918 200 86.918'\r\n];\r\nconst leftPoints = [\r\n  '0 86.918 100 144.708 100 115.738 0 57.948 0 86.918',\r\n  '0 86.918 100 144.708 100 144.708 0 86.918 0 86.918'\r\n];\r\nconst basePoints = [\r\n  '100.137 0.292 0 57.948 0 86.918 100 144.708 200 86.918 200 58.106 100.137 0.292',\r\n  '100.137 29.262 0 86.918 0 86.918 100 144.708 200 86.918 200 86.918 100.137 29.262'\r\n];\r\n\r\ntype Props = {\r\n  PosOffset: [number, number];\r\n  isDark: boolean;\r\n  active: boolean;\r\n  id: number;\r\n  onClick?: (id: number) => void;\r\n};\r\n\r\ntype State = {};\r\n\r\nexport default class IconTest extends React.Component<Props, State> {\r\n  private TopRef: SVGPolygonElement | null = null;\r\n  private StrokeRef: SVGPolygonElement | null = null;\r\n  private LeftRef: SVGPolygonElement | null = null;\r\n  private RightRef: SVGPolygonElement | null = null;\r\n  private BaseRef: SVGPolygonElement | null = null;\r\n  private OverlayRef: SVGPolygonElement | null = null;\r\n  private HoverRef: SVGPathElement | null = null;\r\n\r\n  HighlightOn = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.LeftRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.RightRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.StrokeRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            strokeWidth: '50px',\r\n            transform: 'translate(100px, 60px) scale(0)'\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  HighlightOff = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(this.LeftRef!, 1, {\r\n        css: {\r\n          fill: this.props.isDark\r\n            ? Colours.blackLight.two\r\n            : Colours.whiteLight.four\r\n        },\r\n        ease: Power4.easeOut\r\n      })\r\n      .to(\r\n        this.BaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.RightRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.three\r\n              : Colours.whiteLight.five\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.StrokeRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            strokeWidth: '0px',\r\n            transform: 'translate(0px, 0px) scale(1)'\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  PushDown = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(this.LeftRef!, 1, {\r\n        attr: {\r\n          points: leftPoints[1]\r\n        }\r\n      })\r\n      .to(\r\n        this.BaseRef!,\r\n        1,\r\n        {\r\n          attr: {\r\n            points: basePoints[1]\r\n          }\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.RightRef!,\r\n        1,\r\n        {\r\n          attr: {\r\n            points: rightPoints[1]\r\n          }\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.StrokeRef!,\r\n        1,\r\n        {\r\n          attr: {\r\n            points: topPoints[1]\r\n          }\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopRef!,\r\n        1,\r\n        {\r\n          attr: {\r\n            points: topPoints[1]\r\n          }\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.Overlay!,\r\n        1,\r\n        {\r\n          attr: {\r\n            points: basePoints[1]\r\n          }\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  PushUp = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(this.LeftRef!, 1, {\r\n        attr: {\r\n          points: leftPoints[0]\r\n        },\r\n        ease: Power4.easeOut\r\n      })\r\n      .to(\r\n        this.BaseRef!,\r\n        1,\r\n        {\r\n          attr: {\r\n            points: basePoints[0]\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.RightRef!,\r\n        1,\r\n        {\r\n          attr: {\r\n            points: rightPoints[0]\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.StrokeRef!,\r\n        1,\r\n        {\r\n          attr: {\r\n            points: topPoints[0]\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopRef!,\r\n        1,\r\n        {\r\n          attr: {\r\n            points: topPoints[0]\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          attr: {\r\n            points: basePoints[0]\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  Base = styled.polygon`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.three};\r\n  `;\r\n  Left = styled.polygon`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  Right = styled.polygon`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.three\r\n      : Colours.whiteLight.five};\r\n  `;\r\n  Top = styled.polygon`\r\n    fill: ${this.props.isDark\r\n      ? Colours.purpleDark.three\r\n      : Colours.purpleLight.three};\r\n  `;\r\n  Overlay = styled.polygon`\r\n    opacity: 0;\r\n    z-index: 2;\r\n  `;\r\n  Hover = styled.path`\r\n    opacity: 0;\r\n    fill: red;\r\n  `;\r\n  Stroke = styled.polygon`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.two};\r\n    stroke: ${this.props.isDark\r\n      ? Colours.purpleDark.five\r\n      : Colours.purpleLight.five};\r\n    stroke-width: 0px;\r\n  `;\r\n\r\n  click = () => {\r\n    this.PushDown().timeScale(5);\r\n    this.PushUp().delay(0.2);\r\n  };\r\n\r\n  makeActive = () => {\r\n    this.HighlightOn().delay(0.2);\r\n    this.click();\r\n  };\r\n\r\n  makeInactive = () => {\r\n    this.HighlightOff().delay(0.2);\r\n    this.click();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.active ? this.makeActive() : null;\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    if (prevProps.active !== this.props.active) {\r\n      if (this.props.active) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n  }\r\n\r\n  onClick = () => {\r\n    if (this.props.onClick) {\r\n      this.props.onClick(this.props.id);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <g\r\n        transform={`translate(${this.props.PosOffset[0]} ${\r\n          this.props.PosOffset[1]\r\n        })`}\r\n      >\r\n        <this.Base points={basePoints[0]} ref={ref => (this.BaseRef = ref)} />\r\n        <this.Left points={leftPoints[0]} ref={ref => (this.LeftRef = ref)} />\r\n        <this.Right\r\n          points={rightPoints[0]}\r\n          ref={ref => (this.RightRef = ref)}\r\n        />\r\n        <this.Top points={topPoints[0]} ref={ref => (this.TopRef = ref)} />\r\n        <this.Stroke\r\n          points={topPoints[0]}\r\n          ref={ref => (this.StrokeRef = ref)}\r\n        />\r\n        <this.Overlay\r\n          points={topPoints[0]}\r\n          ref={ref => (this.OverlayRef = ref)}\r\n          onClick={this.onClick}\r\n        />\r\n      </g>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { AppState } from '../store/ApplicationState';\r\nimport { Actions, ConnectedReduxThunkProps } from '../store';\r\n\r\nimport Tile from './tile';\r\n\r\ntype Props = {} & AppState & ConnectedReduxThunkProps;\r\n\r\ntype State = {};\r\n\r\nclass Board extends React.Component<Props, State> {\r\n  render() {\r\n    return (\r\n      <g transform={'translate(800 230)'}>\r\n        {[0, 8, 16, 24, 32, 40, 48, 56].map((row, rowIndex) => (\r\n          <g\r\n            transform={`translate(${rowIndex * -100} ${rowIndex * 58})`}\r\n            key={rowIndex}\r\n          >\r\n            {[0, 1, 2, 3, 4, 5, 6, 7].map((column, index) => (\r\n              <Tile\r\n                isDark={\r\n                  column % 2 === 0 ? rowIndex % 2 === 0 : rowIndex % 2 !== 0\r\n                }\r\n                PosOffset={[index * 100, index * 58]}\r\n                active={this.props.Game.ActiveTiles.indexOf(row + column) > -1}\r\n                key={index}\r\n                id={row + column}\r\n              />\r\n            ))}\r\n          </g>\r\n        ))}\r\n      </g>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): AppState => state;\r\n\r\nexport default connect(mapStateToProps)(Board);\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util/theme';\r\nimport { TweenMax, TimelineMax, Power4 } from 'gsap';\r\n\r\ntype Props = {\r\n  PosOffset: [number, number];\r\n  isDark: boolean;\r\n  onDrag: () => void;\r\n  onDrop: () => void;\r\n  dragging: boolean;\r\n  pickedUp: boolean;\r\n  draggable: boolean;\r\n  active: boolean;\r\n};\r\n\r\ntype State = {\r\n  dragging: boolean;\r\n};\r\n\r\nexport default class Pawn extends React.Component<Props, State> {\r\n  private CircleRef: SVGEllipseElement | null = null;\r\n  private BaseRef: SVGPathElement | null = null;\r\n  private BackRef: SVGPathElement | null = null;\r\n  private BallRef: SVGPathElement | null = null;\r\n  private TopRingRef: SVGPathElement | null = null;\r\n  private BodyRef: SVGPathElement | null = null;\r\n  private OverlayRef: SVGPathElement | null = null;\r\n  private BounceRef: SVGGElement | null = null;\r\n  private PositionRef: SVGGElement | null = null;\r\n\r\n  HighlightOn = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.TopRingRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BallRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  HighlightOff = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.TopRingRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BallRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.blackDark.three\r\n              : Colours.whiteDark.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  BounceDown = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 15)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  BounceUp = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 0)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  animatePosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${\r\n          this.props.PosOffset[1]\r\n        })`\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  setDragPosition = () => {\r\n    TweenMax.set(this.PositionRef!, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${\r\n          this.props.PosOffset[1]\r\n        })`\r\n      }\r\n    });\r\n  };\r\n\r\n  setInitialPosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${\r\n          this.props.PosOffset[1]\r\n        })`\r\n      }\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  Circle = styled.ellipse`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.five\r\n      : Colours.whiteLight.five};\r\n  `;\r\n  Base = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Back = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  Ball = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  TopRing = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Body = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Overlay = styled.path`\r\n    fill: transparent;\r\n    stroke: ${this.props.isDark\r\n      ? Colours.blackDark.three\r\n      : Colours.whiteDark.four};\r\n    stroke-width: 5px;\r\n    cursor: move;\r\n  `;\r\n\r\n  makeActive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOn().delay(0.2);\r\n  };\r\n\r\n  makeInactive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOff().delay(0.2);\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.PositionRef) {\r\n      this.setInitialPosition();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    if (prevProps.active !== this.props.active) {\r\n      if (this.props.active) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n\r\n    if (prevProps.PosOffset !== this.props.PosOffset) {\r\n      if (this.props.dragging) {\r\n        this.setDragPosition();\r\n      } else {\r\n        this.animatePosition();\r\n      }\r\n    }\r\n\r\n    if (prevProps.pickedUp !== this.props.pickedUp) {\r\n      if (this.props.pickedUp) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n  }\r\n\r\n  onMouseDown = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onMouseUp = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  onTouchStart = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onTouchEnd = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <g ref={ref => (this.PositionRef = ref)}>\r\n        <g ref={ref => (this.BounceRef = ref)}>\r\n          <g transform={'translate(15 35) scale(0.75)'}>\r\n            <this.Circle\r\n              cx=\"60\"\r\n              cy=\"123.246\"\r\n              rx=\"60\"\r\n              ry=\"30.748\"\r\n              ref={ref => (this.CircleRef = ref)}\r\n            />\r\n            <this.Base\r\n              d=\"M119.9,29.257h0l0-.03c-.006-.05-.017-.1-.024-.149-.064-.533-.157-1.061-.274-1.587,0-.016-.005-.032-.008-.048h0C116.142,12.157,90.788.286,60,.286S3.858,12.157.416,27.443h0c0,.016-.005.033-.008.049-.117.525-.21,1.053-.274,1.586-.007.05-.018.1-.024.149l0,.03h0A15,15,0,0,0,0,31v92.3C0,140.251,26.863,154,60,154s60-13.749,60-30.71V31A15,15,0,0,0,119.9,29.257Z\"\r\n              ref={ref => (this.BaseRef = ref)}\r\n            />\r\n            <this.Back\r\n              d=\"M105.851,31a7.966,7.966,0,0,0-.273-2.052c-.007-.029-.018-.057-.026-.085a8.936,8.936,0,0,0-.3-.912c-.012-.032-.028-.064-.041-.1q-.18-.444-.408-.881C100.333,18.435,81.979,12.04,60,12.04s-40.333,6.4-44.8,14.929q-.228.437-.408.881c-.013.032-.029.064-.041.1a8.936,8.936,0,0,0-.3.912c-.008.028-.019.056-.026.085A7.966,7.966,0,0,0,14.149,31c0,10.469,20.528,18.956,45.851,18.956S105.851,41.464,105.851,31Z\"\r\n              ref={ref => (this.BackRef = ref)}\r\n            />\r\n            <this.Ball\r\n              d=\"M60,22.119A28.726,28.726,0,0,0,31.271,50.846h0a28.727,28.727,0,1,0,57.453,0h0A28.726,28.726,0,0,0,60,22.119Z\"\r\n              ref={ref => (this.BallRef = ref)}\r\n            />\r\n            <this.TopRing\r\n              d=\"M119.9,29.257h0l0-.03c-.006-.05-.017-.1-.024-.149-.064-.533-.157-1.061-.274-1.587,0-.016-.005-.032-.008-.048h0C116.142,12.157,90.788.286,60,.286S3.858,12.157.416,27.443h0c0,.016-.005.033-.008.049-.117.525-.21,1.053-.274,1.586-.007.05-.018.1-.024.149l0,.03h0A15,15,0,0,0,0,31c0,16.961,26.863,30.71,60,30.71S120,47.956,120,31A15,15,0,0,0,119.9,29.257ZM60,47.543c-22.106,0-40.026-7.409-40.026-16.548a7.022,7.022,0,0,1,.237-1.792c.007-.024.017-.049.023-.073a7.915,7.915,0,0,1,.265-.8c.011-.028.024-.056.036-.084.105-.258.223-.514.356-.769C24.79,20.031,40.813,14.448,60,14.448S95.21,20.031,99.109,27.48c.133.255.251.511.356.769.012.028.025.056.036.084a7.915,7.915,0,0,1,.265.8c.007.024.016.049.023.073A6.978,6.978,0,0,1,100.026,31C100.026,40.134,82.106,47.543,60,47.543Z\"\r\n              ref={ref => (this.TopRingRef = ref)}\r\n            />\r\n            <this.Body\r\n              d=\"M60,61.705C26.863,61.705,0,47.956,0,31v92.3C0,140.251,26.863,154,60,154s60-13.749,60-30.71V31C120,47.956,93.137,61.705,60,61.705Z\"\r\n              ref={ref => (this.BodyRef = ref)}\r\n            />\r\n            <this.Overlay\r\n              d=\"M119.9,29.257h0l0-.03c-.006-.05-.017-.1-.024-.149-.064-.533-.157-1.061-.274-1.587,0-.016-.005-.032-.008-.048h0C116.142,12.157,90.788.286,60,.286S3.858,12.157.416,27.443h0c0,.016-.005.033-.008.049-.117.525-.21,1.053-.274,1.586-.007.05-.018.1-.024.149l0,.03h0A15,15,0,0,0,0,31v92.3C0,140.251,26.863,154,60,154s60-13.749,60-30.71V31A15,15,0,0,0,119.9,29.257Z\"\r\n              ref={ref => (this.OverlayRef = ref)}\r\n              onMouseDown={this.onMouseDown}\r\n              onMouseUp={this.onMouseUp}\r\n              onTouchStart={this.onTouchStart}\r\n              onTouchEnd={this.onTouchEnd}\r\n              style={{ pointerEvents: this.props.draggable ? 'auto' : 'none' }}\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util/theme';\r\nimport { TweenMax, TimelineMax, Power4 } from 'gsap';\r\n\r\ntype Props = {\r\n  PosOffset: [number, number];\r\n  isDark: boolean;\r\n  onDrag: () => void;\r\n  onDrop: () => void;\r\n  dragging: boolean;\r\n  pickedUp: boolean;\r\n  draggable: boolean;\r\n  active: boolean;\r\n};\r\n\r\ntype State = {\r\n  dragging: boolean;\r\n};\r\n\r\nexport default class Rook extends React.Component<Props, State> {\r\n  private BackCircleRef: SVGPathElement | null = null;\r\n  private BackRef: SVGPathElement | null = null;\r\n  private BallRef: SVGPathElement | null = null;\r\n  private FrontCircleRef: SVGPathElement | null = null;\r\n  private SidesRef: SVGPathElement | null = null;\r\n  private BodyRef: SVGPathElement | null = null;\r\n  private TopRef: SVGPathElement | null = null;\r\n  private OverlayRef: SVGPathElement | null = null;\r\n  private BounceRef: SVGGElement | null = null;\r\n  private PositionRef: SVGGElement | null = null;\r\n\r\n  HighlightOn = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.BackCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.SidesRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.three\r\n              : Colours.purpleLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.FrontCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BallRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  HighlightOff = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.BackCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.SidesRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.three\r\n              : Colours.whiteLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.FrontCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BallRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.blackDark.three\r\n              : Colours.whiteDark.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  BounceDown = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 15)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  BounceUp = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 0)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  animatePosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 25})`\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  setDragPosition = () => {\r\n    TweenMax.set(this.PositionRef!, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 25})`\r\n      }\r\n    });\r\n  };\r\n\r\n  setInitialPosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 25})`\r\n      }\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  BackCircle = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Sides = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.three\r\n      : Colours.whiteLight.three};\r\n  `;\r\n  FrontCircle = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Back = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  Ball = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Top = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Body = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Overlay = styled.path`\r\n    fill: transparent;\r\n    stroke: ${this.props.isDark\r\n      ? Colours.blackDark.three\r\n      : Colours.whiteDark.four};\r\n    stroke-width: 5px;\r\n    cursor: move;\r\n  `;\r\n\r\n  makeActive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOn().delay(0.2);\r\n  };\r\n\r\n  makeInactive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOff().delay(0.2);\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.PositionRef) {\r\n      this.setInitialPosition();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    if (prevProps.active !== this.props.active) {\r\n      if (this.props.active) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n\r\n    if (prevProps.PosOffset !== this.props.PosOffset) {\r\n      if (this.props.dragging) {\r\n        this.setDragPosition();\r\n      } else {\r\n        this.animatePosition();\r\n      }\r\n    }\r\n\r\n    if (prevProps.pickedUp !== this.props.pickedUp) {\r\n      if (this.props.pickedUp) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n  }\r\n\r\n  onMouseDown = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onMouseUp = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  onTouchStart = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onTouchEnd = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <g ref={ref => (this.PositionRef = ref)}>\r\n        <g ref={ref => (this.BounceRef = ref)}>\r\n          <g transform={'translate(15 35) scale(0.75)'}>\r\n            <this.BackCircle\r\n              d=\"M20.139,47.072a6.907,6.907,0,0,1-.1-1.094c0-9.123,17.889-16.519,39.957-16.519s39.957,7.4,39.957,16.519a6.907,6.907,0,0,1-.1,1.094h19.983c.025-.364.054-.727.054-1.094,0-16.931-26.817-30.657-59.9-30.657S.1,29.047.1,45.978c0,.367.029.73.054,1.094Z\"\r\n              ref={ref => (this.BackCircleRef = ref)}\r\n            />\r\n            <this.Back\r\n              d=\"M97.863,40.7c.024.029.054.056.077.085V26.26l-.3-4.117A80.742,80.742,0,0,0,87.284,18.7L85.1,18.628v14.5a73.845,73.845,0,0,0-16.65-3.3V15.337l-7.5-4.037-9.406,4.038v14.5a73.845,73.845,0,0,0-16.65,3.3v-14.5l-2.185.073a80.675,80.675,0,0,0-10.353,3.442l-.3,4.117V40.788c.032-.04.074-.078.107-.118a8.358,8.358,0,0,0-2.12,5.308C20.042,55.1,37.931,62.5,60,62.5s39.957-7.4,39.957-16.519A8.342,8.342,0,0,0,97.863,40.7Z\"\r\n              ref={ref => (this.BackRef = ref)}\r\n            />\r\n            <this.Ball\r\n              d=\"M39.7,45.306h0a28.712,28.712,0,0,0,0,40.6h0a28.7,28.7,0,0,0,40.6,0h0a28.709,28.709,0,0,0,0-40.6h0a28.7,28.7,0,0,0-40.6,0Z\"\r\n              ref={ref => (this.BallRef = ref)}\r\n            />\r\n            <this.FrontCircle\r\n              d=\"M99.929,45.525c.009.151.027.3.027.453C99.956,55.1,82.067,62.5,60,62.5S20.042,55.1,20.042,45.978c0-.152.018-.3.028-.453H.125c-.005.151-.023.3-.023.453C.1,62.909,26.919,79.637,60,79.637s59.9-16.728,59.9-33.659c0-.152-.019-.3-.023-.453Z\"\r\n              ref={ref => (this.FrontCircleRef = ref)}\r\n            />\r\n            <this.Sides\r\n              d=\"M117.909,23.526V38.035L97.94,40.788V26.26Zm-115.823,0V38.035l19.969,2.753V26.26ZM44.476,1.854V16.383l7.07,13.482V15.338Zm31.043,0-7.07,13.483V29.865l7.07-13.489Zm-58,51.309V67.691L34.785,58.87V44.34ZM85.211,44.34V58.87l17.266,8.821V53.163Z\"\r\n              ref={ref => (this.SidesRef = ref)}\r\n            />\r\n            <this.Body\r\n              d=\"M119.949,46.439a17.113,17.113,0,0,1-2,7.48V39.391c-2.739,5.285-8.157,10.012-15.476,13.772v14.53a84.856,84.856,0,0,1-26.913,7.98V61.145A114.558,114.558,0,0,1,60,62.2a114.794,114.794,0,0,1-15.57-1.051V75.672a84.849,84.849,0,0,1-26.912-7.981V53.163C10.2,49.4,4.781,44.676,2.042,39.391V53.919a17.115,17.115,0,0,1-2-7.491L.033,46.4.046,154.211C.009,171.142,26.8,184.927,59.875,185s59.926-13.594,59.964-30.525c0,0,.128-84.717.128-84.742V46.4Z\"\r\n              ref={ref => (this.BodyRef = ref)}\r\n            />\r\n            <this.Top\r\n              d=\"M51.546,15.338,44.476,1.854a115.9,115.9,0,0,1,31.043,0l-7.07,13.483C65.724,15.1,62.9,14.964,60,14.964S54.272,15.1,51.546,15.338ZM2.086,23.526,22.055,26.26c2.449-3.03,6.956-5.668,12.841-7.632L17.607,9.793C10.282,13.539,4.852,18.253,2.086,23.526ZM97.94,26.26l19.969-2.734c-2.766-5.273-8.2-9.987-15.52-13.733L85.1,18.628C90.985,20.592,95.491,23.23,97.94,26.26ZM21.99,36.66,2.042,39.391C4.781,44.677,10.2,49.4,17.518,53.163L34.785,44.34C28.9,42.361,24.407,39.706,21.99,36.66ZM60,48.041c-2.918,0-5.76-.132-8.5-.378L44.43,61.145A114.794,114.794,0,0,0,60,62.2a114.558,114.558,0,0,0,15.565-1.051L68.5,47.664C65.757,47.909,62.917,48.041,60,48.041Zm38-11.381c-2.416,3.046-6.909,5.7-12.794,7.68l17.266,8.823c7.319-3.76,12.737-8.486,15.476-13.772Z\"\r\n              ref={ref => (this.TopRef = ref)}\r\n            />\r\n            <this.Overlay\r\n              d=\"M119.949,46.439c-.063,2.446-.053,2.082-.053-.461a17.03,17.03,0,0,0-2.038-7.936l.051-.007V23.526c-2.766-5.273-8.2-9.987-15.52-13.733l-16.637,8.5a101.356,101.356,0,0,0-10.233-1.928V1.854a115.9,115.9,0,0,0-31.043,0V16.367A100.834,100.834,0,0,0,34.244,18.3l-16.637-8.5c-7.325,3.746-12.755,8.46-15.521,13.733V38.035l.054.008A17.1,17.1,0,0,0,.125,45.525h0c0,.151-.023.3-.023.453l-.056.45L.033,46.4.046,154.211C.009,171.142,26.8,184.927,59.875,185s59.926-13.594,59.964-30.525c0,0,.128-84.717.128-84.742V46.4Z\"\r\n              ref={ref => (this.OverlayRef = ref)}\r\n              onMouseDown={this.onMouseDown}\r\n              onMouseUp={this.onMouseUp}\r\n              onTouchStart={this.onTouchStart}\r\n              onTouchEnd={this.onTouchEnd}\r\n              style={{ pointerEvents: this.props.draggable ? 'auto' : 'none' }}\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util/theme';\r\nimport { TweenMax, TimelineMax, Power4 } from 'gsap';\r\n\r\ntype Props = {\r\n  PosOffset: [number, number];\r\n  isDark: boolean;\r\n  onDrag: () => void;\r\n  onDrop: () => void;\r\n  dragging: boolean;\r\n  draggable: boolean;\r\n  pickedUp: boolean;\r\n  active: boolean;\r\n};\r\n\r\ntype State = {\r\n  dragging: boolean;\r\n};\r\n\r\nexport default class KnightWhite extends React.Component<Props, State> {\r\n  private HairTopRef: SVGPathElement | null = null;\r\n  private HairBackRef: SVGPathElement | null = null;\r\n  private HairSideRef: SVGPathElement | null = null;\r\n  private FrontCircleRef: SVGPathElement | null = null;\r\n  private BaseRef: SVGPathElement | null = null;\r\n  private BodyRef: SVGPathElement | null = null;\r\n  private BackCircleRef: SVGPathElement | null = null;\r\n  private BackRef: SVGPathElement | null = null;\r\n  private OverlayRef: SVGPathElement | null = null;\r\n  private BounceRef: SVGGElement | null = null;\r\n  private PositionRef: SVGGElement | null = null;\r\n\r\n  HighlightOn = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.HairTopRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.HairBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.HairSideRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.three\r\n              : Colours.purpleLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.FrontCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  HighlightOff = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.HairTopRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.HairBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.HairSideRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.three\r\n              : Colours.whiteLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.FrontCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.blackDark.three\r\n              : Colours.whiteDark.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  BounceDown = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 15)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  BounceUp = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 0)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  animatePosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 32})`\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  setDragPosition = () => {\r\n    TweenMax.set(this.PositionRef!, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 32})`\r\n      }\r\n    });\r\n  };\r\n\r\n  setInitialPosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 32})`\r\n      }\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  HairTop = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  HairBack = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  HairSide = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.three\r\n      : Colours.whiteLight.three};\r\n  `;\r\n  FrontCircle = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Base = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Body = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  BackCircle = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Back = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  Overlay = styled.path`\r\n    fill: transparent;\r\n    stroke: ${this.props.isDark\r\n      ? Colours.blackDark.three\r\n      : Colours.whiteDark.four};\r\n    stroke-width: 5px;\r\n    cursor: move;\r\n  `;\r\n\r\n  makeActive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOn().delay(0.2);\r\n  };\r\n\r\n  makeInactive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOff().delay(0.2);\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.PositionRef) {\r\n      this.setInitialPosition();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    if (prevProps.active !== this.props.active) {\r\n      if (this.props.active) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n\r\n    if (prevProps.PosOffset !== this.props.PosOffset) {\r\n      if (this.props.dragging) {\r\n        this.setDragPosition();\r\n      } else {\r\n        this.animatePosition();\r\n      }\r\n    }\r\n\r\n    if (prevProps.pickedUp !== this.props.pickedUp) {\r\n      if (this.props.pickedUp) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n  }\r\n\r\n  onMouseDown = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onMouseUp = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  onTouchStart = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onTouchEnd = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <g ref={ref => (this.PositionRef = ref)}>\r\n        <g ref={ref => (this.BounceRef = ref)}>\r\n          <g transform={'translate(15 35) scale(0.75)'}>\r\n            <this.Back\r\n              ref={ref => (this.BackRef = ref)}\r\n              d=\"M7.314,164.067l105.651-.233-.09-19.86S103,120.008,60,120.1s-52.772,24.1-52.772,24.1Z\"\r\n            />\r\n            <this.BackCircle\r\n              ref={ref => (this.BackCircleRef = ref)}\r\n              d=\"M97.973,147.58A8.285,8.285,0,0,0,99.99,142.4c0-9.113-17.852-16.5-39.873-16.5s-39.872,7.387-39.872,16.5a8.284,8.284,0,0,0,2.016,5.181H1.217a16.337,16.337,0,0,1-.87-5.181c0-16.911,26.76-30.621,59.77-30.621s59.77,13.71,59.77,30.621a16.335,16.335,0,0,1-.869,5.181Z\"\r\n            />\r\n            <this.Body\r\n              ref={ref => (this.BodyRef = ref)}\r\n              d=\"M60.636,23.294h0A37.879,37.879,0,0,1,97.978,61.186v84.7a37.879,37.879,0,0,1-37.891,37.9h0a37.879,37.879,0,0,1-37.83-37.9V61.186A37.877,37.877,0,0,1,60.636,23.294Z\"\r\n            />\r\n            <this.Base\r\n              ref={ref => (this.BaseRef = ref)}\r\n              d=\"M59.8,168.713c46.649-.1,60.02-26.578,60.02-26.578l.127,23.071c.038,16.911-26.692,30.679-59.7,30.752S.441,182.381.4,165.469L.277,142.4S13.147,168.816,59.8,168.713Z\"\r\n            />\r\n            <this.FrontCircle\r\n              ref={ref => (this.FrontCircleRef = ref)}\r\n              d=\"M20.245,142.4c0,9.112,17.851,16.5,39.872,16.5s39.873-7.388,39.873-16.5c0-.089-.013-.176-.016-.264h19.9c0,.088.013.175.013.264,0,16.911-26.76,30.621-59.77,30.621S.348,159.31.348,142.4c0-.089.011-.176.013-.264h19.9C20.257,142.223,20.245,142.31,20.245,142.4Z\"\r\n            />\r\n            <this.HairSide\r\n              ref={ref => (this.HairSideRef = ref)}\r\n              d=\"M80.759,5.9,78.005,7.481l-6.964,4-.307.177L67.9,13.288l-.222.127L44.353,26.821,22.425,65.035l-.22,44.783s12.188-7.172,22.148-12.9C44.353,55.1,74.747,22.69,88.734,36.4h0l0-.011a37.75,37.75,0,0,1,9.247,24.8v6.362A37.4,37.4,0,0,0,117.665,34.6V24.909S94.077,30.642,80.759,5.9Z\"\r\n            />\r\n            <this.HairBack\r\n              ref={ref => (this.HairBackRef = ref)}\r\n              d=\"M44.353,26.821,22.205,14.179h0A166.971,166.971,0,0,0,.06,96.461l0,.715,22.148,12.642,0-.715A166.979,166.979,0,0,1,44.353,26.821Z\"\r\n            />\r\n            <this.HairTop\r\n              ref={ref => (this.HairTopRef = ref)}\r\n              d=\"M80.759,5.9h0A44.521,44.521,0,0,0,36.5,5.964l-14.3,8.215L44.353,26.821Z\"\r\n            />\r\n            <this.Overlay\r\n              d=\"M119.825,143.758c.039-.447.061-.9.062-1.349v-.01c0-.089-.012-.176-.013-.264h0c-.156-9.442-8.647-17.865-21.9-23.429V67.548A37.4,37.4,0,0,0,117.665,34.6V24.909S94.077,30.642,80.759,5.9h0A44.521,44.521,0,0,0,36.5,5.964l-14.3,8.215A166.971,166.971,0,0,0,.06,96.461l0,.715,22.148,12.642.052-.03v8.918C8.884,124.322.348,132.849.348,142.4c0,.05.005.1.006.149-.046-.088-.077-.149-.077-.149L.4,165.469c.037,16.912,26.827,30.562,59.837,30.489s59.74-13.841,59.7-30.752Z\"\r\n              ref={ref => (this.OverlayRef = ref)}\r\n              onMouseDown={this.onMouseDown}\r\n              onMouseUp={this.onMouseUp}\r\n              onTouchStart={this.onTouchStart}\r\n              onTouchEnd={this.onTouchEnd}\r\n              style={{ pointerEvents: this.props.draggable ? 'auto' : 'none' }}\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util/theme';\r\nimport { TweenMax, TimelineMax, Power4 } from 'gsap';\r\n\r\ntype Props = {\r\n  PosOffset: [number, number];\r\n  isDark: boolean;\r\n  onDrag: () => void;\r\n  onDrop: () => void;\r\n  dragging: boolean;\r\n  draggable: boolean;\r\n  pickedUp: boolean;\r\n  active: boolean;\r\n};\r\n\r\ntype State = {\r\n  dragging: boolean;\r\n};\r\n\r\nexport default class KnightWhite extends React.Component<Props, State> {\r\n  private HairTopRef: SVGPathElement | null = null;\r\n  private FaceRef: SVGPathElement | null = null;\r\n  private NoseRef: SVGPathElement | null = null;\r\n  private HairSideRef: SVGPathElement | null = null;\r\n  private FrontCircleRef: SVGPathElement | null = null;\r\n  private BaseRef: SVGPathElement | null = null;\r\n  private BodyRef: SVGPathElement | null = null;\r\n  private BackCircleRef: SVGPathElement | null = null;\r\n  private BackRef: SVGPathElement | null = null;\r\n  private OverlayRef: SVGPathElement | null = null;\r\n  private BounceRef: SVGGElement | null = null;\r\n  private PositionRef: SVGGElement | null = null;\r\n\r\n  HighlightOn = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.HairTopRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.FaceRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.NoseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.three\r\n              : Colours.purpleLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.HairSideRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.three\r\n              : Colours.purpleLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.FrontCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  HighlightOff = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.HairTopRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.FaceRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.NoseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.three\r\n              : Colours.whiteLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.HairSideRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.three\r\n              : Colours.whiteLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.FrontCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackCircleRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.blackDark.three\r\n              : Colours.whiteDark.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  BounceDown = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 15)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  BounceUp = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 0)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  animatePosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 32})`\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  setDragPosition = () => {\r\n    TweenMax.set(this.PositionRef!, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 32})`\r\n      }\r\n    });\r\n  };\r\n\r\n  setInitialPosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 32})`\r\n      }\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  HairTop = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Face = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Nose = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.three\r\n      : Colours.whiteLight.three};\r\n  `;\r\n  HairSide = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.three\r\n      : Colours.whiteLight.three};\r\n  `;\r\n  FrontCircle = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Base = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Body = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  BackCircle = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Back = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  Overlay = styled.path`\r\n    fill: transparent;\r\n    stroke: ${this.props.isDark\r\n      ? Colours.blackDark.three\r\n      : Colours.whiteDark.four};\r\n    stroke-width: 5px;\r\n    cursor: move;\r\n  `;\r\n\r\n  makeActive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOn().delay(0.2);\r\n  };\r\n\r\n  makeInactive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOff().delay(0.2);\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.PositionRef) {\r\n      this.setInitialPosition();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    if (prevProps.active !== this.props.active) {\r\n      if (this.props.active) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n\r\n    if (prevProps.PosOffset !== this.props.PosOffset) {\r\n      if (this.props.dragging) {\r\n        this.setDragPosition();\r\n      } else {\r\n        this.animatePosition();\r\n      }\r\n    }\r\n\r\n    if (prevProps.pickedUp !== this.props.pickedUp) {\r\n      if (this.props.pickedUp) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n  }\r\n\r\n  onMouseDown = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onMouseUp = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  onTouchStart = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onTouchEnd = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <g ref={ref => (this.PositionRef = ref)}>\r\n        <g ref={ref => (this.BounceRef = ref)}>\r\n          <g transform={'translate(15 35) scale(0.75)'}>\r\n            <this.Back\r\n              ref={ref => (this.BackRef = ref)}\r\n              d=\"M7.057,164.009,113,163.775l-.09-19.9s-9.906-24.01-53.026-23.915-52.92,24.148-52.92,24.148Z\"\r\n            />\r\n            <this.BackCircle\r\n              ref={ref => (this.BackCircleRef = ref)}\r\n              d=\"M97.968,147.491a8.294,8.294,0,0,0,2.023-5.191c0-9.129-17.9-16.53-39.984-16.53s-39.983,7.4-39.983,16.53a8.293,8.293,0,0,0,2.022,5.191H.943A16.343,16.343,0,0,1,.071,142.3c0-16.942,26.834-30.677,59.936-30.677s59.936,13.735,59.936,30.677a16.37,16.37,0,0,1-.871,5.191Z\"\r\n            />\r\n            <this.Body\r\n              ref={ref => (this.BodyRef = ref)}\r\n              d=\"M60.527,28.625h0A37.966,37.966,0,0,1,97.973,66.587v84.85a37.966,37.966,0,0,1-38,37.966h0a37.967,37.967,0,0,1-37.936-37.966V66.587A37.966,37.966,0,0,1,60.527,28.625Z\"\r\n            />\r\n            <this.Base\r\n              ref={ref => (this.BaseRef = ref)}\r\n              d=\"M59.685,168.663c46.779-.1,60.187-26.627,60.187-26.627L120,165.149c.037,16.943-26.767,30.736-59.868,30.809s-59.967-13.6-60-30.545L0,142.3S12.907,168.766,59.685,168.663Z\"\r\n            />\r\n            <this.FrontCircle\r\n              ref={ref => (this.FrontCircleRef = ref)}\r\n              d=\"M20.024,142.3c0,9.13,17.9,16.53,39.983,16.53s39.984-7.4,39.984-16.53c0-.088-.013-.175-.016-.264H119.93c0,.089.013.176.013.264,0,16.943-26.834,30.678-59.936,30.678S.071,159.243.071,142.3c0-.088.012-.175.013-.264H20.04C20.036,142.125,20.024,142.212,20.024,142.3Z\"\r\n            />\r\n            <this.Face\r\n              ref={ref => (this.FaceRef = ref)}\r\n              d=\"M44.2,32.159,21.989,19.493S21.345,47.81,0,57.777L22.21,70.442,36.762,66.5l11-21.527Z\"\r\n            />\r\n            <this.Nose\r\n              ref={ref => (this.NoseRef = ref)}\r\n              d=\"M22.21,70.442,0,57.777V62.94a44.011,44.011,0,0,0,22.21,38.232h0Z\"\r\n            />\r\n            <this.HairSide\r\n              ref={ref => (this.HairSideRef = ref)}\r\n              d=\"M88.7,6.605h0L44.892,31.761h0l-.693.4S42.635,61.5,22.21,70.442v30.73S30.544,96.3,44.522,88.536C53.1,57.777,74.677,28.02,88.7,41.755v-.012a37.815,37.815,0,0,1,9.27,24.844v28.45a44.347,44.347,0,0,0,12.43-30.78V62.6A83.107,83.107,0,0,0,88.7,6.605Z\"\r\n            />\r\n            <this.HairTop\r\n              ref={ref => (this.HairTopRef = ref)}\r\n              d=\"M88.7,6.605h0a44.683,44.683,0,0,0-44.382.066L21.989,19.493,44.2,32.159Z\"\r\n            />\r\n            <this.Overlay\r\n              d=\"M119.881,143.662c.04-.451.062-.905.062-1.362,0-9.567-8.56-18.11-21.97-23.736V95.037a44.347,44.347,0,0,0,12.43-30.78V62.6a83.107,83.107,0,0,0-21.7-56h0a44.683,44.683,0,0,0-44.382.066L21.989,19.493S21.345,47.81,0,57.777V62.94a44.011,44.011,0,0,0,22.041,38.129v17.495C8.631,124.19.071,132.733.071,142.3c0,.05.006.1.007.15C.031,142.362,0,142.3,0,142.3l.128,23.113c.037,16.943,26.9,30.618,60,30.545S120.037,182.092,120,165.149Z\"\r\n              ref={ref => (this.OverlayRef = ref)}\r\n              onMouseDown={this.onMouseDown}\r\n              onMouseUp={this.onMouseUp}\r\n              onTouchStart={this.onTouchStart}\r\n              onTouchEnd={this.onTouchEnd}\r\n              style={{ pointerEvents: this.props.draggable ? 'auto' : 'none' }}\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util/theme';\r\nimport { TweenMax, TimelineMax, Power4 } from 'gsap';\r\n\r\ntype Props = {\r\n  PosOffset: [number, number];\r\n  isDark: boolean;\r\n  onDrag: () => void;\r\n  onDrop: () => void;\r\n  dragging: boolean;\r\n  draggable: boolean;\r\n  pickedUp: boolean;\r\n  active: boolean;\r\n};\r\n\r\ntype State = {\r\n  dragging: boolean;\r\n};\r\n\r\nexport default class Bishop extends React.Component<Props, State> {\r\n  private HeadRef: SVGPathElement | null = null;\r\n  private IndentRef: SVGPolygonElement | null = null;\r\n  private TopCircleFrontRef: SVGPathElement | null = null;\r\n  private TopBaseRef: SVGPathElement | null = null;\r\n  private BottomCircleFrontRef: SVGPathElement | null = null;\r\n  private BottomBaseRef: SVGPathElement | null = null;\r\n  private BodyRef: SVGPathElement | null = null;\r\n  private TopCircleBackRef: SVGPathElement | null = null;\r\n  private BackRef: SVGPathElement | null = null;\r\n  private BottomCircleBackRef: SVGPathElement | null = null;\r\n  private OverlayRef: SVGPathElement | null = null;\r\n  private BounceRef: SVGGElement | null = null;\r\n  private PositionRef: SVGGElement | null = null;\r\n\r\n  HighlightOn = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.HeadRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.IndentRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopCircleFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopBaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomCircleFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomBaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.three\r\n              : Colours.purpleLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomCircleBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopCircleBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  HighlightOff = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.HeadRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.IndentRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopCircleFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopBaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomCircleFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomBaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.three\r\n              : Colours.whiteLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomCircleBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopCircleBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.blackDark.three\r\n              : Colours.whiteDark.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  BounceDown = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 15)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  BounceUp = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 0)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  animatePosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 47})`\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  setDragPosition = () => {\r\n    TweenMax.set(this.PositionRef!, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 47})`\r\n      }\r\n    });\r\n  };\r\n\r\n  setInitialPosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 47})`\r\n      }\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  Head = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Indent = styled.polygon`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  TopCircleFront = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  TopBase = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  BottomCircleFront = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  BottomBase = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Body = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.three\r\n      : Colours.whiteLight.three};\r\n  `;\r\n  TopCircleBack = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Back = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  BottomCircleBack = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Overlay = styled.path`\r\n    fill: transparent;\r\n    stroke: ${this.props.isDark\r\n      ? Colours.blackDark.three\r\n      : Colours.whiteDark.four};\r\n    stroke-width: 5px;\r\n    cursor: move;\r\n  `;\r\n\r\n  makeActive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOn().delay(0.2);\r\n  };\r\n\r\n  makeInactive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOff().delay(0.2);\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.PositionRef) {\r\n      this.setInitialPosition();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    if (prevProps.active !== this.props.active) {\r\n      if (this.props.active) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n\r\n    if (prevProps.PosOffset !== this.props.PosOffset) {\r\n      if (this.props.dragging) {\r\n        this.setDragPosition();\r\n      } else {\r\n        this.animatePosition();\r\n      }\r\n    }\r\n\r\n    if (prevProps.pickedUp !== this.props.pickedUp) {\r\n      if (this.props.pickedUp) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n  }\r\n\r\n  onMouseDown = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onMouseUp = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  onTouchStart = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onTouchEnd = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <g ref={ref => (this.PositionRef = ref)}>\r\n        <g ref={ref => (this.BounceRef = ref)}>\r\n          <g transform={'translate(15 35) scale(0.75)'}>\r\n            <this.BottomCircleBack\r\n              ref={ref => (this.BottomCircleBackRef = ref)}\r\n              d=\"M21.727,167.15a8.078,8.078,0,0,1-1.718-4.808c0-9.129,17.9-16.53,39.984-16.53s39.983,7.4,39.983,16.53a7.125,7.125,0,0,1-.3,2.046,9.07,9.07,0,0,1-1.424,2.762h20.944a16.283,16.283,0,0,0,.736-4.808c0-16.943-26.835-30.677-59.936-30.677S.057,145.4.057,162.342A16.3,16.3,0,0,0,.8,167.15Z\"\r\n            />\r\n            <this.Back\r\n              ref={ref => (this.BackRef = ref)}\r\n              d=\"M101.593,160.934l-83.231-.184.067-13.815s7.777-16.669,41.652-16.594,41.579,16.778,41.579,16.778Z\"\r\n            />\r\n            <this.TopCircleBack\r\n              ref={ref => (this.TopCircleBackRef = ref)}\r\n              d=\"M32.79,148.148a5.169,5.169,0,0,1-.557-2.3c0-6.339,12.429-11.477,27.762-11.477s27.762,5.138,27.762,11.477a5.169,5.169,0,0,1-.557,2.3h14.166a11.2,11.2,0,0,0,.245-2.3c0-11.764-18.632-21.3-41.616-21.3s-41.616,9.536-41.616,21.3a11.127,11.127,0,0,0,.245,2.3Z\"\r\n            />\r\n            <this.Body\r\n              ref={ref => (this.BodyRef = ref)}\r\n              d=\"M42.661,70.627l-8.624,84.709a26.1,26.1,0,0,0,26.034,28.74h0a26.1,26.1,0,0,0,25.89-28.744L77.326,70.625A17.422,17.422,0,0,0,59.994,54.97h0A17.422,17.422,0,0,0,42.661,70.627Z\"\r\n            />\r\n            <this.BottomBase\r\n              ref={ref => (this.BottomBaseRef = ref)}\r\n              d=\"M60.315,188.7C13.536,188.6.128,162.078.128,162.078L0,185.191C-.037,202.133,26.767,215.927,59.868,216s59.967-13.6,60-30.545L120,162.342S107.093,188.807,60.315,188.7Z\"\r\n            />\r\n            <this.BottomCircleFront\r\n              ref={ref => (this.BottomCircleFrontRef = ref)}\r\n              d=\"M99.976,162.342c0,9.129-17.9,16.53-39.983,16.53s-39.984-7.4-39.984-16.53c0-.089.013-.176.016-.264H.07c0,.088-.013.175-.013.264,0,16.942,26.834,30.677,59.936,30.677s59.936-13.735,59.936-30.677c0-.089-.012-.176-.013-.264H99.96C99.964,162.166,99.976,162.253,99.976,162.342Z\"\r\n            />\r\n            <this.TopBase\r\n              ref={ref => (this.TopBaseRef = ref)}\r\n              d=\"M60.218,164.154c-32.48-.071-41.789-18.487-41.789-18.487l-.089,16.048c-.026,11.764,18.585,21.341,41.569,21.392s41.636-9.445,41.662-21.209l.089-16.048S92.7,164.226,60.218,164.154Z\"\r\n            />\r\n            <this.TopCircleFront\r\n              ref={ref => (this.TopCircleFrontRef = ref)}\r\n              d=\"M87.757,145.85c0,6.339-12.429,11.477-27.762,11.477s-27.762-5.138-27.762-11.477c0-.061.009-.122.011-.183H18.388c0,.061-.009.122-.009.183,0,11.764,18.632,21.3,41.616,21.3s41.616-9.536,41.616-21.3c0-.061-.008-.122-.009-.183H87.746C87.748,145.728,87.757,145.789,87.757,145.85Z\"\r\n            />\r\n            <this.Indent\r\n              ref={ref => (this.IndentRef = ref)}\r\n              points=\"85.634 43.719 67.598 33.342 45.813 49.867 60.579 58.206 85.634 43.719\"\r\n            />\r\n            <this.Head\r\n              ref={ref => (this.HeadRef = ref)}\r\n              d=\"M60.579,58.206l18.9-27.726L65.137,4.5a5.483,5.483,0,0,0-9.711-.013L39.756,32.714a67.763,67.763,0,0,0-8.444,33.862V66.6A30.6,30.6,0,0,0,45.648,92.324a27.563,27.563,0,0,0,28.478.261l.432-.253A30.587,30.587,0,0,0,89.333,65.87h0a68.164,68.164,0,0,0-3.7-22.151Z\"\r\n            />\r\n            <this.Overlay\r\n              d=\"M119.923,162.49c0-.05.006-.1.006-.148,0-9.164-7.861-17.384-20.308-23.005-2.887-4.6-8.746-8.528-16.43-11.173l-4-39.221A30.966,30.966,0,0,0,89.333,65.87h0a68.164,68.164,0,0,0-3.7-22.151l-10.9-6.273,4.749-6.966L65.137,4.5a5.483,5.483,0,0,0-9.711-.013L39.756,32.714a67.763,67.763,0,0,0-8.444,33.862V66.6A30.993,30.993,0,0,0,40.83,88.618L36.8,128.162c-7.684,2.645-13.544,6.567-16.433,11.172C7.92,144.955.057,153.176.057,162.342c0,.448.023.893.062,1.336L0,185.191C-.037,202.133,26.767,215.927,59.868,216s59.967-13.6,60-30.545L120,162.342S119.969,162.4,119.923,162.49Z\"\r\n              ref={ref => (this.OverlayRef = ref)}\r\n              onMouseDown={this.onMouseDown}\r\n              onMouseUp={this.onMouseUp}\r\n              onTouchStart={this.onTouchStart}\r\n              onTouchEnd={this.onTouchEnd}\r\n              style={{ pointerEvents: this.props.draggable ? 'auto' : 'none' }}\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util/theme';\r\nimport { TweenMax, TimelineMax, Power4 } from 'gsap';\r\n\r\ntype Props = {\r\n  PosOffset: [number, number];\r\n  isDark: boolean;\r\n  onDrag: () => void;\r\n  onDrop: () => void;\r\n  dragging: boolean;\r\n  draggable: boolean;\r\n  active: boolean;\r\n  pickedUp: boolean;\r\n};\r\n\r\ntype State = {\r\n  dragging: boolean;\r\n};\r\n\r\nexport default class Queen extends React.Component<Props, State> {\r\n  private BallRef: SVGPathElement | null = null;\r\n  private TopCircleFrontRef: SVGPathElement | null = null;\r\n  private TopBaseRef: SVGPathElement | null = null;\r\n  private PillowRef: SVGPathElement | null = null;\r\n  private TopCircleBackRef: SVGPathElement | null = null;\r\n  private TopBackRef: SVGPathElement | null = null;\r\n  private NeckRef: SVGPathElement | null = null;\r\n  private BottomCircleFrontRef: SVGPathElement | null = null;\r\n  private BottomBaseRef: SVGEllipseElement | null = null;\r\n  private BodyRef: SVGPathElement | null = null;\r\n  private BottomCircleBackRef: SVGPathElement | null = null;\r\n  private BackRef: SVGCircleElement | null = null;\r\n  private OverlayRef: SVGPathElement | null = null;\r\n  private BounceRef: SVGGElement | null = null;\r\n  private PositionRef: SVGGElement | null = null;\r\n\r\n  HighlightOn = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.BallRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopCircleFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopBaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.PillowRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopCircleBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.three\r\n              : Colours.purpleLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.NeckRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomCircleFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomBaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomCircleBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  HighlightOff = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.BallRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopCircleFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopBaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.PillowRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopCircleBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.TopBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.three\r\n              : Colours.whiteLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.NeckRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomCircleFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomBaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BottomCircleBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.blackDark.three\r\n              : Colours.whiteDark.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  BounceDown = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 15)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  BounceUp = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 0)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  animatePosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 55})`\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  setDragPosition = () => {\r\n    TweenMax.set(this.PositionRef!, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 55})`\r\n      }\r\n    });\r\n  };\r\n\r\n  setInitialPosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 55})`\r\n      }\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  Ball = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  TopCircleFront = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  TopBase = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Pillow = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  TopCircleBack = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  TopBack = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.three\r\n      : Colours.whiteLight.three};\r\n  `;\r\n  Neck = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  BottomCircleFront = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  BottomBase = styled.ellipse`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Body = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  BottomCircleBack = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Back = styled.circle`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  Overlay = styled.path`\r\n    fill: transparent;\r\n    stroke: ${this.props.isDark\r\n      ? Colours.blackDark.three\r\n      : Colours.whiteDark.four};\r\n    stroke-width: 5px;\r\n    cursor: move;\r\n  `;\r\n\r\n  makeActive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOn().delay(0.2);\r\n  };\r\n\r\n  makeInactive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOff().delay(0.2);\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.PositionRef) {\r\n      this.setInitialPosition();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    if (prevProps.active !== this.props.active) {\r\n      if (this.props.active) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n\r\n    if (prevProps.PosOffset !== this.props.PosOffset) {\r\n      if (this.props.dragging) {\r\n        this.setDragPosition();\r\n      } else {\r\n        this.animatePosition();\r\n      }\r\n    }\r\n\r\n    if (prevProps.pickedUp !== this.props.pickedUp) {\r\n      if (this.props.pickedUp) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n  }\r\n\r\n  onMouseDown = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onMouseUp = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  onTouchStart = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onTouchEnd = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <g ref={ref => (this.PositionRef = ref)}>\r\n        <g ref={ref => (this.BounceRef = ref)}>\r\n          <g transform={'translate(12 28) scale(0.8)'}>\r\n            <this.Ball\r\n              ref={ref => (this.BallRef = ref)}\r\n              d=\"M96.549,196.116l-73.163-.084L.391,176.133s11.151-23.9,59.726-23.8,59.62,24.058,59.62,24.058Z\"\r\n            />\r\n            <this.TopCircleFront\r\n              ref={ref => (this.TopCircleFrontRef = ref)}\r\n              d=\"M21.4,178.616a7.694,7.694,0,0,1-1.212-4.039c0-9.089,17.823-16.457,39.809-16.457S99.8,165.488,99.8,174.577a7.694,7.694,0,0,1-1.212,4.039H119.13a16.088,16.088,0,0,0,.536-4.039c0-16.868-26.717-30.542-59.673-30.542S.319,157.709.319,174.577a16.088,16.088,0,0,0,.536,4.039Z\"\r\n            />\r\n            <this.TopBase\r\n              ref={ref => (this.TopBaseRef = ref)}\r\n              d=\"M47.576,45.748l-24.228,130.3a37.2,37.2,0,0,0,19.594,39.9h0a37.194,37.194,0,0,0,33.979-.016l.206-.106A37.2,37.2,0,0,0,96.7,176.014L72.735,45.771C70.166,31.814,50.17,31.8,47.576,45.748Z\"\r\n            />\r\n            <this.Pillow\r\n              ref={ref => (this.PillowRef = ref)}\r\n              d=\"M60.313,200.824c-46.573-.1-59.922-26.51-59.922-26.51L.263,197.326C.226,214.194,26.912,227.927,59.869,228s59.7-13.543,59.74-30.411l.128-23.012S106.887,200.926,60.313,200.824Z\"\r\n            />\r\n            <this.TopCircleBack\r\n              ref={ref => (this.TopCircleBackRef = ref)}\r\n              d=\"M99.8,174.577c0,9.089-17.823,16.458-39.808,16.458s-39.808-7.369-39.808-16.458c0-.088.012-.175.016-.263H.332c0,.088-.013.175-.013.263,0,16.868,26.717,30.543,59.674,30.543s59.673-13.675,59.673-30.543c0-.088-.012-.175-.013-.263H99.785C99.788,174.4,99.8,174.489,99.8,174.577Z\"\r\n            />\r\n            <this.TopBack\r\n              ref={ref => (this.TopBackRef = ref)}\r\n              d=\"M76.085,71.705l-.192.176a23.269,23.269,0,0,1-31.749-.176h0L28.113,49.246l31.9,1.748L91.9,49.208Z\"\r\n            />\r\n            <this.Neck\r\n              ref={ref => (this.NeckRef = ref)}\r\n              d=\"M81.849,37.108,39.681,38.825,20.186,23.814S27.59,7.853,59.994,7.853,99.8,23.814,99.8,23.814Z\"\r\n            />\r\n            <this.BottomCircleFront\r\n              ref={ref => (this.BottomCircleFrontRef = ref)}\r\n              d=\"M34.833,28.175a5.542,5.542,0,0,1-1.395-3.51c0-6.064,11.889-10.979,26.556-10.979S86.549,18.6,86.549,24.665a5.542,5.542,0,0,1-1.4,3.51H99.2a10.855,10.855,0,0,0,.6-3.51C99.8,13.412,81.979,4.29,59.994,4.29S20.186,13.412,20.186,24.665a10.882,10.882,0,0,0,.6,3.51Z\"\r\n            />\r\n            <this.BottomBase\r\n              ref={ref => (this.BottomBaseRef = ref)}\r\n              cx=\"59.936\"\r\n              cy=\"30.93\"\r\n              rx=\"24.712\"\r\n              ry=\"20.667\"\r\n            />\r\n            <this.Body\r\n              ref={ref => (this.BodyRef = ref)}\r\n              d=\"M59.994,45.039c-21.985,0-39.808-9.122-39.808-20.374V38.553c0,11.253,17.823,20.375,39.808,20.375S99.8,49.806,99.8,38.553V24.665C99.8,35.917,81.979,45.039,59.994,45.039Z\"\r\n            />\r\n            <this.BottomCircleBack\r\n              ref={ref => (this.BottomCircleBackRef = ref)}\r\n              d=\"M59.994,35.643c-14.667,0-26.556-4.915-26.556-10.978H20.186c0,11.252,17.823,20.374,39.808,20.374S99.8,35.917,99.8,24.665H86.549C86.549,30.728,74.66,35.643,59.994,35.643Z\"\r\n            />\r\n            <this.Back\r\n              ref={ref => (this.BackRef = ref)}\r\n              cx=\"60.008\"\r\n              cy=\"8.672\"\r\n              r=\"8.433\"\r\n            />\r\n            <this.Overlay\r\n              d=\"M119.737,176.4l-.01-.021.01-1.8-.076.147c0-.049,0-.1,0-.147,0-10.908-11.182-20.475-27.99-25.878L77.212,70.1,89.966,51.954c6.119-3.583,9.835-8.268,9.835-13.4V24.666h0c0-.275-.019-.548-.041-.821l.041-.03-.047-.093C98.905,14.192,85.269,6.374,67.421,4.65a8.434,8.434,0,0,0-14.824,0c-17.862,1.718-31.514,9.54-32.364,19.074l-.047.093.041.031c-.021.273-.041.545-.041.82V38.553c0,5.145,3.733,9.84,9.877,13.426L43.038,70.155l-14.6,78.5C11.559,154.051.319,163.64.319,174.577c0,.431.026.859.063,1.285L.263,197.326C.226,214.194,26.912,227.927,59.869,228s59.7-13.543,59.74-30.411l.118-21.184Z\"\r\n              ref={ref => (this.OverlayRef = ref)}\r\n              onMouseDown={this.onMouseDown}\r\n              onMouseUp={this.onMouseUp}\r\n              onTouchStart={this.onTouchStart}\r\n              onTouchEnd={this.onTouchEnd}\r\n              style={{ pointerEvents: this.props.draggable ? 'auto' : 'none' }}\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util/theme';\r\nimport { TweenMax, TimelineMax, Power4 } from 'gsap';\r\n\r\ntype Props = {\r\n  PosOffset: [number, number];\r\n  isDark: boolean;\r\n  onDrag: () => void;\r\n  onDrop: () => void;\r\n  dragging: boolean;\r\n  pickedUp: boolean;\r\n  draggable: boolean;\r\n  active: boolean;\r\n};\r\n\r\ntype State = {\r\n  dragging: boolean;\r\n};\r\n\r\nexport default class King extends React.Component<Props, State> {\r\n  private CrossTopRef: SVGPathElement | null = null;\r\n  private CrossSideRef: SVGPathElement | null = null;\r\n  private CrossFrontRef: SVGPathElement | null = null;\r\n  private CrossBaseRef: SVGEllipseElement | null = null;\r\n  private NeckRef: SVGPathElement | null = null;\r\n  private CircleFrontRef: SVGPathElement | null = null;\r\n  private BaseRef: SVGPathElement | null = null;\r\n  private BodyRef: SVGPathElement | null = null;\r\n  private CircleBackRef: SVGPathElement | null = null;\r\n  private BackRef: SVGPathElement | null = null;\r\n  private OverlayRef: SVGPathElement | null = null;\r\n  private BounceRef: SVGGElement | null = null;\r\n  private PositionRef: SVGGElement | null = null;\r\n\r\n  HighlightOn = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.CrossTopRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.CrossSideRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.three\r\n              : Colours.purpleLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.CrossFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.CrossBaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.NeckRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.three\r\n              : Colours.purpleLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.CircleFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.two\r\n              : Colours.purpleLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.CircleBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.one\r\n              : Colours.purpleLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.purpleDark.four\r\n              : Colours.purpleLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  HighlightOff = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start')\r\n      .to(\r\n        this.CrossTopRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.CrossSideRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.three\r\n              : Colours.whiteLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.CrossFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.CrossBaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.NeckRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.three\r\n              : Colours.whiteLight.three\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.CircleFrontRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BaseRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BodyRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.two\r\n              : Colours.whiteLight.two\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.CircleBackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.one\r\n              : Colours.whiteLight.one\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.BackRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            fill: this.props.isDark\r\n              ? Colours.blackLight.four\r\n              : Colours.whiteLight.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      )\r\n      .to(\r\n        this.OverlayRef!,\r\n        1,\r\n        {\r\n          css: {\r\n            stroke: this.props.isDark\r\n              ? Colours.blackDark.three\r\n              : Colours.whiteDark.four\r\n          },\r\n          ease: Power4.easeOut\r\n        },\r\n        'start'\r\n      );\r\n    return tl;\r\n  };\r\n\r\n  BounceDown = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 15)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  BounceUp = (): TimelineMax => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.BounceRef!, 1, {\r\n      attr: {\r\n        transform: 'translate(0 0)'\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  animatePosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 72})`\r\n      },\r\n      ease: Power4.easeOut\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  setDragPosition = () => {\r\n    TweenMax.set(this.PositionRef!, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 72})`\r\n      }\r\n    });\r\n  };\r\n\r\n  setInitialPosition = () => {\r\n    let tl = new TimelineMax();\r\n    tl.add('start').to(this.PositionRef!, 1, {\r\n      attr: {\r\n        transform: `translate(${this.props.PosOffset[0]} ${this.props\r\n          .PosOffset[1] - 72})`\r\n      }\r\n    });\r\n    return tl;\r\n  };\r\n\r\n  CrossTop = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  CrossSide = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.three\r\n      : Colours.whiteLight.three};\r\n  `;\r\n  CrossFront = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  CrossBase = styled.ellipse`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Neck = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.three\r\n      : Colours.whiteLight.three};\r\n  `;\r\n  CircleFront = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Base = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  Body = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.two\r\n      : Colours.whiteLight.two};\r\n  `;\r\n  CircleBack = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.one\r\n      : Colours.whiteLight.one};\r\n  `;\r\n  Back = styled.path`\r\n    fill: ${this.props.isDark\r\n      ? Colours.blackLight.four\r\n      : Colours.whiteLight.four};\r\n  `;\r\n  Overlay = styled.path`\r\n    fill: transparent;\r\n    stroke: ${this.props.isDark\r\n      ? Colours.blackDark.three\r\n      : Colours.whiteDark.four};\r\n    stroke-width: 5px;\r\n    cursor: move;\r\n  `;\r\n\r\n  makeActive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOn().delay(0.2);\r\n  };\r\n\r\n  makeInactive = () => {\r\n    this.BounceDown().timeScale(5);\r\n    this.BounceUp().delay(0.2);\r\n    this.HighlightOff().delay(0.2);\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.PositionRef) {\r\n      this.setInitialPosition();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    if (prevProps.active !== this.props.active) {\r\n      if (this.props.active) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n\r\n    if (prevProps.PosOffset !== this.props.PosOffset) {\r\n      if (this.props.dragging) {\r\n        this.setDragPosition();\r\n      } else {\r\n        this.animatePosition();\r\n      }\r\n    }\r\n\r\n    if (prevProps.pickedUp !== this.props.pickedUp) {\r\n      if (this.props.pickedUp) {\r\n        this.makeActive();\r\n      } else {\r\n        this.makeInactive();\r\n      }\r\n    }\r\n  }\r\n\r\n  onMouseDown = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onMouseUp = (e: React.MouseEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  onTouchStart = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrag();\r\n  };\r\n  onTouchEnd = (e: React.TouchEvent<SVGPathElement>) => {\r\n    e.preventDefault();\r\n    this.props.onDrop();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <g ref={ref => (this.PositionRef = ref)}>\r\n        <g ref={ref => (this.BounceRef = ref)}>\r\n          <g transform={'translate(12 28) scale(0.8)'}>\r\n            <this.Back\r\n              ref={ref => (this.BackRef = ref)}\r\n              d=\"M26.458,216.99l67.148-.114,26.209-19.971s-11.189-24.008-59.932-23.9S.057,197.169.057,197.169Z\"\r\n            />\r\n            <this.CircleBack\r\n              ref={ref => (this.CircleBackRef = ref)}\r\n              d=\"M96.646,201.93c2.123-2.019,3.307-4.246,3.307-6.588,0-9.129-17.884-16.53-39.946-16.53s-39.946,7.4-39.946,16.53c0,2.342,1.185,4.569,3.308,6.588H1.527a16.676,16.676,0,0,1-1.4-6.588c0-16.943,26.809-30.677,59.879-30.677s59.88,13.734,59.88,30.677a16.659,16.659,0,0,1-1.4,6.588Z\"\r\n            />\r\n            <this.Body\r\n              ref={ref => (this.BodyRef = ref)}\r\n              d=\"M59.429,67.528a15.821,15.821,0,0,1,16.195,13.15l20.1,117.588a36.231,36.231,0,0,1-17.4,37.383h0a36.156,36.156,0,0,1-36.6-.041l-.1-.061A36.233,36.233,0,0,1,24.286,198.2L44.446,80.669A15.821,15.821,0,0,1,59.429,67.528Z\"\r\n            />\r\n            <this.Base\r\n              ref={ref => (this.BaseRef = ref)}\r\n              d=\"M59.686,221.7c46.734-.1,60.129-26.626,60.129-26.626l.128,23.113C119.981,235.133,93.2,248.927,60.131,249S.222,235.4.185,218.455L.057,195.342S12.951,221.807,59.686,221.7Z\"\r\n            />\r\n            <this.CircleFront\r\n              ref={ref => (this.CircleFrontRef = ref)}\r\n              d=\"M20.061,195.342c0,9.129,17.885,16.53,39.946,16.53s39.946-7.4,39.946-16.53c0-.089-.013-.176-.016-.264h19.937c0,.088.013.175.013.264,0,16.942-26.809,30.677-59.88,30.677S.128,212.284.128,195.342c0-.089.011-.176.013-.264H20.078C20.074,195.166,20.061,195.253,20.061,195.342Z\"\r\n            />\r\n            <this.Neck\r\n              ref={ref => (this.NeckRef = ref)}\r\n              d=\"M96.271,60.6H23.734L42.468,92.035h.015c2.16,3.842,9.179,6.661,17.523,6.661s15.363-2.819,17.523-6.661h.013Z\"\r\n            />\r\n            <this.CrossBase\r\n              ref={ref => (this.CrossBaseRef = ref)}\r\n              cx=\"60.006\"\r\n              cy=\"56.448\"\r\n              rx=\"37.201\"\r\n              ry=\"18.675\"\r\n            />\r\n            <this.CrossFront\r\n              ref={ref => (this.CrossFrontRef = ref)}\r\n              d=\"M71.76,30.9,60.019,24.108V10.569L48.369,3.85V17.366l-11.743-6.8A23.576,23.576,0,0,0,48.418,30.993l0,0,.141,21.158A11.755,11.755,0,0,0,60.147,62.5l.075-24.7L71.76,44.457Z\"\r\n            />\r\n            <this.CrossSide\r\n              ref={ref => (this.CrossSideRef = ref)}\r\n              d=\"M71.805,44.431l-.045.026V30.9l11.707-6.77h0A23.488,23.488,0,0,1,71.805,44.431ZM60.019,10.569V24.157l11.688-6.765V3.978ZM71.76,44.457,60.222,37.8l-.075,24.7c.027,0,.053,0,.08,0A11.761,11.761,0,0,0,71.914,52Z\"\r\n            />\r\n            <this.CrossTop\r\n              ref={ref => (this.CrossTopRef = ref)}\r\n              d=\"M83.467,24.133,71.76,30.9l-6.52-3.774-5.178-3,11.645-6.741v-.055Zm-35.1-6.767V3.85L36.626,10.569Zm0-13.516h0l11.65,6.719L71.707,3.978l-.084-.048A23.433,23.433,0,0,0,48.37,3.85Z\"\r\n            />\r\n            <this.Overlay\r\n              d=\"M48.369,3.85h0L36.626,10.569h0A23.576,23.576,0,0,0,48.418,30.993l0,0,.052,7.7c-14.9,2.437-25.668,9.463-25.668,17.755a10.018,10.018,0,0,0,.935,4.155h-.007l.032.054a12.932,12.932,0,0,0,1.387,2.326L42.468,92.035h.015l.011.015-13.2,76.957C11.825,174.366.128,184.153.128,195.342c0,.051.007.1.007.151-.047-.089-.078-.151-.078-.151l.01,1.806-.01.021.01.008.118,21.278C.222,235.4,27.061,249.073,60.132,249s59.849-13.867,59.811-30.809l-.119-21.575c.034-.423.063-.847.063-1.274,0-.089-.012-.176-.013-.264h0c-.184-11.079-11.823-20.755-29.153-26.071l-13.161-77L94.831,63.021a12.924,12.924,0,0,0,1.44-2.418h0a10,10,0,0,0,.936-4.155c0-7.168-8.049-13.389-19.854-16.52a23.484,23.484,0,0,0,6.114-15.795l-11.76-6.8V3.978l-.084-.048a23.435,23.435,0,0,0-23.254-.08\"\r\n              ref={ref => (this.OverlayRef = ref)}\r\n              onMouseDown={this.onMouseDown}\r\n              onMouseUp={this.onMouseUp}\r\n              onTouchStart={this.onTouchStart}\r\n              onTouchEnd={this.onTouchEnd}\r\n              style={{ pointerEvents: this.props.draggable ? 'auto' : 'none' }}\r\n            />\r\n          </g>\r\n        </g>\r\n      </g>\r\n    );\r\n  }\r\n}\r\n","import React, { ReactElement } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Pawn from './pawn';\r\nimport Rook from './rook';\r\nimport KnightWhite from './knightWhite';\r\nimport KnightBlack from './knightBlack';\r\nimport Bishop from './bishop';\r\nimport Queen from './queen';\r\nimport King from './king';\r\n\r\nimport { piece, colour, PieceObject } from '../util/model';\r\nimport { getPosFromCoords } from '../util';\r\nimport { connect } from 'react-redux';\r\nimport { AppState } from '../store/ApplicationState';\r\nimport { Actions, ConnectedReduxThunkProps } from '../store';\r\nimport Chess from 'chess';\r\n\r\ntype Props = {\r\n  piece: PieceObject;\r\n  svgRef: SVGSVGElement;\r\n} & AppState &\r\n  ConnectedReduxThunkProps;\r\n\r\ntype State = {\r\n  mousePosition: [number, number];\r\n  truePosition: [number, number];\r\n  piecesBeforeDrag: PieceObject[];\r\n  dragging: boolean;\r\n  pickedUP: boolean;\r\n};\r\n\r\nclass DragContainer extends React.Component<Props, State> {\r\n  state: State = {\r\n    mousePosition: [0, 0],\r\n    truePosition: [0, 0],\r\n    dragging: false,\r\n    piecesBeforeDrag: [],\r\n    pickedUP: false\r\n  };\r\n\r\n  onMouseMove = (e: MouseEvent) => {\r\n    if (!this.state.dragging) {\r\n      this.setState({ dragging: true });\r\n    }\r\n    let CTM = this.props.svgRef.getScreenCTM();\r\n    let pos: [number, number] = [\r\n      (e.clientX - CTM!.e) / CTM!.a,\r\n      (e.clientY - CTM!.f) / CTM!.d\r\n    ];\r\n    this.setState({ truePosition: pos });\r\n    this.setState({ mousePosition: [pos[0] - 60, pos[1] - 120] });\r\n  };\r\n\r\n  onTouchMove = (e: TouchEvent) => {\r\n    if (!this.state.dragging) {\r\n      this.setState({ dragging: true });\r\n    }\r\n    let CTM = this.props.svgRef.getScreenCTM();\r\n    let pos: [number, number] = [\r\n      (e.touches[0].clientX - CTM!.e) / CTM!.a,\r\n      (e.touches[0].clientY - CTM!.f) / CTM!.d\r\n    ];\r\n    this.setState({ truePosition: pos });\r\n    this.setState({ mousePosition: [pos[0] - 60, pos[1] - 120] });\r\n  };\r\n\r\n  onDrag = () => {\r\n    this.setState({ pickedUP: true });\r\n    let possibleMoves = Chess.findMoves(\r\n      this.props.Game.Board,\r\n      this.props.piece.gameBoardPosition\r\n    );\r\n    this.setState({ piecesBeforeDrag: this.props.Game.Pieces });\r\n    this.props.dispatch(Actions.Game.setActiveTiles([...possibleMoves]));\r\n    this.props.dispatch(Actions.Game.movePieceToFront.action(this.props.piece));\r\n    window.addEventListener('mousemove', this.onMouseMove);\r\n    window.addEventListener('touchmove', this.onTouchMove);\r\n  };\r\n\r\n  onDrop = () => {\r\n    this.props.dispatch(Actions.Game.setActiveTiles([]));\r\n\r\n    let highlightedTile = getPosFromCoords(this.state.truePosition);\r\n\r\n    window.removeEventListener('mousemove', this.onMouseMove);\r\n    window.removeEventListener('touchmove', this.onTouchMove);\r\n    this.setState({ dragging: false, pickedUP: false });\r\n\r\n    let possibleMoves = Chess.findMoves(\r\n      this.props.Game.Board,\r\n      this.props.piece.gameBoardPosition\r\n    );\r\n\r\n    if ([...possibleMoves].findIndex(x => x === highlightedTile) !== -1) {\r\n      let newBoard = Chess.applyMove(this.props.Game.Board, [\r\n        this.props.piece.gameBoardPosition,\r\n        highlightedTile!\r\n      ]);\r\n      this.props.dispatch(Actions.Game.setBoard.action(newBoard, false, false));\r\n    } else {\r\n      this.props.dispatch(Actions.Game.setPieces(this.state.piecesBeforeDrag));\r\n    }\r\n  };\r\n\r\n  getPiece = () => {\r\n    switch (this.props.piece.name) {\r\n      case piece.pawn:\r\n        return (\r\n          <Pawn\r\n            isDark={this.props.piece.colour === colour.Black}\r\n            PosOffset={\r\n              this.state.dragging\r\n                ? this.state.mousePosition\r\n                : this.props.piece.position\r\n            }\r\n            onDrag={this.onDrag}\r\n            onDrop={this.onDrop}\r\n            dragging={this.state.dragging}\r\n            draggable={this.props.piece.isTurn}\r\n            active={\r\n              this.props.Game.ActiveTiles.indexOf(\r\n                this.props.piece.gameBoardPosition\r\n              ) > -1\r\n            }\r\n            pickedUp={this.state.pickedUP}\r\n          />\r\n        );\r\n      case piece.Rook:\r\n        return (\r\n          <Rook\r\n            isDark={this.props.piece.colour === colour.Black}\r\n            PosOffset={\r\n              this.state.dragging\r\n                ? this.state.mousePosition\r\n                : this.props.piece.position\r\n            }\r\n            onDrag={this.onDrag}\r\n            onDrop={this.onDrop}\r\n            dragging={this.state.dragging}\r\n            draggable={this.props.piece.isTurn}\r\n            active={\r\n              this.props.Game.ActiveTiles.indexOf(\r\n                this.props.piece.gameBoardPosition\r\n              ) > -1\r\n            }\r\n            pickedUp={this.state.pickedUP}\r\n          />\r\n        );\r\n      case piece.Knight:\r\n        return this.props.piece.colour === colour.White ? (\r\n          <KnightWhite\r\n            isDark={false}\r\n            PosOffset={\r\n              this.state.dragging\r\n                ? this.state.mousePosition\r\n                : this.props.piece.position\r\n            }\r\n            onDrag={this.onDrag}\r\n            onDrop={this.onDrop}\r\n            dragging={this.state.dragging}\r\n            draggable={this.props.piece.isTurn}\r\n            active={\r\n              this.props.Game.ActiveTiles.indexOf(\r\n                this.props.piece.gameBoardPosition\r\n              ) > -1\r\n            }\r\n            pickedUp={this.state.pickedUP}\r\n          />\r\n        ) : (\r\n          <KnightBlack\r\n            isDark={true}\r\n            PosOffset={\r\n              this.state.dragging\r\n                ? this.state.mousePosition\r\n                : this.props.piece.position\r\n            }\r\n            onDrag={this.onDrag}\r\n            onDrop={this.onDrop}\r\n            dragging={this.state.dragging}\r\n            draggable={this.props.piece.isTurn}\r\n            active={\r\n              this.props.Game.ActiveTiles.indexOf(\r\n                this.props.piece.gameBoardPosition\r\n              ) > -1\r\n            }\r\n            pickedUp={this.state.pickedUP}\r\n          />\r\n        );\r\n      case piece.Bishop:\r\n        return (\r\n          <Bishop\r\n            isDark={this.props.piece.colour === colour.Black}\r\n            PosOffset={\r\n              this.state.dragging\r\n                ? this.state.mousePosition\r\n                : this.props.piece.position\r\n            }\r\n            onDrag={this.onDrag}\r\n            onDrop={this.onDrop}\r\n            dragging={this.state.dragging}\r\n            draggable={this.props.piece.isTurn}\r\n            active={\r\n              this.props.Game.ActiveTiles.indexOf(\r\n                this.props.piece.gameBoardPosition\r\n              ) > -1\r\n            }\r\n            pickedUp={this.state.pickedUP}\r\n          />\r\n        );\r\n      case piece.Queen:\r\n        return (\r\n          <Queen\r\n            isDark={this.props.piece.colour === colour.Black}\r\n            PosOffset={\r\n              this.state.dragging\r\n                ? this.state.mousePosition\r\n                : this.props.piece.position\r\n            }\r\n            onDrag={this.onDrag}\r\n            onDrop={this.onDrop}\r\n            dragging={this.state.dragging}\r\n            draggable={this.props.piece.isTurn}\r\n            active={\r\n              this.props.Game.ActiveTiles.indexOf(\r\n                this.props.piece.gameBoardPosition\r\n              ) > -1\r\n            }\r\n            pickedUp={this.state.pickedUP}\r\n          />\r\n        );\r\n      case piece.King:\r\n        return (\r\n          <King\r\n            isDark={this.props.piece.colour === colour.Black}\r\n            PosOffset={\r\n              this.state.dragging\r\n                ? this.state.mousePosition\r\n                : this.props.piece.position\r\n            }\r\n            onDrag={this.onDrag}\r\n            onDrop={this.onDrop}\r\n            dragging={this.state.dragging}\r\n            draggable={this.props.piece.isTurn}\r\n            active={\r\n              this.props.Game.ActiveTiles.indexOf(\r\n                this.props.piece.gameBoardPosition\r\n              ) > -1\r\n            }\r\n            pickedUp={this.state.pickedUP}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return this.getPiece();\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): AppState => state;\r\n\r\nexport default connect(mapStateToProps)(DragContainer);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { AppState } from '../store/ApplicationState';\r\nimport { ConnectedReduxThunkProps } from '../store';\r\n\r\nimport { getPieces } from '../util';\r\nimport DragContainer from './dragContainer';\r\nimport Chess from 'chess';\r\nimport { Actions } from '../store/game';\r\nimport { Message } from '../util/model';\r\n\r\ntype Props = {\r\n  svgRef: SVGSVGElement;\r\n} & AppState &\r\n  ConnectedReduxThunkProps;\r\n\r\ntype State = {};\r\n\r\nclass Pieces extends React.Component<Props, State> {\r\n  async componentDidUpdate(prevProps: Props, prevState: State) {\r\n    if (prevProps.Game.Board !== this.props.Game.Board) {\r\n      let whitesMove = String.fromCharCode(this.props.Game.Board[64]);\r\n      if (whitesMove !== 'W' && !this.props.Game.AiOn) {\r\n        this.props.dispatch(Actions.setMessage(Message.blackMove));\r\n      } else {\r\n        this.props.dispatch(Actions.setMessage(Message.whiteMove));\r\n      }\r\n      if (whitesMove !== 'W' && this.props.Game.AiOn) {\r\n        this.props.dispatch(Actions.setMessage(Message.blackMoveAi));\r\n        let AiMove = await Chess.findAIMove(\r\n          this.props.Game.Board,\r\n          this.props.Game.Difficulty,\r\n          0.5\r\n        );\r\n        if (AiMove) {\r\n          setTimeout(() => {\r\n            let newBoard = Chess.applyMove(this.props.Game.Board, AiMove!);\r\n            this.props.dispatch(\r\n              Actions.setBoard.action(newBoard, false, false)\r\n            );\r\n          }, 1000);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <g>\r\n        {this.props.Game.Pieces.map((piece, index) => (\r\n          <DragContainer\r\n            piece={piece}\r\n            key={piece.id}\r\n            svgRef={this.props.svgRef}\r\n          />\r\n        ))}\r\n      </g>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): AppState => state;\r\n\r\nexport default connect(mapStateToProps)(Pieces);\r\n","import React from 'react';\r\nimport * as Model from '../util/model';\r\n\r\nconst Pawn = (colour: string) => (\r\n  <path\r\n    style={{ fill: colour }}\r\n    d=\"M119.9,123.348h0l0-.03c-.006-.05-.017-.1-.024-.149-.064-.533-.157-1.062-.274-1.587,0-.016-.005-.032-.008-.048h0C116.142,106.248,90.788,94.376,60,94.376S3.858,106.248.416,121.534h0c0,.016-.005.032-.008.048-.117.526-.21,1.054-.274,1.587-.007.05-.018.1-.024.149l0,.03h0a15,15,0,0,0-.1,1.738v92.3c0,16.961,26.863,30.71,60,30.71s60-13.749,60-30.71V125.086A15,15,0,0,0,119.9,123.348Z\"\r\n  />\r\n);\r\n\r\nconst Rook = (colour: string) => (\r\n  <path\r\n    style={{ fill: colour }}\r\n    d=\"M119.949,110.294c-.008.321-.027.64-.054.959q0-.523,0-1.421c0-.464-.028-.926-.069-1.385-.011-.125-.022-.249-.036-.373-.049-.435-.109-.868-.193-1.3-.024-.123-.057-.245-.084-.369-.067-.306-.143-.612-.227-.916-.054-.194-.109-.388-.17-.581-.09-.283-.19-.564-.3-.844-.115-.311-.242-.619-.376-.926q-.108-.249-.223-.5c-.117-.25-.236-.5-.365-.746l.051-.007V87.38c-2.766-5.272-8.2-9.986-15.52-13.733l-16.637,8.5a100.8,100.8,0,0,0-10.233-1.928V65.708a115.849,115.849,0,0,0-31.043,0V80.221h0a101.316,101.316,0,0,0-10.231,1.928l-16.637-8.5C10.282,77.394,4.852,82.108,2.086,87.38v14.51l.054.007h0c-.126.24-.241.482-.355.724-.073.155-.142.31-.21.465-.181.413-.344.829-.493,1.247-.046.132-.1.264-.138.4-.089.271-.171.542-.246.815-.015.055-.027.11-.041.165a16.353,16.353,0,0,0-.339,1.617c-.013.088-.027.176-.039.264a15.931,15.931,0,0,0-.154,1.788h0c0,.152-.023.3-.023.453l-.056.45-.013-.024L.046,218.065C.009,235,26.8,248.781,59.875,248.854s59.926-13.593,59.964-30.525c0,0,.128-84.717.128-84.741v-23.33Z\"\r\n  />\r\n);\r\n\r\nconst KnightWhite = (colour: string) => (\r\n  <path\r\n    style={{ fill: colour }}\r\n    d=\"M119.825,196.3h0q.058-.659.06-1.323l0-.025v-.01c0-.044,0-.088-.007-.132s0-.088-.006-.132h0a15.685,15.685,0,0,0-.122-1.695c-.008-.068-.021-.136-.03-.2q-.1-.741-.269-1.473c-.022-.094-.046-.188-.07-.282q-.174-.7-.407-1.383c-.034-.1-.068-.2-.1-.3q-.248-.685-.555-1.36c-.04-.089-.078-.178-.12-.267q-.336-.711-.736-1.408c-.033-.058-.063-.117-.1-.175a26.51,26.51,0,0,0-4.962-6.028c-.09-.084-.187-.165-.279-.249-.416-.376-.845-.748-1.292-1.114-.136-.112-.277-.222-.416-.333-.42-.334-.85-.664-1.294-.99q-.246-.18-.5-.357-.663-.471-1.358-.927c-.177-.117-.353-.233-.534-.348-.48-.307-.975-.608-1.478-.905-.174-.1-.344-.206-.52-.307-.559-.321-1.133-.634-1.717-.943-.129-.068-.254-.139-.385-.207q-2.216-1.149-4.656-2.176h0V120.092a37.4,37.4,0,0,0,19.687-32.948V77.452S94.077,83.185,80.759,58.441h0a44.521,44.521,0,0,0-44.259.066l-14.3,8.215A166.971,166.971,0,0,0,.06,149l0,.715,22.148,12.642.052-.03v8.919h0q-2.451,1.029-4.674,2.185c-.156.081-.306.166-.461.248-.559.3-1.11.6-1.646.906-.2.115-.393.232-.589.349q-.719.425-1.407.863c-.208.132-.412.266-.615.4q-.651.429-1.271.872c-.2.14-.395.28-.588.423-.409.3-.8.608-1.193.918-.174.139-.352.277-.523.417-.406.336-.795.678-1.176,1.022-.131.118-.269.235-.4.354-.488.455-.957.915-1.4,1.384l-.031.031q-.692.732-1.307,1.486c-.088.107-.165.218-.25.326-.3.384-.6.771-.876,1.164-.121.172-.23.348-.345.522-.22.334-.436.668-.634,1.007-.116.2-.223.4-.331.6-.175.322-.342.645-.5.971-.1.211-.195.422-.286.635-.139.322-.266.647-.384.974-.079.215-.156.43-.226.647-.107.335-.2.673-.284,1.011-.053.211-.111.42-.156.631-.079.371-.135.745-.188,1.12-.025.181-.061.361-.081.544a15.987,15.987,0,0,0-.093,1.684c0,.05.005.1.006.149-.046-.088-.077-.149-.077-.149L.4,218.013c.037,16.911,26.827,30.561,59.837,30.488a113.187,113.187,0,0,0,17.771-1.415q2.807-.455,5.489-1.042a73.119,73.119,0,0,0,22.837-8.787,38.472,38.472,0,0,0,7.741-6.22,23.968,23.968,0,0,0,4-5.631,16.929,16.929,0,0,0,1.864-7.657Z\"\r\n  />\r\n);\r\n\r\nconst KnightBlack = (colour: string) => (\r\n  <path\r\n    style={{ fill: colour }}\r\n    d=\"M119.881,195.468h0c.04-.451.062-.905.062-1.361a16.063,16.063,0,0,0-.094-1.688c-.019-.182-.055-.363-.081-.544-.053-.376-.109-.751-.188-1.122-.045-.212-.1-.422-.157-.633-.086-.339-.177-.677-.284-1.012-.07-.218-.148-.434-.227-.65-.119-.326-.246-.651-.385-.974-.092-.213-.187-.426-.287-.638-.155-.326-.322-.649-.5-.971-.109-.2-.216-.4-.332-.6-.2-.34-.416-.677-.638-1.012-.114-.173-.223-.348-.343-.52-.276-.394-.574-.782-.88-1.168-.085-.108-.163-.218-.251-.325q-.618-.755-1.309-1.488l-.03-.031c-.446-.469-.917-.932-1.407-1.388-.128-.119-.265-.234-.395-.352-.384-.346-.774-.689-1.183-1.026-.171-.141-.349-.279-.524-.418-.389-.31-.785-.617-1.195-.919-.194-.143-.392-.284-.59-.425q-.624-.443-1.277-.874c-.2-.134-.406-.268-.613-.4-.46-.294-.933-.581-1.413-.866-.2-.116-.39-.234-.59-.349-.538-.309-1.092-.611-1.654-.909-.154-.082-.3-.165-.458-.246q-2.23-1.157-4.688-2.19h0V146.842a44.347,44.347,0,0,0,12.43-30.78V114.41a83.107,83.107,0,0,0-21.7-56h0a44.683,44.683,0,0,0-44.382.066L21.989,71.3S21.345,99.616,0,109.583v5.162q0,1.479.1,2.942c.026.39.08.774.117,1.162.054.582.1,1.165.175,1.742.072.541.177,1.074.269,1.61.072.415.127.834.21,1.246.127.632.288,1.253.442,1.877.077.308.137.621.22.927.189.7.41,1.382.632,2.067.073.224.132.453.208.675.261.763.554,1.513.856,2.26.055.136.1.276.157.411.337.809.7,1.6,1.087,2.389.033.068.061.138.094.206q.616,1.245,1.312,2.448c.012.02.022.042.033.062a43.989,43.989,0,0,0,16.13,16.1h0v17.5h0q-2.457,1.03-4.687,2.19c-.156.081-.3.164-.459.246-.562.3-1.115.6-1.653.909-.2.115-.394.233-.591.35-.48.284-.952.571-1.411.865-.208.132-.412.266-.615.4q-.654.432-1.276.874c-.2.141-.4.282-.59.425-.41.3-.807.609-1.2.919-.175.139-.353.277-.524.418-.408.337-.8.68-1.182,1.025-.13.118-.268.234-.4.353-.492.458-.964.922-1.411,1.393l-.025.025q-.693.733-1.31,1.489c-.088.107-.165.217-.251.325-.306.386-.6.774-.879,1.168-.121.172-.23.347-.345.521-.221.335-.437.671-.636,1.01-.117.2-.224.4-.333.6-.175.322-.342.646-.5.972-.1.211-.2.423-.287.636q-.208.484-.385.975c-.079.216-.157.432-.227.65-.108.335-.2.673-.284,1.012-.054.211-.112.421-.157.633-.079.371-.136.746-.189,1.122-.025.181-.061.362-.081.544a16.063,16.063,0,0,0-.094,1.688c0,.05.006.1.007.149-.047-.088-.078-.149-.078-.149l.128,23.113c.037,16.942,26.9,30.618,60,30.545S120.037,233.9,120,216.954Z\"\r\n  />\r\n);\r\n\r\nconst Bishop = (colour: string) => (\r\n  <path\r\n    style={{ fill: colour }}\r\n    d=\"M119.923,194.3c0-.049.006-.1.006-.148a16.1,16.1,0,0,0-.088-1.646c-.018-.176-.054-.349-.078-.524-.051-.369-.1-.738-.178-1.1-.042-.2-.1-.4-.149-.6-.083-.337-.166-.673-.27-1.006-.064-.205-.141-.408-.213-.611-.116-.326-.234-.651-.369-.974-.083-.2-.176-.4-.268-.593-.149-.325-.3-.649-.474-.969-.1-.188-.2-.374-.31-.56-.188-.329-.384-.657-.592-.981q-.165-.257-.338-.512-.347-.508-.726-1.009c-.114-.149-.227-.3-.346-.448-.282-.356-.58-.708-.888-1.057-.106-.121-.21-.243-.32-.363-.352-.386-.721-.766-1.1-1.142-.081-.08-.158-.161-.24-.24q-.681-.658-1.422-1.3l-.051-.045a49.575,49.575,0,0,0-11.885-7.324,17.382,17.382,0,0,0-1.855-2.428c-.031-.035-.061-.07-.093-.1-.2-.215-.405-.427-.616-.638-.072-.072-.144-.145-.218-.218q-.3-.292-.622-.581c-.093-.084-.187-.168-.282-.251-.211-.185-.426-.368-.647-.548-.1-.086-.213-.171-.32-.256-.224-.178-.451-.355-.685-.53-.106-.078-.216-.155-.323-.232-.248-.179-.5-.358-.754-.533l-.024-.016c-.572-.387-1.174-.761-1.8-1.126-.144-.084-.284-.17-.43-.254-.235-.133-.477-.263-.717-.393-.189-.1-.377-.2-.57-.306-.232-.121-.469-.239-.707-.357-.213-.106-.426-.211-.643-.314q-.352-.168-.712-.331t-.7-.309c-.238-.1-.476-.207-.718-.308s-.507-.205-.763-.306c-.236-.094-.47-.188-.71-.279-.293-.111-.593-.218-.892-.325-.212-.076-.42-.154-.635-.228h0l-.511-5.014-3.487-34.207h0c.224-.2.436-.411.654-.618s.427-.4.634-.613.427-.445.636-.671c.2-.211.39-.423.58-.64s.4-.462.595-.7.372-.464.554-.7.363-.465.537-.7c.211-.289.41-.585.61-.881q.332-.489.644-.991c.211-.341.421-.682.619-1.031.131-.23.253-.466.378-.7.16-.3.318-.6.469-.907.118-.241.232-.483.344-.727q.219-.475.421-.959c.1-.235.2-.47.292-.708.147-.375.282-.755.415-1.137.066-.189.138-.376.2-.567q.276-.847.506-1.715c.044-.167.079-.337.121-.506.106-.43.207-.862.3-1.3.044-.22.083-.442.123-.663q.107-.6.193-1.2c.032-.228.062-.455.09-.684.05-.423.089-.848.123-1.275.015-.2.035-.4.047-.6.037-.626.06-1.254.06-1.886h0a68.164,68.164,0,0,0-3.7-22.151l-10.9-6.273,4.749-6.966L65.137,36.309a5.483,5.483,0,0,0-9.711-.012L39.756,64.519a67.765,67.765,0,0,0-8.444,33.862V98.4c.009.607.04,1.211.084,1.812.013.191.034.382.051.573.037.411.08.82.133,1.227.028.22.059.438.092.656.058.389.125.774.2,1.158.04.21.076.421.12.629.1.473.211.94.331,1.405.054.209.11.416.168.623.123.436.251.87.392,1.3.082.25.172.5.26.745.105.293.211.586.324.875q.159.408.329.811c.107.253.22.5.333.755.129.282.256.565.392.843.1.206.21.407.315.61q.477.918,1.011,1.8c.076.125.148.254.226.378.2.318.41.629.62.939.1.149.2.3.307.446q.327.465.673.916c.1.127.2.252.3.377.25.317.5.631.764.937.023.027.048.052.071.079q.96,1.113,2.026,2.127l0,0L36.8,159.968h0c-.222.077-.437.158-.657.237-.291.1-.584.208-.87.316-.242.092-.478.187-.716.282-.254.1-.508.2-.757.3s-.483.205-.723.309-.464.2-.693.307-.481.221-.717.334c-.214.1-.426.206-.636.31-.24.119-.478.238-.712.36-.192.1-.38.2-.568.305-.241.13-.483.26-.718.393-.143.081-.279.166-.419.248-.611.359-1.2.726-1.766,1.106-.021.014-.044.027-.065.042-.257.174-.5.353-.752.532-.107.077-.218.154-.323.233-.235.174-.462.352-.687.53-.107.085-.214.169-.319.255-.222.181-.437.364-.648.549-.1.083-.188.166-.28.25q-.321.288-.624.582c-.074.072-.144.144-.216.216-.212.212-.42.424-.618.64-.03.032-.058.065-.087.1a17.475,17.475,0,0,0-1.86,2.432h0a49.588,49.588,0,0,0-11.889,7.326l-.044.039q-.745.642-1.43,1.3c-.081.078-.158.159-.238.238-.382.377-.752.758-1.1,1.144-.11.12-.213.241-.32.361-.308.35-.607.7-.89,1.06-.118.148-.23.3-.343.446q-.381.5-.728,1.011c-.116.169-.228.339-.338.51q-.312.487-.592.983c-.106.186-.211.371-.31.558-.17.321-.325.645-.475.97-.091.2-.184.394-.267.593-.136.323-.254.649-.369.976-.072.2-.149.4-.213.609-.1.333-.188.67-.271,1.007-.049.2-.107.4-.149.6-.076.366-.127.736-.178,1.106-.024.174-.059.346-.077.521a15.853,15.853,0,0,0-.088,1.647c0,.448.023.893.062,1.336L0,217c-.037,16.942,26.767,30.736,59.868,30.809s59.967-13.6,60-30.545L120,194.147S119.969,194.208,119.923,194.3Z\"\r\n  />\r\n);\r\n\r\nconst Queen = (colour: string) => (\r\n  <path\r\n    style={{ fill: colour }}\r\n    d=\"M119.737,197.49l-.01-.021.01-1.8s-.03.059-.074.142l0,0c0-.017,0-.033,0-.049,0-.033,0-.065,0-.1v0c0-.467-.028-.931-.069-1.393-.01-.11-.02-.221-.032-.331-.049-.454-.113-.907-.2-1.356-.011-.056-.026-.111-.038-.166-.084-.405-.185-.808-.3-1.208-.031-.11-.061-.22-.095-.329-.133-.432-.281-.861-.448-1.286-.038-.094-.08-.187-.119-.281q-.221-.534-.478-1.061c-.055-.112-.107-.225-.164-.337q-.31-.606-.667-1.2c-.073-.123-.152-.245-.228-.367q-.294-.468-.616-.931c-.083-.118-.161-.237-.246-.355-.268-.37-.552-.736-.847-1.1-.121-.148-.246-.3-.37-.442q-.341-.4-.7-.793c-.158-.173-.316-.344-.48-.515q-.418-.435-.864-.863c-.175-.17-.355-.337-.537-.5-.237-.218-.482-.434-.73-.65q-.44-.381-.9-.755c-.227-.185-.455-.369-.689-.551s-.482-.37-.728-.553c-.217-.161-.44-.319-.663-.477q-.642-.456-1.314-.9c-.187-.123-.374-.246-.564-.367-.308-.2-.619-.393-.937-.587-.1-.059-.2-.116-.3-.174q-.957-.575-1.97-1.122l-.441-.237q-1.758-.933-3.667-1.788l-.332-.147q-1.976-.871-4.095-1.655l-.231-.084q-1.437-.525-2.933-1.007l-9.82-53.362L77.212,91.194,89.966,73.047l0,0a25.425,25.425,0,0,0,6.455-5.187c.033-.038.068-.076.1-.114.179-.21.347-.424.512-.639.064-.083.13-.166.193-.25.141-.192.275-.386.405-.581.075-.11.149-.22.22-.332.114-.179.221-.36.326-.542.075-.13.147-.261.218-.392.09-.171.177-.342.259-.514q.1-.221.2-.441c.07-.163.139-.326.2-.49s.117-.327.171-.491.1-.307.147-.462c.051-.181.093-.363.135-.545.033-.142.07-.284.1-.427.04-.211.067-.423.095-.636.015-.117.036-.234.047-.352.031-.327.049-.657.049-.989v-13.9h0c0-.275-.019-.548-.041-.82l.041-.03-.047-.094c-.018-.206-.05-.41-.081-.614-.016-.114-.03-.229-.05-.342-.035-.194-.08-.386-.126-.578-.029-.122-.057-.244-.09-.365q-.078-.283-.171-.564c-.04-.12-.082-.24-.125-.36-.069-.188-.14-.375-.219-.561-.047-.113-.1-.224-.151-.335-.088-.192-.175-.384-.273-.573-.043-.083-.092-.164-.137-.247a15.194,15.194,0,0,0-1.319-2.008c-.069-.088-.133-.176-.2-.264-.147-.183-.3-.363-.46-.544-.084-.1-.167-.192-.254-.287-.161-.178-.328-.353-.5-.528-.091-.092-.183-.184-.276-.275-.18-.177-.362-.353-.552-.527-.086-.079-.176-.157-.264-.235-.207-.184-.415-.368-.634-.549-.035-.029-.074-.058-.11-.087A28.184,28.184,0,0,0,91.172,33.1c-.068-.044-.133-.088-.2-.131-.272-.173-.552-.341-.834-.509l-.284-.168q-.424-.246-.865-.485l-.286-.154c-.307-.163-.617-.325-.934-.483l-.206-.1a46.2,46.2,0,0,0-4.891-2.051l-.015-.006q-.621-.219-1.258-.427l-.175-.057q-.622-.2-1.259-.391l-.179-.053c-.441-.129-.885-.255-1.336-.376l-.031-.008a65.823,65.823,0,0,0-7.63-1.55l-.116-.017q-.758-.108-1.527-.2L69,25.914c-.523-.062-1.049-.12-1.58-.171a8.431,8.431,0,0,0-.535-.846c-.055-.077-.112-.151-.169-.225-.157-.207-.323-.405-.5-.6-.056-.061-.109-.124-.166-.183a8.434,8.434,0,0,0-.73-.672c-.047-.038-.1-.071-.146-.108a8.2,8.2,0,0,0-.676-.475c-.083-.053-.166-.1-.251-.153-.24-.139-.486-.268-.74-.384-.056-.025-.109-.055-.165-.079a8.309,8.309,0,0,0-.95-.341c-.083-.025-.168-.043-.253-.065q-.384-.1-.781-.165c-.1-.016-.2-.032-.295-.045a7.689,7.689,0,0,0-2.114,0c-.1.013-.2.029-.3.045q-.4.064-.782.165c-.083.022-.168.04-.251.065a8.39,8.39,0,0,0-.951.34c-.056.025-.108.054-.164.079q-.381.175-.741.385c-.084.049-.167.1-.249.152a8.2,8.2,0,0,0-.677.474c-.048.038-.1.071-.146.11a8.278,8.278,0,0,0-.73.671c-.057.058-.109.12-.165.18q-.262.288-.5.6c-.057.074-.113.147-.167.224a8.43,8.43,0,0,0-.534.842l0,0h0q-.8.078-1.59.171l-.128.016q-.779.093-1.546.2l-.085.012a65.591,65.591,0,0,0-7.655,1.552l-.031.008c-.455.121-.9.248-1.347.379l-.164.048q-.645.192-1.274.395l-.156.051a47.478,47.478,0,0,0-6.187,2.491l-.2.1q-.48.238-.944.487l-.274.147q-.447.243-.877.493c-.091.052-.179.105-.268.158-.288.17-.572.342-.849.517l-.18.117a28.38,28.38,0,0,0-2.6,1.882c-.038.03-.077.06-.114.091-.22.182-.43.366-.638.552-.087.077-.175.153-.26.231-.191.175-.375.352-.557.531-.091.09-.182.18-.27.27q-.259.264-.5.532c-.085.094-.167.188-.249.283-.159.182-.317.364-.465.549-.069.084-.132.17-.2.256a15.147,15.147,0,0,0-1.325,2.015c-.045.082-.094.164-.136.246-.1.19-.186.382-.274.574-.051.111-.1.222-.151.335-.079.186-.15.374-.219.562-.044.119-.086.238-.125.358-.062.188-.12.376-.171.566-.033.121-.062.242-.091.364-.045.192-.09.384-.125.578-.021.115-.035.23-.051.346-.031.2-.063.406-.081.612-.028.054-.047.093-.047.093l.041.031c-.021.272-.041.544-.041.819V59.647c0,.337.018.672.05,1.005.011.115.032.229.047.344.028.216.055.432.1.646.027.141.063.28.095.42.043.185.085.37.138.553.044.154.1.306.146.459s.11.33.172.494.132.325.2.488.131.3.2.445c.082.171.169.342.259.512.071.132.145.265.221.4q.154.271.324.539c.073.114.148.226.224.339.13.193.263.385.4.575.065.088.134.175.2.263.162.21.327.42.5.627.041.049.086.1.128.145a25.532,25.532,0,0,0,6.466,5.175L43.038,91.248l-14.6,78.5q-1.452.465-2.844.97l-.441.161q-2.044.753-3.955,1.592c-.163.071-.326.143-.487.216q-1.267.567-2.473,1.169l-.011,0c-.365.183-.722.37-1.077.557l-.565.3q-.828.45-1.621.917c-.206.121-.414.241-.616.364-.3.181-.59.364-.88.548-.226.144-.446.289-.667.435q-.606.4-1.185.81c-.254.179-.506.359-.752.541s-.461.345-.687.52c-.273.212-.539.426-.8.641s-.535.444-.794.669-.518.454-.768.683c-.172.158-.342.316-.508.476-.346.332-.684.667-1.007,1.006-.119.126-.231.253-.347.38q-.372.405-.721.817c-.118.139-.237.277-.351.417q-.448.552-.858,1.114c-.084.116-.162.234-.243.351q-.329.469-.627.948c-.072.115-.147.23-.217.347q-.36.6-.671,1.21c-.057.111-.109.222-.164.334q-.261.536-.485,1.077c-.037.088-.076.175-.111.263-.169.427-.318.858-.451,1.292-.034.109-.064.218-.095.328-.116.4-.219.81-.3,1.22-.011.051-.025.1-.035.153-.088.45-.152.9-.2,1.36-.012.109-.022.22-.031.33-.041.464-.07.929-.07,1.4,0,.431.026.858.063,1.284h0L.263,218.419a17.938,17.938,0,0,0,3.6,10.51,26.48,26.48,0,0,0,2.257,2.745,32.817,32.817,0,0,0,2.749,2.6,51.31,51.31,0,0,0,13.06,7.759,85.507,85.507,0,0,0,17.428,5.16q4.111.78,8.489,1.251a115.4,115.4,0,0,0,12.025.647h0a103.379,103.379,0,0,0,33.375-5.143,58.353,58.353,0,0,0,16.136-8.214,32.759,32.759,0,0,0,5.514-5.176,22.727,22.727,0,0,0,2.82-4.249,17.216,17.216,0,0,0,1.814-6.057q.079-.781.081-1.572l.118-21.184Z\"\r\n  />\r\n);\r\n\r\nconst King = (colour: string) => (\r\n  <path\r\n    style={{ fill: colour }}\r\n    d=\"M119.863,203.63l-.039-7.014c.034-.423.063-.847.063-1.274,0-.044,0-.088-.007-.132s0-.088-.006-.132h0l0-.042c-.007-.334-.023-.668-.05-1-.021-.261-.054-.52-.088-.779-.023-.172-.048-.343-.076-.513-.071-.431-.161-.859-.265-1.285-.041-.165-.077-.33-.123-.494-.071-.256-.153-.509-.236-.762-.054-.165-.113-.33-.172-.494q-.226-.625-.5-1.241c-.072-.161-.141-.323-.218-.483-.118-.246-.244-.49-.374-.733-.086-.162-.177-.323-.268-.484q-.333-.586-.71-1.164c-.108-.164-.214-.329-.326-.493-.16-.232-.327-.462-.5-.691-.121-.163-.247-.324-.374-.486q-.426-.544-.891-1.078c-.144-.166-.287-.332-.437-.5q-.3-.324-.607-.644c-.159-.164-.325-.327-.489-.49q-.508-.5-1.05-.99c-.179-.162-.36-.325-.545-.486q-.347-.3-.7-.595c-.2-.169-.417-.335-.629-.5q-.569-.45-1.168-.888c-.215-.157-.431-.314-.651-.469-.261-.183-.524-.365-.793-.546s-.528-.347-.8-.519c-.408-.262-.822-.519-1.246-.774-.247-.149-.5-.3-.749-.443-.289-.167-.578-.333-.873-.5-.34-.189-.687-.374-1.036-.558q-.612-.321-1.241-.634-.414-.206-.833-.407c-.314-.15-.628-.3-.948-.446q-.743-.341-1.508-.67c-.323-.138-.652-.272-.98-.407-.306-.125-.613-.249-.924-.371-.336-.133-.671-.266-1.013-.4q-.806-.3-1.63-.594c-.351-.123-.707-.242-1.063-.362q-.492-.165-.99-.325c-.357-.115-.713-.231-1.075-.342h0l-1-5.842L77.56,92.005,94.285,63.936l.546-.915a12.971,12.971,0,0,0,1.44-2.417h0a10.579,10.579,0,0,0,.394-.994l.011-.029c.1-.311.194-.624.267-.939.009-.038.02-.075.028-.112.064-.289.113-.58.15-.872.008-.059.02-.117.027-.176a9.593,9.593,0,0,0,.059-1.033,9.459,9.459,0,0,0-.084-1.192c-.014-.111-.032-.222-.05-.332Q97,54.457,96.878,54c-.024-.09-.042-.18-.068-.269a10.912,10.912,0,0,0-.4-1.141c-.031-.073-.068-.146-.1-.219-.138-.312-.293-.62-.462-.926-.054-.1-.108-.2-.165-.292-.208-.355-.432-.706-.681-1.052l-.023-.034c-.265-.366-.558-.725-.867-1.081-.065-.075-.134-.148-.2-.223q-.4-.446-.848-.879c-.06-.059-.118-.118-.179-.176-.368-.347-.754-.689-1.164-1.024l-.045-.035c-.392-.318-.805-.628-1.233-.933-.073-.053-.146-.1-.221-.156a30.218,30.218,0,0,0-2.984-1.829c-.043-.024-.088-.047-.132-.07q-.771-.411-1.589-.8l-.124-.059q-1.761-.825-3.726-1.533l-.144-.051q-1.992-.709-4.165-1.289h0a23.517,23.517,0,0,0,2.555-3.382l.066-.107a23.522,23.522,0,0,0,1.849-3.695c.032-.081.061-.163.092-.244q.319-.839.576-1.7c.028-.095.059-.188.086-.284.18-.637.336-1.282.462-1.937.019-.1.031-.2.049-.3q.147-.82.235-1.657c.019-.172.037-.343.051-.515.056-.655.093-1.312.093-1.976l-11.76-6.8V3.978l-.084-.048A23.393,23.393,0,0,0,65.971,1.6q-.732-.2-1.474-.343a23.433,23.433,0,0,0-16.128,2.6h0L36.626,10.569A23.576,23.576,0,0,0,48.418,30.993l0,0,.052,7.7q-2.062.338-4.013.79l-.087.019q-.594.139-1.177.288l-.213.055q-.579.15-1.146.308l-.082.024q-1.791.507-3.454,1.109l-.165.059c-.322.118-.639.239-.954.361l-.3.118c-.3.121-.605.244-.9.369l-.251.109q-1.4.608-2.676,1.279c-.108.058-.218.114-.325.172-.229.123-.452.249-.674.376q-.2.114-.4.23c-.208.123-.414.246-.616.372-.137.085-.27.171-.4.258-.193.124-.386.247-.573.374-.15.1-.292.206-.438.309q-.43.306-.838.62c-.151.117-.3.233-.448.351s-.276.23-.412.346-.286.245-.424.37-.251.227-.373.342c-.146.138-.286.277-.424.416-.1.105-.211.209-.312.315-.224.236-.44.475-.645.716-.062.073-.117.148-.177.221-.15.184-.3.369-.437.556-.075.1-.145.2-.217.306-.116.165-.229.331-.336.5-.067.1-.132.208-.2.313-.107.178-.208.358-.3.539-.049.092-.1.183-.148.275-.136.271-.263.543-.375.817-.013.031-.022.063-.035.094-.1.248-.187.5-.266.75-.03.092-.054.185-.08.278-.055.2-.106.391-.149.589-.022.1-.043.2-.062.3-.037.2-.067.4-.092.607-.011.091-.024.181-.033.272-.027.292-.044.586-.044.881v.009a9.427,9.427,0,0,0,.059,1.024c.007.06.019.119.027.179.037.291.086.581.149.869.009.037.02.075.029.112q.11.473.266.938l.012.032c.113.333.245.663.393.991h-.007l.032.054h0a12.9,12.9,0,0,0,1.386,2.325L42.468,92.035h.015l.011.015-2.541,14.81-10.66,62.147c-.365.112-.723.229-1.083.345q-.5.159-.988.324c-.357.12-.715.24-1.067.364q-.831.293-1.643.6c-.337.127-.666.258-1,.388s-.637.254-.952.383-.644.264-.96.4q-.785.336-1.546.686c-.3.137-.589.277-.881.416q-.472.226-.936.457c-.277.139-.556.276-.828.417q-.738.382-1.448.779c-.253.14-.5.283-.746.426q-.474.273-.935.553c-.226.136-.453.271-.674.41q-.687.43-1.343.876c-.206.139-.407.28-.608.421q-.471.33-.925.666c-.171.127-.346.253-.514.381-.42.321-.826.647-1.222.977-.162.134-.318.269-.476.405q-.456.393-.889.792c-.121.112-.247.223-.366.336-.372.354-.728.713-1.074,1.075-.122.127-.24.256-.358.384q-.423.459-.817.927c-.078.091-.16.182-.235.274-.316.385-.613.775-.9,1.168-.088.121-.173.242-.258.364q-.368.525-.7,1.06c-.043.069-.089.137-.131.206-.25.413-.478.831-.694,1.252-.059.115-.116.231-.173.348-.192.392-.372.787-.534,1.185-.018.046-.04.091-.058.137-.174.437-.324.878-.461,1.321-.035.114-.068.227-.1.341-.124.432-.235.866-.323,1.3,0,.022-.011.043-.015.064-.09.457-.154.917-.2,1.379-.013.114-.024.227-.034.34-.041.467-.069.935-.069,1.406,0,.032,0,.063,0,.094s0,.038,0,.057c-.043-.081-.07-.135-.075-.144l0-.007h0l.01,1.806-.005.009,0,.012.01.008.118,21.278A16.054,16.054,0,0,0,.5,221.591a18.416,18.416,0,0,0,2.4,5.98,26.555,26.555,0,0,0,4.547,5.49,38.532,38.532,0,0,0,4.677,3.722,53.992,53.992,0,0,0,7.731,4.336q1.065.494,2.175.96a88.031,88.031,0,0,0,20.3,5.581A113.54,113.54,0,0,0,60.132,249c15.5-.034,29.62-3.084,40.244-8.058a44.624,44.624,0,0,0,13.692-9.439,26.456,26.456,0,0,0,2.265-2.757,18.017,18.017,0,0,0,3.61-10.555Z\"\r\n  />\r\n);\r\n\r\nconst getPiece = (\r\n  piece: Model.piece,\r\n  pieceColour: Model.colour,\r\n  colour: string\r\n): JSX.Element => {\r\n  switch (piece) {\r\n    case Model.piece.pawn:\r\n      return Pawn(colour);\r\n    case Model.piece.Rook:\r\n      return Rook(colour);\r\n    case Model.piece.Knight:\r\n      return pieceColour === Model.colour.White\r\n        ? KnightWhite(colour)\r\n        : KnightBlack(colour);\r\n    case Model.piece.Bishop:\r\n      return Bishop(colour);\r\n    case Model.piece.Queen:\r\n      return Queen(colour);\r\n    case Model.piece.King:\r\n      return King(colour);\r\n    default:\r\n      return <div />;\r\n  }\r\n};\r\n\r\ntype Props = {\r\n  Piece: { piece: Model.piece; colour: Model.colour };\r\n  Colour: string;\r\n};\r\n\r\nexport default class SilouettePawn extends React.Component<Props> {\r\n  render() {\r\n    return (\r\n      <>\r\n        {getPiece(\r\n          this.props.Piece.piece,\r\n          this.props.Piece.colour,\r\n          this.props.Colour\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { AppState } from '../store/ApplicationState';\r\nimport { Actions, ConnectedReduxThunkProps } from '../store';\r\nimport { styled } from '../util/styledComponents';\r\nimport { piece, colour } from '../util/model';\r\nimport * as Theme from '../util/theme';\r\nimport SillouettePiece from './SillouettePieces';\r\n\r\ntype Props = {\r\n  colour: colour;\r\n} & AppState &\r\n  ConnectedReduxThunkProps;\r\n\r\ntype State = {};\r\n\r\nclass TakenPieces extends React.Component<Props, State> {\r\n  isTaken = (Piece: {\r\n    piece: piece;\r\n    colour: colour;\r\n    number: number;\r\n  }): string => {\r\n    let pieces = [...this.props.Game.Pieces].filter(\r\n      piece => piece.name === Piece.piece && piece.colour === Piece.colour\r\n    );\r\n\r\n    let reversePawnNumber = (): number => {\r\n      switch (Piece.number) {\r\n        case 1:\r\n          return 8;\r\n        case 2:\r\n          return 7;\r\n        case 3:\r\n          return 6;\r\n        case 4:\r\n          return 5;\r\n        case 5:\r\n          return 4;\r\n        case 6:\r\n          return 3;\r\n        case 7:\r\n          return 2;\r\n        case 8:\r\n          return 1;\r\n        default:\r\n          return 1;\r\n      }\r\n    };\r\n\r\n    switch (Piece.piece) {\r\n      case piece.pawn:\r\n        if (pieces.length - reversePawnNumber() < 0) {\r\n          return Piece.colour === colour.White\r\n            ? Theme.Colours.purpleLight.one\r\n            : Theme.Colours.purpleDark.three;\r\n        } else {\r\n          return Theme.Colours.whiteLight.three;\r\n        }\r\n      case piece.Rook:\r\n        if (pieces.length >= 2) {\r\n          return Theme.Colours.whiteLight.three;\r\n        } else if (pieces.length === 1) {\r\n          return Piece.number === 1\r\n            ? Piece.colour === colour.White\r\n              ? Theme.Colours.purpleLight.one\r\n              : Theme.Colours.purpleDark.three\r\n            : Theme.Colours.whiteLight.three;\r\n        } else {\r\n          return Piece.colour === colour.White\r\n            ? Theme.Colours.purpleLight.one\r\n            : Theme.Colours.purpleDark.three;\r\n        }\r\n      case piece.Knight:\r\n        if (pieces.length >= 2) {\r\n          return Theme.Colours.whiteLight.three;\r\n        } else if (pieces.length === 1) {\r\n          return Piece.number === 1\r\n            ? Piece.colour === colour.White\r\n              ? Theme.Colours.purpleLight.one\r\n              : Theme.Colours.purpleDark.three\r\n            : Theme.Colours.whiteLight.three;\r\n        } else {\r\n          return Piece.colour === colour.White\r\n            ? Theme.Colours.purpleLight.one\r\n            : Theme.Colours.purpleDark.three;\r\n        }\r\n      case piece.Bishop:\r\n        if (pieces.length >= 2) {\r\n          return Theme.Colours.whiteLight.three;\r\n        } else if (pieces.length === 1) {\r\n          return Piece.number === 1\r\n            ? Piece.colour === colour.White\r\n              ? Theme.Colours.purpleLight.one\r\n              : Theme.Colours.purpleDark.three\r\n            : Theme.Colours.whiteLight.three;\r\n        } else {\r\n          return Piece.colour === colour.White\r\n            ? Theme.Colours.purpleLight.one\r\n            : Theme.Colours.purpleDark.three;\r\n        }\r\n      case piece.Queen:\r\n        return pieces.length <= 0\r\n          ? Piece.colour === colour.White\r\n            ? Theme.Colours.purpleLight.one\r\n            : Theme.Colours.purpleDark.three\r\n          : Theme.Colours.whiteLight.three;\r\n      case piece.King:\r\n        return pieces.length <= 0\r\n          ? Piece.colour === colour.White\r\n            ? Theme.Colours.purpleLight.one\r\n            : Theme.Colours.purpleDark.three\r\n          : Theme.Colours.whiteLight.three;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <g transform={`translate(40 0)`}>\r\n        {[\r\n          { piece: piece.Rook, num: 1 },\r\n          { piece: piece.Knight, num: 1 },\r\n          { piece: piece.Bishop, num: 1 },\r\n          { piece: piece.Queen, num: 1 },\r\n          { piece: piece.King, num: 1 },\r\n          { piece: piece.Bishop, num: 2 },\r\n          { piece: piece.Knight, num: 2 },\r\n          { piece: piece.Rook, num: 2 }\r\n        ].map((value, index) => (\r\n          <g\r\n            key={`${value.piece}${value.num}${this.props.colour}`}\r\n            transform={`translate(${(index + 1) * 50 +\r\n              (this.props.colour === colour.White\r\n                ? 0\r\n                : 1220)} 1090) scale(0.35)`}\r\n          >\r\n            <SillouettePiece\r\n              Piece={{\r\n                piece: value.piece,\r\n                colour: this.props.colour\r\n              }}\r\n              Colour={this.isTaken({\r\n                piece: value.piece,\r\n                colour: this.props.colour,\r\n                number: value.num\r\n              })}\r\n            />\r\n          </g>\r\n        ))}\r\n        {[1, 2, 3, 4, 5, 6, 7, 8].map(value => (\r\n          <g\r\n            key={`${value}${this.props.colour}`}\r\n            transform={`translate(${value * 50 +\r\n              (this.props.colour === colour.White\r\n                ? 0\r\n                : 1220)} 1000) scale(0.35)`}\r\n          >\r\n            <SillouettePiece\r\n              Piece={{\r\n                piece: piece.pawn,\r\n                colour: this.props.colour\r\n              }}\r\n              Colour={this.isTaken({\r\n                piece: piece.pawn,\r\n                colour: this.props.colour,\r\n                number: value\r\n              })}\r\n            />\r\n          </g>\r\n        ))}\r\n      </g>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): AppState => state;\r\n\r\nexport default connect(mapStateToProps)(TakenPieces);\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Theme, Colours } from '../util';\r\nimport { TweenLite, Power4 } from 'gsap';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 45px;\r\n  width: 140px;\r\n  background-color: ${Colours.whiteLight.four};\r\n  border-radius: 10px;\r\n  border-bottom: 4px solid ${Colours.purpleLight.five};\r\n  box-shadow: 0 0 60px rgba(0, 0, 0, 0.25);\r\n`;\r\n\r\nconst Trigger = styled.div`\r\n  height: 30px;\r\n  width: 30px;\r\n  background-color: ${Colours.whiteLight.two};\r\n  border-radius: 5px;\r\n  box-shadow: 0 0 60px rgba(0, 0, 0, 0.25);\r\n  transform: translateX(30px);\r\n`;\r\n\r\nconst SwitchContainer = styled.div`\r\n  height: 30px;\r\n  width: 60px;\r\n  background-color: ${Colours.blackLight.one};\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  transition: background-color 0.5s ease;\r\n  :hover {\r\n    background-color: ${Colours.blackLight.three};\r\n  }\r\n  :hover ${Trigger} {\r\n    background-color: ${Colours.whiteLight.one};\r\n  }\r\n`;\r\n\r\nconst Text = styled.p`\r\n  padding: 0;\r\n  margin: 0;\r\n  font-size: 1em;\r\n  font-weight: 500;\r\n  transition: color 0.5s ease;\r\n`;\r\n\r\nconst Gap = styled.div`\r\n  width: 10px;\r\n`;\r\n\r\ntype Props = {\r\n  setState: (ai: boolean) => void;\r\n};\r\n\r\ntype State = {\r\n  switch: boolean;\r\n};\r\n\r\nexport default class TEMPLATE extends React.Component<Props, State> {\r\n  TriggerRef: React.RefObject<HTMLDivElement> = React.createRef();\r\n\r\n  state: State = {\r\n    switch: true\r\n  };\r\n\r\n  click = async () => {\r\n    if (this.TriggerRef.current) {\r\n      TweenLite.to(this.TriggerRef.current, 1, {\r\n        css: {\r\n          transform: `translateX(${this.state.switch ? '0px' : '30px'})`\r\n        },\r\n        ease: Power4.easeOut\r\n      });\r\n      await this.setState({ switch: !this.state.switch });\r\n      this.props.setState(this.state.switch);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Text\r\n          style={{\r\n            color: !this.state.switch\r\n              ? Colours.blackDark.four\r\n              : Colours.whiteDark.five\r\n          }}\r\n        >\r\n          2P\r\n        </Text>\r\n        <Gap />\r\n        <SwitchContainer onClick={this.click}>\r\n          <Trigger ref={this.TriggerRef} />\r\n        </SwitchContainer>\r\n        <Gap />\r\n        <Text\r\n          style={{\r\n            color: this.state.switch\r\n              ? Colours.blackDark.four\r\n              : Colours.whiteDark.five\r\n          }}\r\n        >\r\n          AI\r\n        </Text>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","import React, { ChangeEvent, FormEvent } from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Theme, Colours } from '../util';\r\nimport { TweenLite, Power4 } from 'gsap';\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-grow: 1;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-sizing: border-box;\r\n  min-width: 0;\r\n`;\r\n\r\nconst Slider = styled.input<{ aiOn: boolean }>`\r\n  -webkit-appearance: none;\r\n  width: 0;\r\n  height: 15px;\r\n  flex-grow: 1;\r\n  border-radius: 20px;\r\n  background: ${p =>\r\n    p.aiOn ? Colours.purpleDark.four : Colours.purpleLight.four};\r\n  outline: none;\r\n  -webkit-transition: 0.2s;\r\n  transition: background 0.5s ease;\r\n  ::-webkit-slider-thumb {\r\n    -webkit-appearance: none;\r\n    appearance: none;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 50%;\r\n    transition: background 0.5s ease;\r\n    background: ${p =>\r\n      p.aiOn ? Colours.whiteLight.two : Colours.purpleLight.four};\r\n    cursor: ${p => (p.aiOn ? 'pointer' : 'auto')};\r\n  }\r\n`;\r\n\r\nconst Text = styled.p<{ aiOn: boolean }>`\r\n  padding: 0;\r\n  margin: 0;\r\n  font-size: 1em;\r\n  font-weight: 500;\r\n  transition: color 0.5s ease;\r\n  color: ${p => (p.aiOn ? Colours.whiteLight.two : Colours.purpleLight.four)};\r\n`;\r\n\r\nconst Gap = styled.div`\r\n  width: 10px;\r\n`;\r\n\r\ntype Props = {\r\n  AiOn: boolean;\r\n  SliderValue: number;\r\n  UpdateDifficulty: (value: number) => void;\r\n};\r\n\r\ntype State = {\r\n  slider: number;\r\n};\r\n\r\nexport default class Component extends React.Component<Props, State> {\r\n  state: State = {\r\n    slider: 1\r\n  };\r\n\r\n  updateSlider = (value: FormEvent<HTMLInputElement>) => {\r\n    let num = parseInt(value.currentTarget.value);\r\n    let correctedNum = num / 5;\r\n    this.setState({ slider: num });\r\n    this.props.UpdateDifficulty(correctedNum);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Text aiOn={this.props.AiOn}>Difficulty:</Text>\r\n        <Gap />\r\n        <Slider\r\n          defaultValue=\"0\"\r\n          onInput={this.updateSlider}\r\n          type=\"range\"\r\n          min=\"0\"\r\n          max=\"10\"\r\n          aiOn={this.props.AiOn}\r\n          disabled={!this.props.AiOn}\r\n        />\r\n        <Gap />\r\n        <Text aiOn={this.props.AiOn}>{this.state.slider}</Text>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util';\r\n\r\nconst Container = styled.div`\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  background-color: ${Colours.purpleLight.five};\r\n  height: 30px;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst Text = styled.p`\r\n  color: ${Colours.whiteLight.one};\r\n  font-size: 1em;\r\n`;\r\n\r\ntype Props = {\r\n  message: string;\r\n};\r\n\r\ntype State = {};\r\n\r\nexport default class TextBox extends React.Component<Props, State> {\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Text>{this.props.message}</Text>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { styled } from '../util/styledComponents';\r\nimport { Colours } from '../util/theme';\r\nimport { piece, colour, Coords } from '../util/model';\r\nimport { connect } from 'react-redux';\r\nimport { AppState } from '../store/ApplicationState';\r\nimport { Actions, ConnectedReduxThunkProps } from '../store';\r\nimport Chess from 'chess';\r\n\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport Canvas from '../components/canvas';\r\nimport Board from '../components/board';\r\nimport Pieces from '../components/pieces';\r\nimport TakenPieces from '../components/takenPieces';\r\nimport Switch from '../components/Switch';\r\nimport Slider from '../components/Slider';\r\nimport TextBox from '../components/TextBox';\r\n\r\nconst BG = styled.div`\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: ${Colours.whiteLight.one};\r\n`;\r\n\r\nconst Container = styled.div`\r\n  position: fixed;\r\n  top: 0px;\r\n  bottom: 150px;\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Gap = styled.div`\r\n  width: 20px;\r\n`;\r\n\r\nconst GapTwo = styled.div`\r\n  width: 5px;\r\n`;\r\n\r\nconst Text = styled.a`\r\n  padding: 0;\r\n  margin: 0;\r\n  font-size: 0.8em;\r\n  color: ${Colours.purpleLight.two};\r\n`;\r\n\r\nconst Link = styled.a`\r\n  padding: 0;\r\n  margin: 0;\r\n  font-size: 0.8em;\r\n  color: ${Colours.whiteLight.one};\r\n`;\r\n\r\nconst TextDivider = styled.div`\r\n  flex-grow: 1;\r\n`;\r\n\r\ntype Props = {} & AppState & ConnectedReduxThunkProps;\r\ntype State = {};\r\n\r\nclass App extends Component<Props, State> {\r\n  componentWillMount() {\r\n    this.props.dispatch(\r\n      Actions.Game.setBoard.action(Chess.Board(), true, true)\r\n    );\r\n  }\r\n\r\n  setAiState = (state: boolean) => {\r\n    this.props.dispatch(Actions.Game.setAiState(state));\r\n  };\r\n\r\n  setDifficulty = (value: number) => {\r\n    this.props.dispatch(Actions.Game.setDifficulty(value));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <BG>\r\n        <Container>\r\n          <Canvas\r\n            render={canvasProps => (\r\n              <g>\r\n                <TakenPieces colour={colour.White} />\r\n                <TakenPieces colour={colour.Black} />\r\n                <Board />\r\n                <Pieces svgRef={canvasProps.ref} />\r\n              </g>\r\n            )}\r\n          />\r\n        </Container>\r\n        <Footer\r\n          bottom={\r\n            <>\r\n              <Switch setState={this.setAiState} />\r\n              <Gap />\r\n              <Slider\r\n                AiOn={this.props.Game.AiOn}\r\n                SliderValue={this.props.Game.Difficulty}\r\n                UpdateDifficulty={this.setDifficulty}\r\n              />\r\n            </>\r\n          }\r\n          top={<TextBox message={this.props.Game.Message} />}\r\n          credits={\r\n            <>\r\n              <Text>Design:</Text>\r\n              <GapTwo />\r\n              <Link href={'https://jimmy378.com'} target=\"_blank\">\r\n                {' '}\r\n                jimmy378.com\r\n              </Link>\r\n              <TextDivider />\r\n              <Text>API:</Text>\r\n              <GapTwo />\r\n              <Link href={'https://andrewmorris.io/'} target=\"_blank\">\r\n                andrewmorris.io\r\n              </Link>\r\n            </>\r\n          }\r\n        />\r\n      </BG>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): AppState => state;\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport './css/colours.css';\nimport App from './views';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { ConfigureStore, persistor } from './store';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nconst store = ConfigureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    {/* <PersistGate loading={null} persistor={persistor(store)}> */}\n    <App />\n    {/* </PersistGate> */}\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}